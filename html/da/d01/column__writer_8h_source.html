<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ppl_util: /Users/dabowang/be_all/olap/rowset/segment_v2/column_writer.h 源文件</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ppl_util
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_8eac97cde2fee0634bdd38dda0a21780.html">be_all</a></li><li class="navelem"><a class="el" href="../../dir_fd13cd9924173dabc19edd1b98708655.html">olap</a></li><li class="navelem"><a class="el" href="../../dir_7b769e92145a79526887c3d1084dd9e6.html">rowset</a></li><li class="navelem"><a class="el" href="../../dir_e0285e53f4afebe74b59fa495a465769.html">segment_v2</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">column_writer.h</div></div>
</div><!--header-->
<div class="contents">
<a href="../../da/d01/column__writer_8h.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Licensed to the Apache Software Foundation (ASF) under one</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// or more contributor license agreements.  See the NOTICE file</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// distributed with this work for additional information</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">// regarding copyright ownership.  The ASF licenses this file</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">// to you under the Apache License, Version 2.0 (the</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">// &quot;License&quot;); you may not use this file except in compliance</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">// with the License.  You may obtain a copy of the License at</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">//</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">//   http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">//</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">// Unless required by applicable law or agreed to in writing,</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">// software distributed under the License is distributed on an</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">// &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">// KIND, either express or implied.  See the License for the</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">// specific language governing permissions and limitations</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">// under the License.</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;memory&gt;</span> <span class="comment">// for unique_ptr</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="../../d1/d13/status_8h.html">common/status.h</a>&quot;</span>         <span class="comment">// for Status</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;gen_cpp/segment_v2.pb.h&quot;</span> <span class="comment">// for EncodingTypePB</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="../../db/d64/inverted__index__parser_8h.html">olap/inverted_index_parser.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="../../dc/d54/common_8h.html">olap/rowset/segment_v2/common.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="../../de/d50/page__pointer_8h.html">olap/rowset/segment_v2/page_pointer.h</a>&quot;</span> <span class="comment">// for PagePointer</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="../../d4/da2/tablet__schema_8h.html">olap/tablet_schema.h</a>&quot;</span>                  <span class="comment">// for TabletColumn</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="../../da/dcb/bitmap_8h.html">util/bitmap.h</a>&quot;</span>                         <span class="comment">// for BitmapChange</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="../../d0/d48/slice_8h.html">util/slice.h</a>&quot;</span>                          <span class="comment">// for OwnedSlice</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d6/d94/namespacedoris.html">doris</a> {</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span> </div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="keyword">class </span>TypeInfo;</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="keyword">class </span>BlockCompressionCodec;</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="keyword">namespace </span>io {</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="keyword">class </span>FileWriter;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>}</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="keyword">namespace </span>segment_v2 {</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html">   42</a></span><span class="keyword">struct </span><a class="code hl_struct" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html">ColumnWriterOptions</a> {</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    <span class="comment">// input and output parameter:</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <span class="comment">// - input: column_id/unique_id/type/length/encoding/compression/is_nullable members</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    <span class="comment">// - output: encoding/indexes/dict_page members</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#adebc58ec62c734223b10c5c6ab6a06eb">   46</a></span>    ColumnMetaPB* <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#adebc58ec62c734223b10c5c6ab6a06eb">meta</a>;</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a0e4215735914715237cf19ca79d16d10">   47</a></span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a0e4215735914715237cf19ca79d16d10">data_page_size</a> = 64 * 1024;</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <span class="comment">// store compressed page only when space saving is above the threshold.</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <span class="comment">// space saving = 1 - compressed_size / uncompressed_size</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a7ddd1551c67e67087f5b4607502ccf4a">   50</a></span>    <span class="keywordtype">double</span> <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a7ddd1551c67e67087f5b4607502ccf4a">compression_min_space_saving</a> = 0.1;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a1bd421156df7c5a585ba690790702147">   51</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a1bd421156df7c5a585ba690790702147">need_zone_map</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#aabbb6a9d530eec16f25b0f881c1b4255">   52</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#aabbb6a9d530eec16f25b0f881c1b4255">need_bitmap_index</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a0d4fc30a9457427b8c6057b39fc0bd48">   53</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a0d4fc30a9457427b8c6057b39fc0bd48">need_bloom_filter</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a4b877e1e8ab5e94eb00d2a32d0fdba9c">   54</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a4b877e1e8ab5e94eb00d2a32d0fdba9c">is_ngram_bf_index</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a01a11efa06e2e3005fccc674abf7eb2a">   55</a></span>    uint8_t <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a01a11efa06e2e3005fccc674abf7eb2a">gram_size</a>;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a8683dfb575640c5f79c9c034121a7664">   56</a></span>    uint16_t <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a8683dfb575640c5f79c9c034121a7664">gram_bf_size</a>;</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#ac72a53eb943278817a2456fa59373c07">   57</a></span>    std::vector&lt;const TabletIndex*&gt; <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#ac72a53eb943278817a2456fa59373c07">indexes</a>;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#afa8d164ccd5111109bcd25ea14b6ca3a">   58</a></span>    <span class="keyword">const</span> <a class="code hl_class" href="../../d1/da0/classdoris_1_1_tablet_index.html">TabletIndex</a>* <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#afa8d164ccd5111109bcd25ea14b6ca3a">inverted_index</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#aac993ecccd3d88aafefb6b8e3caa1dee">   59</a></span>    std::string <a class="code hl_function" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#aac993ecccd3d88aafefb6b8e3caa1dee">to_string</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>        std::stringstream ss;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>        ss &lt;&lt; std::boolalpha &lt;&lt; <span class="stringliteral">&quot;meta=&quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#adebc58ec62c734223b10c5c6ab6a06eb">meta</a>-&gt;DebugString()</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>           &lt;&lt; <span class="stringliteral">&quot;, data_page_size=&quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a0e4215735914715237cf19ca79d16d10">data_page_size</a></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>           &lt;&lt; <span class="stringliteral">&quot;, compression_min_space_saving = &quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a7ddd1551c67e67087f5b4607502ccf4a">compression_min_space_saving</a></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>           &lt;&lt; <span class="stringliteral">&quot;, need_zone_map=&quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a1bd421156df7c5a585ba690790702147">need_zone_map</a> &lt;&lt; <span class="stringliteral">&quot;, need_bitmap_index=&quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#aabbb6a9d530eec16f25b0f881c1b4255">need_bitmap_index</a></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>           &lt;&lt; <span class="stringliteral">&quot;, need_bloom_filter&quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a0d4fc30a9457427b8c6057b39fc0bd48">need_bloom_filter</a>;</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>        <span class="keywordflow">return</span> ss.str();</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    }</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>};</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="keyword">class </span>BitmapIndexWriter;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="keyword">class </span>InvertedIndexColumnWriter;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="keyword">class </span>EncodingInfo;</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="keyword">class </span>NullBitmapBuilder;</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="keyword">class </span>OrdinalIndexWriter;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="keyword">class </span>PageBuilder;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="keyword">class </span>BloomFilterIndexWriter;</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="keyword">class </span>ZoneMapIndexWriter;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html">   79</a></span><span class="keyword">class </span><a class="code hl_class" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html">ColumnWriter</a> {</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <span class="keyword">static</span> <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a6cb958085a0e31bf0fa475d9f9b20d33">create</a>(<span class="keyword">const</span> <a class="code hl_struct" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html">ColumnWriterOptions</a>&amp; opts, <span class="keyword">const</span> <a class="code hl_class" href="../../d8/d28/classdoris_1_1_tablet_column.html">TabletColumn</a>* column,</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>                         <a class="code hl_class" href="../../d4/d4b/classdoris_1_1io_1_1_file_writer.html">io::FileWriter</a>* file_writer, std::unique_ptr&lt;ColumnWriter&gt;* writer);</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a13a8bf488514d4d252ee81fbe9ca5738">   84</a></span>    <span class="keyword">explicit</span> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a13a8bf488514d4d252ee81fbe9ca5738">ColumnWriter</a>(std::unique_ptr&lt;Field&gt; field, <span class="keywordtype">bool</span> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a383b4bf9fa5747435372f741fd1747f3">is_nullable</a>)</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>            : <a class="code hl_variable" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#ad29e691b99dce07a7f7e00932e7fe3f1">_field</a>(std::move(field)), <a class="code hl_variable" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a1a279717e7cbd0fd2f8ef16a2c82ce98">_is_nullable</a>(<a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a383b4bf9fa5747435372f741fd1747f3">is_nullable</a>) {}</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#ad6dd3a3a0a6fbcdae082ec0b19740f5a">   87</a></span>    <span class="keyword">virtual</span> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#ad6dd3a3a0a6fbcdae082ec0b19740f5a">~ColumnWriter</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#ab2f77770a6c9c118512d8969992c6add">   89</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#ab2f77770a6c9c118512d8969992c6add">init</a>() = 0;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> CellType&gt;</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a688db19a8802adab5d4d8cb802c261b0">   92</a></span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a688db19a8802adab5d4d8cb802c261b0">append</a>(<span class="keyword">const</span> CellType&amp; cell) {</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a1a279717e7cbd0fd2f8ef16a2c82ce98">_is_nullable</a>) {</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>            uint8_t nullmap = 0;</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>            <a class="code hl_function" href="../../d6/d94/namespacedoris.html#a9a0ed2032b24a9fb9e8df7cbf00bdcb9">BitmapChange</a>(&amp;nullmap, 0, cell.is_null());</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a5e3a34575f5b5bf6e01f5f9a2ae1a339">append_nullable</a>(&amp;nullmap, cell.cell_ptr(), 1);</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>            <span class="keyword">auto</span>* cel_ptr = cell.cell_ptr();</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a121af5a5dc45d10bcf184d2d484b8655">append_data</a>((<span class="keyword">const</span> uint8_t**)&amp;cel_ptr, 1);</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>        }</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    }</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="comment">// Now we only support append one by one, we should support append</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <span class="comment">// multi rows in one call</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#af3a932a1a3a70b4cc701d1a1f698ac98">  105</a></span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#af3a932a1a3a70b4cc701d1a1f698ac98">append</a>(<span class="keywordtype">bool</span> is_null, <span class="keywordtype">void</span>* <a class="code hl_variable" href="../../d5/d29/uint24_8h.html#aa99be7b8b4274b2256b394ea7bf80762">data</a>) {</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>        uint8_t nullmap = 0;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>        <a class="code hl_function" href="../../d6/d94/namespacedoris.html#a9a0ed2032b24a9fb9e8df7cbf00bdcb9">BitmapChange</a>(&amp;nullmap, 0, is_null);</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a5e3a34575f5b5bf6e01f5f9a2ae1a339">append_nullable</a>(&amp;nullmap, <a class="code hl_variable" href="../../d5/d29/uint24_8h.html#aa99be7b8b4274b2256b394ea7bf80762">data</a>, 1);</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    }</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a688db19a8802adab5d4d8cb802c261b0">append</a>(<span class="keyword">const</span> uint8_t* nullmap, <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code hl_variable" href="../../d5/d29/uint24_8h.html#aa99be7b8b4274b2256b394ea7bf80762">data</a>, <span class="keywordtype">size_t</span> num_rows);</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a5e3a34575f5b5bf6e01f5f9a2ae1a339">append_nullable</a>(<span class="keyword">const</span> uint8_t* nullmap, <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code hl_variable" href="../../d5/d29/uint24_8h.html#aa99be7b8b4274b2256b394ea7bf80762">data</a>, <span class="keywordtype">size_t</span> num_rows);</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="comment">// use only in vectorized load</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a5e3a34575f5b5bf6e01f5f9a2ae1a339">append_nullable</a>(<span class="keyword">const</span> uint8_t* null_map, <span class="keyword">const</span> uint8_t** <a class="code hl_variable" href="../../d5/d29/uint24_8h.html#aa99be7b8b4274b2256b394ea7bf80762">data</a>, <span class="keywordtype">size_t</span> num_rows);</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span> </div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a8d4f855acb7f978106c59646e6dabdc8">  118</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a8d4f855acb7f978106c59646e6dabdc8">append_nulls</a>(<span class="keywordtype">size_t</span> num_rows) = 0;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a6e20bf56a3a6b201e1f6b3dd869f5098">  120</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a6e20bf56a3a6b201e1f6b3dd869f5098">finish_current_page</a>() = 0;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span> </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a085f706aefa17b590dbd139fd10d9374">  122</a></span>    <span class="keyword">virtual</span> uint64_t <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a085f706aefa17b590dbd139fd10d9374">estimate_buffer_size</a>() = 0;</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="comment">// finish append data</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a73c2c7b26af4034e369697f05853c81b">  125</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a73c2c7b26af4034e369697f05853c81b">finish</a>() = 0;</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="comment">// write all data into file</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#aa3eda65e0479bb8fc481c28dd975ee88">  128</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#aa3eda65e0479bb8fc481c28dd975ee88">write_data</a>() = 0;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span> </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#aff4b649d245661ef1a9dbf99acaad0cc">  130</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#aff4b649d245661ef1a9dbf99acaad0cc">write_ordinal_index</a>() = 0;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span> </div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a52ba5aa0929d2cf568caa4c61661ca3a">  132</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a52ba5aa0929d2cf568caa4c61661ca3a">write_zone_map</a>() = 0;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a1843a28bad7d24390776d72f8105fd2c">  134</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a1843a28bad7d24390776d72f8105fd2c">write_bitmap_index</a>() = 0;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span> </div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a02ca8c1310ed66ae74b7993f5cd91bbd">  136</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a02ca8c1310ed66ae74b7993f5cd91bbd">write_inverted_index</a>() = 0;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a013007a97e046cf9933b8cb31ebb342c">  138</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a013007a97e046cf9933b8cb31ebb342c">write_bloom_filter_index</a>() = 0;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a313e7bf2db3241cab2c57c1d0466abe0">  140</a></span>    <span class="keyword">virtual</span> <a class="code hl_typedef" href="../../d3/d11/namespacedoris_1_1segment__v2.html#a6304ee7c492e3553f47385124238bf8e">ordinal_t</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a313e7bf2db3241cab2c57c1d0466abe0">get_next_rowid</a>() <span class="keyword">const</span> = 0;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="comment">// used for append not null data.</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a121af5a5dc45d10bcf184d2d484b8655">  143</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a121af5a5dc45d10bcf184d2d484b8655">append_data</a>(<span class="keyword">const</span> uint8_t** ptr, <span class="keywordtype">size_t</span> num_rows) = 0;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span> </div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a383b4bf9fa5747435372f741fd1747f3">  145</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a383b4bf9fa5747435372f741fd1747f3">is_nullable</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a1a279717e7cbd0fd2f8ef16a2c82ce98">_is_nullable</a>; }</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span> </div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#aaba6d5a8ba7e89f42d49ab26d764bb98">  147</a></span>    <a class="code hl_class" href="../../de/d5b/classdoris_1_1_field.html">Field</a>* <a class="code hl_function" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#aaba6d5a8ba7e89f42d49ab26d764bb98">get_field</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#ad29e691b99dce07a7f7e00932e7fe3f1">_field</a>.get(); }</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span> </div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#ad29e691b99dce07a7f7e00932e7fe3f1">  150</a></span>    std::unique_ptr&lt;Field&gt; <a class="code hl_variable" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#ad29e691b99dce07a7f7e00932e7fe3f1">_field</a>;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a1a279717e7cbd0fd2f8ef16a2c82ce98">  151</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a1a279717e7cbd0fd2f8ef16a2c82ce98">_is_nullable</a>;</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno"><a class="line" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a808b530660cce82f7781d6d6648a634f">  152</a></span>    std::vector&lt;uint8_t&gt; <a class="code hl_variable" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a808b530660cce82f7781d6d6648a634f">_null_bitmap</a>;</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>};</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span> </div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno"><a class="line" href="../../d5/d46/classdoris_1_1segment__v2_1_1_flush_page_callback.html">  155</a></span><span class="keyword">class </span><a class="code hl_class" href="../../d5/d46/classdoris_1_1segment__v2_1_1_flush_page_callback.html">FlushPageCallback</a> {</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno"><a class="line" href="../../d5/d46/classdoris_1_1segment__v2_1_1_flush_page_callback.html#adf95cd80028df586abb3f709e824f054">  157</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d5/d46/classdoris_1_1segment__v2_1_1_flush_page_callback.html#adf95cd80028df586abb3f709e824f054">put_extra_info_in_page</a>(DataPageFooterPB* footer) { <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d8d/classdoris_1_1_status.html#a6ec1a217f203269ab53d2290d602db24">Status::OK</a>(); }</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>};</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span><span class="comment">// Encode one column&#39;s data into some memory slice.</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span><span class="comment">// Because some columns would be stored in a file, we should wait</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="comment">// until all columns has been finished, and then data can be written</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span><span class="comment">// to file</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html">  164</a></span><span class="keyword">class </span><a class="code hl_class" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html">ScalarColumnWriter</a> final : <span class="keyword">public</span> <a class="code hl_class" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html">ColumnWriter</a> {</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <a class="code hl_class" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html">ScalarColumnWriter</a>(<span class="keyword">const</span> <a class="code hl_struct" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html">ColumnWriterOptions</a>&amp; opts, std::unique_ptr&lt;Field&gt; field,</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>                       <a class="code hl_class" href="../../d4/d4b/classdoris_1_1io_1_1_file_writer.html">io::FileWriter</a>* file_writer);</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ad7e47f3093b9666cbe849796898cc3b4">~ScalarColumnWriter</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a0142844ee6c98e6bdd1e728c48f1445e">init</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ada92bb61c523c6d0e3041783686bf07a">append_nulls</a>(<span class="keywordtype">size_t</span> num_rows) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a55c91ed38a23ba30bbe59ff772c87854">finish_current_page</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span> </div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    uint64_t <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a34bb060376ee854b41a3fe31c3cb04d6">estimate_buffer_size</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span> </div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <span class="comment">// finish append data</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ad040292e932cc1c1ff2043dfc48c864d">finish</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a35b4d453b60cfd634338ad378c8539cc">write_data</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ad2d35d822ffa5b8d7ab45342dda355bc">write_ordinal_index</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ab29e1a909155fca767afe95a2f7d14fc">write_zone_map</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#acaee11106bacd9e7f2f73dee39b652ba">write_bitmap_index</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a92cf767ddaf1b2c5dc0b0fea6668e2aa">write_inverted_index</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#af5966baf6cfa5fa715aa7b686ccc7fdd">write_bloom_filter_index</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a538114ab17e713407a95c1e5e266b7fe">  188</a></span>    <a class="code hl_typedef" href="../../d3/d11/namespacedoris_1_1segment__v2.html#a6304ee7c492e3553f47385124238bf8e">ordinal_t</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a538114ab17e713407a95c1e5e266b7fe">get_next_rowid</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#af9f6bec9ec71f312a5ea4b56ce99f608">_next_rowid</a>; }</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a97de3d1ea294225a1b5e2e676cc29828">  190</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a97de3d1ea294225a1b5e2e676cc29828">register_flush_page_callback</a>(<a class="code hl_class" href="../../d5/d46/classdoris_1_1segment__v2_1_1_flush_page_callback.html">FlushPageCallback</a>* flush_page_callback) {</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>        <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a56820af52b8c3c78b76953fab7117908">_new_page_callback</a> = flush_page_callback;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    }</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#aff942b80d87cc0b7fe6a016a62419fc0">append_data</a>(<span class="keyword">const</span> uint8_t** ptr, <span class="keywordtype">size_t</span> num_rows) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span> </div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="comment">// used for append not null data. When page is full, will append data not reach num_rows.</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a076b154ffa05775e3d8f12bcf7a61bf7">append_data_in_current_page</a>(<span class="keyword">const</span> uint8_t** ptr, <span class="keywordtype">size_t</span>* num_written);</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a076b154ffa05775e3d8f12bcf7a61bf7">append_data_in_current_page</a>(<span class="keyword">const</span> uint8_t* ptr, <span class="keywordtype">size_t</span>* num_written);</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ac418b7ca6900391d56701ab1a23191f1">  199</a></span>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code hl_class" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html">ArrayColumnWriter</a>;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a7692887264ce76803ef5e36e3d94e150">  202</a></span>    std::unique_ptr&lt;PageBuilder&gt; <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a7692887264ce76803ef5e36e3d94e150">_page_builder</a>;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a432611aa03a500309a2388fe883f3d16">  204</a></span>    std::unique_ptr&lt;NullBitmapBuilder&gt; <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a432611aa03a500309a2388fe883f3d16">_null_bitmap_builder</a>;</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a63cfc7cb999964710c7e4e61f9199d6c">  206</a></span>    <a class="code hl_struct" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html">ColumnWriterOptions</a> <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a63cfc7cb999964710c7e4e61f9199d6c">_opts</a>;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span> </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a93c7f48a8f3fa7bba228df3545db1d6a">  208</a></span>    <span class="keyword">const</span> <a class="code hl_class" href="../../dd/d4c/classdoris_1_1segment__v2_1_1_encoding_info.html">EncodingInfo</a>* <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a93c7f48a8f3fa7bba228df3545db1d6a">_encoding_info</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#af9f6bec9ec71f312a5ea4b56ce99f608">  210</a></span>    <a class="code hl_typedef" href="../../d3/d11/namespacedoris_1_1segment__v2.html#a6304ee7c492e3553f47385124238bf8e">ordinal_t</a> <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#af9f6bec9ec71f312a5ea4b56ce99f608">_next_rowid</a> = 0;</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span> </div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <span class="comment">// All Pages will be organized into a linked list</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno"><a class="line" href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html">  213</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html">Page</a> {</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        <span class="comment">// the data vector may contain:</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        <span class="comment">//     1. one OwnedSlice if the page body is compressed</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        <span class="comment">//     2. one OwnedSlice if the page body is not compressed and doesn&#39;t have nullmap</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>        <span class="comment">//     3. two OwnedSlice if the page body is not compressed and has nullmap</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>        <span class="comment">// use vector for easier management for lifetime of OwnedSlice</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno"><a class="line" href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html#ac74f2bf047642e3b76e5144c06226869">  219</a></span>        std::vector&lt;OwnedSlice&gt; <a class="code hl_variable" href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html#ac74f2bf047642e3b76e5144c06226869">data</a>;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno"><a class="line" href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html#a4c270fdb9ed832dbabaf2594b92fed8c">  220</a></span>        PageFooterPB <a class="code hl_variable" href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html#a4c270fdb9ed832dbabaf2594b92fed8c">footer</a>;</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno"><a class="line" href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html#aaab76a399b95d2d6fe7cacb0197fa83a">  221</a></span>        <a class="code hl_struct" href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html">Page</a>* <a class="code hl_variable" href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html#aaab76a399b95d2d6fe7cacb0197fa83a">next</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    };</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span> </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno"><a class="line" href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html">  224</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html">PageHead</a> {</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno"><a class="line" href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html#aed964c707665191683447d59355098e3">  225</a></span>        <a class="code hl_struct" href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html">Page</a>* <a class="code hl_variable" href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html#aed964c707665191683447d59355098e3">head</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno"><a class="line" href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html#a5e7c1ad684a6aabb34fcbf90b88c56c6">  226</a></span>        <a class="code hl_struct" href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html">Page</a>* <a class="code hl_variable" href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html#a5e7c1ad684a6aabb34fcbf90b88c56c6">tail</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    };</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span> </div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a38f191e83892953b72b0126a4f7bc64c">  229</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a38f191e83892953b72b0126a4f7bc64c">_push_back_page</a>(<a class="code hl_struct" href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html">Page</a>* page) {</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        <span class="comment">// add page to pages&#39; tail</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#aa629653c09b85082d9454f934c3b64e1">_pages</a>.<a class="code hl_variable" href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html#a5e7c1ad684a6aabb34fcbf90b88c56c6">tail</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>            <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#aa629653c09b85082d9454f934c3b64e1">_pages</a>.<a class="code hl_variable" href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html#a5e7c1ad684a6aabb34fcbf90b88c56c6">tail</a>-&gt;<a class="code hl_variable" href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html#aaab76a399b95d2d6fe7cacb0197fa83a">next</a> = page;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>        }</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#aa629653c09b85082d9454f934c3b64e1">_pages</a>.<a class="code hl_variable" href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html#a5e7c1ad684a6aabb34fcbf90b88c56c6">tail</a> = page;</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#aa629653c09b85082d9454f934c3b64e1">_pages</a>.<a class="code hl_variable" href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html#aed964c707665191683447d59355098e3">head</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>            <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#aa629653c09b85082d9454f934c3b64e1">_pages</a>.<a class="code hl_variable" href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html#aed964c707665191683447d59355098e3">head</a> = page;</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>        }</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; data_slice : page-&gt;<a class="code hl_variable" href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html#ac74f2bf047642e3b76e5144c06226869">data</a>) {</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>            <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ae6529dd93f77de0f80fc521c1d30f815">_data_size</a> += data_slice.slice().size;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        }</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>        <span class="comment">// estimate (page footer + footer size + checksum) took 20 bytes</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ae6529dd93f77de0f80fc521c1d30f815">_data_size</a> += 20;</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    }</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span> </div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a4937ba64d49cfa7a058c07a31e3ed64b">_write_data_page</a>(Page* page);</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span> </div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a701aff32e16125760fe20d9703b6cbbd">  248</a></span>    <a class="code hl_class" href="../../d4/d4b/classdoris_1_1io_1_1_file_writer.html">io::FileWriter</a>* <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a701aff32e16125760fe20d9703b6cbbd">_file_writer</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    <span class="comment">// total size of data page list</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ae6529dd93f77de0f80fc521c1d30f815">  250</a></span>    uint64_t <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ae6529dd93f77de0f80fc521c1d30f815">_data_size</a>;</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <span class="comment">// cached generated pages,</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#aa629653c09b85082d9454f934c3b64e1">  253</a></span>    <a class="code hl_struct" href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html">PageHead</a> <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#aa629653c09b85082d9454f934c3b64e1">_pages</a>;</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a21a0b789bd49c46f3396bf5453c0e5b5">  254</a></span>    <a class="code hl_typedef" href="../../d3/d11/namespacedoris_1_1segment__v2.html#a6304ee7c492e3553f47385124238bf8e">ordinal_t</a> <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a21a0b789bd49c46f3396bf5453c0e5b5">_first_rowid</a> = 0;</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span> </div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a6265a2da4d087124fb6dcedf63120663">  256</a></span>    <a class="code hl_class" href="../../db/da6/classdoris_1_1_block_compression_codec.html">BlockCompressionCodec</a>* <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a6265a2da4d087124fb6dcedf63120663">_compress_codec</a>;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span> </div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a1989b57a838c708d2cdef18e3187efee">  258</a></span>    std::unique_ptr&lt;OrdinalIndexWriter&gt; <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a1989b57a838c708d2cdef18e3187efee">_ordinal_index_builder</a>;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a38eb543076d5363f879787ec3745ddff">  259</a></span>    std::unique_ptr&lt;ZoneMapIndexWriter&gt; <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a38eb543076d5363f879787ec3745ddff">_zone_map_index_builder</a>;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ad51796dd917fbcace0c8b6778cd5c384">  260</a></span>    std::unique_ptr&lt;BitmapIndexWriter&gt; <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ad51796dd917fbcace0c8b6778cd5c384">_bitmap_index_builder</a>;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a36006116856787c2561f92ffa6faeaca">  261</a></span>    std::unique_ptr&lt;InvertedIndexColumnWriter&gt; <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a36006116856787c2561f92ffa6faeaca">_inverted_index_builder</a>;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ab1dafa4be73aa6d11e633f7b393eae07">  262</a></span>    std::unique_ptr&lt;BloomFilterIndexWriter&gt; <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ab1dafa4be73aa6d11e633f7b393eae07">_bloom_filter_index_builder</a>;</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    <span class="comment">// call before flush data page.</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno"><a class="line" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a56820af52b8c3c78b76953fab7117908">  265</a></span>    <a class="code hl_class" href="../../d5/d46/classdoris_1_1segment__v2_1_1_flush_page_callback.html">FlushPageCallback</a>* <a class="code hl_variable" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a56820af52b8c3c78b76953fab7117908">_new_page_callback</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>};</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno"><a class="line" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html">  268</a></span><span class="keyword">class </span><a class="code hl_class" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html">ArrayColumnWriter</a> final : <span class="keyword">public</span> <a class="code hl_class" href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html">ColumnWriter</a>, <span class="keyword">public</span> <a class="code hl_class" href="../../d5/d46/classdoris_1_1segment__v2_1_1_flush_page_callback.html">FlushPageCallback</a> {</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <span class="keyword">explicit</span> <a class="code hl_class" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html">ArrayColumnWriter</a>(<span class="keyword">const</span> <a class="code hl_struct" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html">ColumnWriterOptions</a>&amp; opts, std::unique_ptr&lt;Field&gt; field,</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>                               <a class="code hl_class" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html">ScalarColumnWriter</a>* offset_writer, <a class="code hl_class" href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html">ScalarColumnWriter</a>* null_writer,</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>                               std::unique_ptr&lt;ColumnWriter&gt; item_writer);</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno"><a class="line" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a53362282865d4e4fcdd31712bec1c8eb">  273</a></span>    <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a53362282865d4e4fcdd31712bec1c8eb">~ArrayColumnWriter</a>() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span> </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a0142844ee6c98e6bdd1e728c48f1445e">init</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span> </div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#aff942b80d87cc0b7fe6a016a62419fc0">append_data</a>(<span class="keyword">const</span> uint8_t** ptr, <span class="keywordtype">size_t</span> num_rows) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span> </div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    uint64_t <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a34bb060376ee854b41a3fe31c3cb04d6">estimate_buffer_size</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span> </div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#ad040292e932cc1c1ff2043dfc48c864d">finish</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a35b4d453b60cfd634338ad378c8539cc">write_data</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#ad2d35d822ffa5b8d7ab45342dda355bc">write_ordinal_index</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#ada92bb61c523c6d0e3041783686bf07a">append_nulls</a>(<span class="keywordtype">size_t</span> num_rows) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span> </div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a55c91ed38a23ba30bbe59ff772c87854">finish_current_page</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno"><a class="line" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#ab29e1a909155fca767afe95a2f7d14fc">  288</a></span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#ab29e1a909155fca767afe95a2f7d14fc">write_zone_map</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a63cfc7cb999964710c7e4e61f9199d6c">_opts</a>.<a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a1bd421156df7c5a585ba690790702147">need_zone_map</a>) {</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>            <span class="keywordflow">return</span> Status::NotSupported(<span class="stringliteral">&quot;array not support zone map&quot;</span>);</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        }</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d8d/classdoris_1_1_status.html#a6ec1a217f203269ab53d2290d602db24">Status::OK</a>();</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    }</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno"><a class="line" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#acaee11106bacd9e7f2f73dee39b652ba">  295</a></span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#acaee11106bacd9e7f2f73dee39b652ba">write_bitmap_index</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a63cfc7cb999964710c7e4e61f9199d6c">_opts</a>.<a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#aabbb6a9d530eec16f25b0f881c1b4255">need_bitmap_index</a>) {</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>            <span class="keywordflow">return</span> Status::NotSupported(<span class="stringliteral">&quot;array not support bitmap index&quot;</span>);</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        }</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d8d/classdoris_1_1_status.html#a6ec1a217f203269ab53d2290d602db24">Status::OK</a>();</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    }</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a92cf767ddaf1b2c5dc0b0fea6668e2aa">write_inverted_index</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno"><a class="line" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#af5966baf6cfa5fa715aa7b686ccc7fdd">  302</a></span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#af5966baf6cfa5fa715aa7b686ccc7fdd">write_bloom_filter_index</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a63cfc7cb999964710c7e4e61f9199d6c">_opts</a>.<a class="code hl_variable" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a0d4fc30a9457427b8c6057b39fc0bd48">need_bloom_filter</a>) {</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>            <span class="keywordflow">return</span> Status::NotSupported(<span class="stringliteral">&quot;array not support bloom filter index&quot;</span>);</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>        }</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d8d/classdoris_1_1_status.html#a6ec1a217f203269ab53d2290d602db24">Status::OK</a>();</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno"><a class="line" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a538114ab17e713407a95c1e5e266b7fe">  308</a></span>    <a class="code hl_typedef" href="../../d3/d11/namespacedoris_1_1segment__v2.html#a6304ee7c492e3553f47385124238bf8e">ordinal_t</a> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a538114ab17e713407a95c1e5e266b7fe">get_next_rowid</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a58b65b9aa5fbbc39e8e13cefe602ef43">_offset_writer</a>-&gt;get_next_rowid(); }</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span> </div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#ad361889a70160220a1457c855b1f9051">put_extra_info_in_page</a>(DataPageFooterPB* header) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#ae674b5f7510a082ab13d88ef84d39c29">write_null_column</a>(<span class="keywordtype">size_t</span> num_rows, <span class="keywordtype">bool</span> is_null); <span class="comment">// 写入num_rows个null标记</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno"><a class="line" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a99de58a23e5b4d679c305c0c09b1a797">  313</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a99de58a23e5b4d679c305c0c09b1a797">has_empty_items</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a6864b37b3f48ae0f1b6e5ad396fec75d">_item_writer</a>-&gt;get_next_rowid() == 0; }</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno"><a class="line" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a58b65b9aa5fbbc39e8e13cefe602ef43">  316</a></span>    std::unique_ptr&lt;ScalarColumnWriter&gt; <a class="code hl_variable" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a58b65b9aa5fbbc39e8e13cefe602ef43">_offset_writer</a>;</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno"><a class="line" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a061bc14065904e942bb8e9e8e0fb5a17">  317</a></span>    std::unique_ptr&lt;ScalarColumnWriter&gt; <a class="code hl_variable" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a061bc14065904e942bb8e9e8e0fb5a17">_null_writer</a>;</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno"><a class="line" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a6864b37b3f48ae0f1b6e5ad396fec75d">  318</a></span>    std::unique_ptr&lt;ColumnWriter&gt; <a class="code hl_variable" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a6864b37b3f48ae0f1b6e5ad396fec75d">_item_writer</a>;</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno"><a class="line" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a36006116856787c2561f92ffa6faeaca">  319</a></span>    std::unique_ptr&lt;InvertedIndexColumnWriter&gt; <a class="code hl_variable" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a36006116856787c2561f92ffa6faeaca">_inverted_index_builder</a>;</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno"><a class="line" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a63cfc7cb999964710c7e4e61f9199d6c">  320</a></span>    <a class="code hl_struct" href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html">ColumnWriterOptions</a> <a class="code hl_variable" href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a63cfc7cb999964710c7e4e61f9199d6c">_opts</a>;</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>};</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span> </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>} <span class="comment">// namespace segment_v2</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>} <span class="comment">// namespace doris</span></div>
<div class="ttc" id="abitmap_8h_html"><div class="ttname"><a href="../../da/dcb/bitmap_8h.html">bitmap.h</a></div></div>
<div class="ttc" id="aclassdoris_1_1_block_compression_codec_html"><div class="ttname"><a href="../../db/da6/classdoris_1_1_block_compression_codec.html">doris::BlockCompressionCodec</a></div><div class="ttdef"><b>Definition:</b> block_compression.h:41</div></div>
<div class="ttc" id="aclassdoris_1_1_field_html"><div class="ttname"><a href="../../de/d5b/classdoris_1_1_field.html">doris::Field</a></div><div class="ttdef"><b>Definition:</b> field.h:40</div></div>
<div class="ttc" id="aclassdoris_1_1_status_html"><div class="ttname"><a href="../../d9/d8d/classdoris_1_1_status.html">doris::Status</a></div><div class="ttdef"><b>Definition:</b> status.h:285</div></div>
<div class="ttc" id="aclassdoris_1_1_status_html_a6ec1a217f203269ab53d2290d602db24"><div class="ttname"><a href="../../d9/d8d/classdoris_1_1_status.html#a6ec1a217f203269ab53d2290d602db24">doris::Status::OK</a></div><div class="ttdeci">static Status OK()</div><div class="ttdef"><b>Definition:</b> status.h:362</div></div>
<div class="ttc" id="aclassdoris_1_1_tablet_column_html"><div class="ttname"><a href="../../d8/d28/classdoris_1_1_tablet_column.html">doris::TabletColumn</a></div><div class="ttdef"><b>Definition:</b> tablet_schema.h:36</div></div>
<div class="ttc" id="aclassdoris_1_1_tablet_index_html"><div class="ttname"><a href="../../d1/da0/classdoris_1_1_tablet_index.html">doris::TabletIndex</a></div><div class="ttdef"><b>Definition:</b> tablet_schema.h:133</div></div>
<div class="ttc" id="aclassdoris_1_1io_1_1_file_writer_html"><div class="ttname"><a href="../../d4/d4b/classdoris_1_1io_1_1_file_writer.html">doris::io::FileWriter</a></div><div class="ttdef"><b>Definition:</b> file_writer.h:31</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html">doris::segment_v2::ArrayColumnWriter</a></div><div class="ttdef"><b>Definition:</b> column_writer.h:268</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_a0142844ee6c98e6bdd1e728c48f1445e"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a0142844ee6c98e6bdd1e728c48f1445e">doris::segment_v2::ArrayColumnWriter::init</a></div><div class="ttdeci">Status init() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:557</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_a061bc14065904e942bb8e9e8e0fb5a17"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a061bc14065904e942bb8e9e8e0fb5a17">doris::segment_v2::ArrayColumnWriter::_null_writer</a></div><div class="ttdeci">std::unique_ptr&lt; ScalarColumnWriter &gt; _null_writer</div><div class="ttdef"><b>Definition:</b> column_writer.h:317</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_a34bb060376ee854b41a3fe31c3cb04d6"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a34bb060376ee854b41a3fe31c3cb04d6">doris::segment_v2::ArrayColumnWriter::estimate_buffer_size</a></div><div class="ttdeci">uint64_t estimate_buffer_size() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:635</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_a35b4d453b60cfd634338ad378c8539cc"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a35b4d453b60cfd634338ad378c8539cc">doris::segment_v2::ArrayColumnWriter::write_data</a></div><div class="ttdeci">Status write_data() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:650</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_a36006116856787c2561f92ffa6faeaca"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a36006116856787c2561f92ffa6faeaca">doris::segment_v2::ArrayColumnWriter::_inverted_index_builder</a></div><div class="ttdeci">std::unique_ptr&lt; InvertedIndexColumnWriter &gt; _inverted_index_builder</div><div class="ttdef"><b>Definition:</b> column_writer.h:319</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_a53362282865d4e4fcdd31712bec1c8eb"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a53362282865d4e4fcdd31712bec1c8eb">doris::segment_v2::ArrayColumnWriter::~ArrayColumnWriter</a></div><div class="ttdeci">~ArrayColumnWriter() override=default</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_a538114ab17e713407a95c1e5e266b7fe"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a538114ab17e713407a95c1e5e266b7fe">doris::segment_v2::ArrayColumnWriter::get_next_rowid</a></div><div class="ttdeci">ordinal_t get_next_rowid() const override</div><div class="ttdef"><b>Definition:</b> column_writer.h:308</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_a55c91ed38a23ba30bbe59ff772c87854"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a55c91ed38a23ba30bbe59ff772c87854">doris::segment_v2::ArrayColumnWriter::finish_current_page</a></div><div class="ttdeci">Status finish_current_page() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:693</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_a58b65b9aa5fbbc39e8e13cefe602ef43"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a58b65b9aa5fbbc39e8e13cefe602ef43">doris::segment_v2::ArrayColumnWriter::_offset_writer</a></div><div class="ttdeci">std::unique_ptr&lt; ScalarColumnWriter &gt; _offset_writer</div><div class="ttdef"><b>Definition:</b> column_writer.h:316</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_a63cfc7cb999964710c7e4e61f9199d6c"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a63cfc7cb999964710c7e4e61f9199d6c">doris::segment_v2::ArrayColumnWriter::_opts</a></div><div class="ttdeci">ColumnWriterOptions _opts</div><div class="ttdef"><b>Definition:</b> column_writer.h:320</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_a6864b37b3f48ae0f1b6e5ad396fec75d"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a6864b37b3f48ae0f1b6e5ad396fec75d">doris::segment_v2::ArrayColumnWriter::_item_writer</a></div><div class="ttdeci">std::unique_ptr&lt; ColumnWriter &gt; _item_writer</div><div class="ttdef"><b>Definition:</b> column_writer.h:318</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_a92cf767ddaf1b2c5dc0b0fea6668e2aa"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a92cf767ddaf1b2c5dc0b0fea6668e2aa">doris::segment_v2::ArrayColumnWriter::write_inverted_index</a></div><div class="ttdeci">Status write_inverted_index() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:582</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_a99de58a23e5b4d679c305c0c09b1a797"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#a99de58a23e5b4d679c305c0c09b1a797">doris::segment_v2::ArrayColumnWriter::has_empty_items</a></div><div class="ttdeci">bool has_empty_items() const</div><div class="ttdef"><b>Definition:</b> column_writer.h:313</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_ab29e1a909155fca767afe95a2f7d14fc"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#ab29e1a909155fca767afe95a2f7d14fc">doris::segment_v2::ArrayColumnWriter::write_zone_map</a></div><div class="ttdeci">Status write_zone_map() override</div><div class="ttdef"><b>Definition:</b> column_writer.h:288</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_acaee11106bacd9e7f2f73dee39b652ba"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#acaee11106bacd9e7f2f73dee39b652ba">doris::segment_v2::ArrayColumnWriter::write_bitmap_index</a></div><div class="ttdeci">Status write_bitmap_index() override</div><div class="ttdef"><b>Definition:</b> column_writer.h:295</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_ad040292e932cc1c1ff2043dfc48c864d"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#ad040292e932cc1c1ff2043dfc48c864d">doris::segment_v2::ArrayColumnWriter::finish</a></div><div class="ttdeci">Status finish() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:641</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_ad2d35d822ffa5b8d7ab45342dda355bc"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#ad2d35d822ffa5b8d7ab45342dda355bc">doris::segment_v2::ArrayColumnWriter::write_ordinal_index</a></div><div class="ttdeci">Status write_ordinal_index() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:659</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_ad361889a70160220a1457c855b1f9051"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#ad361889a70160220a1457c855b1f9051">doris::segment_v2::ArrayColumnWriter::put_extra_info_in_page</a></div><div class="ttdeci">Status put_extra_info_in_page(DataPageFooterPB *header) override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:577</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_ada92bb61c523c6d0e3041783686bf07a"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#ada92bb61c523c6d0e3041783686bf07a">doris::segment_v2::ArrayColumnWriter::append_nulls</a></div><div class="ttdeci">Status append_nulls(size_t num_rows) override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:670</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_ae674b5f7510a082ab13d88ef84d39c29"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#ae674b5f7510a082ab13d88ef84d39c29">doris::segment_v2::ArrayColumnWriter::write_null_column</a></div><div class="ttdeci">Status write_null_column(size_t num_rows, bool is_null)</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:682</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_af5966baf6cfa5fa715aa7b686ccc7fdd"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#af5966baf6cfa5fa715aa7b686ccc7fdd">doris::segment_v2::ArrayColumnWriter::write_bloom_filter_index</a></div><div class="ttdeci">Status write_bloom_filter_index() override</div><div class="ttdef"><b>Definition:</b> column_writer.h:302</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_array_column_writer_html_aff942b80d87cc0b7fe6a016a62419fc0"><div class="ttname"><a href="../../d8/d16/classdoris_1_1segment__v2_1_1_array_column_writer.html#aff942b80d87cc0b7fe6a016a62419fc0">doris::segment_v2::ArrayColumnWriter::append_data</a></div><div class="ttdeci">Status append_data(const uint8_t **ptr, size_t num_rows) override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:590</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html">doris::segment_v2::ColumnWriter</a></div><div class="ttdef"><b>Definition:</b> column_writer.h:79</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a013007a97e046cf9933b8cb31ebb342c"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a013007a97e046cf9933b8cb31ebb342c">doris::segment_v2::ColumnWriter::write_bloom_filter_index</a></div><div class="ttdeci">virtual Status write_bloom_filter_index()=0</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a02ca8c1310ed66ae74b7993f5cd91bbd"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a02ca8c1310ed66ae74b7993f5cd91bbd">doris::segment_v2::ColumnWriter::write_inverted_index</a></div><div class="ttdeci">virtual Status write_inverted_index()=0</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a085f706aefa17b590dbd139fd10d9374"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a085f706aefa17b590dbd139fd10d9374">doris::segment_v2::ColumnWriter::estimate_buffer_size</a></div><div class="ttdeci">virtual uint64_t estimate_buffer_size()=0</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a121af5a5dc45d10bcf184d2d484b8655"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a121af5a5dc45d10bcf184d2d484b8655">doris::segment_v2::ColumnWriter::append_data</a></div><div class="ttdeci">virtual Status append_data(const uint8_t **ptr, size_t num_rows)=0</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a13a8bf488514d4d252ee81fbe9ca5738"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a13a8bf488514d4d252ee81fbe9ca5738">doris::segment_v2::ColumnWriter::ColumnWriter</a></div><div class="ttdeci">ColumnWriter(std::unique_ptr&lt; Field &gt; field, bool is_nullable)</div><div class="ttdef"><b>Definition:</b> column_writer.h:84</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a1843a28bad7d24390776d72f8105fd2c"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a1843a28bad7d24390776d72f8105fd2c">doris::segment_v2::ColumnWriter::write_bitmap_index</a></div><div class="ttdeci">virtual Status write_bitmap_index()=0</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a1a279717e7cbd0fd2f8ef16a2c82ce98"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a1a279717e7cbd0fd2f8ef16a2c82ce98">doris::segment_v2::ColumnWriter::_is_nullable</a></div><div class="ttdeci">bool _is_nullable</div><div class="ttdef"><b>Definition:</b> column_writer.h:151</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a313e7bf2db3241cab2c57c1d0466abe0"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a313e7bf2db3241cab2c57c1d0466abe0">doris::segment_v2::ColumnWriter::get_next_rowid</a></div><div class="ttdeci">virtual ordinal_t get_next_rowid() const =0</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a383b4bf9fa5747435372f741fd1747f3"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a383b4bf9fa5747435372f741fd1747f3">doris::segment_v2::ColumnWriter::is_nullable</a></div><div class="ttdeci">bool is_nullable() const</div><div class="ttdef"><b>Definition:</b> column_writer.h:145</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a52ba5aa0929d2cf568caa4c61661ca3a"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a52ba5aa0929d2cf568caa4c61661ca3a">doris::segment_v2::ColumnWriter::write_zone_map</a></div><div class="ttdeci">virtual Status write_zone_map()=0</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a5e3a34575f5b5bf6e01f5f9a2ae1a339"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a5e3a34575f5b5bf6e01f5f9a2ae1a339">doris::segment_v2::ColumnWriter::append_nullable</a></div><div class="ttdeci">Status append_nullable(const uint8_t *nullmap, const void *data, size_t num_rows)</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:183</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a688db19a8802adab5d4d8cb802c261b0"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a688db19a8802adab5d4d8cb802c261b0">doris::segment_v2::ColumnWriter::append</a></div><div class="ttdeci">Status append(const CellType &amp;cell)</div><div class="ttdef"><b>Definition:</b> column_writer.h:92</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a6cb958085a0e31bf0fa475d9f9b20d33"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a6cb958085a0e31bf0fa475d9f9b20d33">doris::segment_v2::ColumnWriter::create</a></div><div class="ttdeci">static Status create(const ColumnWriterOptions &amp;opts, const TabletColumn *column, io::FileWriter *file_writer, std::unique_ptr&lt; ColumnWriter &gt; *writer)</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:80</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a6e20bf56a3a6b201e1f6b3dd869f5098"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a6e20bf56a3a6b201e1f6b3dd869f5098">doris::segment_v2::ColumnWriter::finish_current_page</a></div><div class="ttdeci">virtual Status finish_current_page()=0</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a73c2c7b26af4034e369697f05853c81b"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a73c2c7b26af4034e369697f05853c81b">doris::segment_v2::ColumnWriter::finish</a></div><div class="ttdeci">virtual Status finish()=0</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a808b530660cce82f7781d6d6648a634f"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a808b530660cce82f7781d6d6648a634f">doris::segment_v2::ColumnWriter::_null_bitmap</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; _null_bitmap</div><div class="ttdef"><b>Definition:</b> column_writer.h:152</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_a8d4f855acb7f978106c59646e6dabdc8"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#a8d4f855acb7f978106c59646e6dabdc8">doris::segment_v2::ColumnWriter::append_nulls</a></div><div class="ttdeci">virtual Status append_nulls(size_t num_rows)=0</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_aa3eda65e0479bb8fc481c28dd975ee88"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#aa3eda65e0479bb8fc481c28dd975ee88">doris::segment_v2::ColumnWriter::write_data</a></div><div class="ttdeci">virtual Status write_data()=0</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_aaba6d5a8ba7e89f42d49ab26d764bb98"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#aaba6d5a8ba7e89f42d49ab26d764bb98">doris::segment_v2::ColumnWriter::get_field</a></div><div class="ttdeci">Field * get_field() const</div><div class="ttdef"><b>Definition:</b> column_writer.h:147</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_ab2f77770a6c9c118512d8969992c6add"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#ab2f77770a6c9c118512d8969992c6add">doris::segment_v2::ColumnWriter::init</a></div><div class="ttdeci">virtual Status init()=0</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_ad29e691b99dce07a7f7e00932e7fe3f1"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#ad29e691b99dce07a7f7e00932e7fe3f1">doris::segment_v2::ColumnWriter::_field</a></div><div class="ttdeci">std::unique_ptr&lt; Field &gt; _field</div><div class="ttdef"><b>Definition:</b> column_writer.h:150</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_ad6dd3a3a0a6fbcdae082ec0b19740f5a"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#ad6dd3a3a0a6fbcdae082ec0b19740f5a">doris::segment_v2::ColumnWriter::~ColumnWriter</a></div><div class="ttdeci">virtual ~ColumnWriter()=default</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_af3a932a1a3a70b4cc701d1a1f698ac98"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#af3a932a1a3a70b4cc701d1a1f698ac98">doris::segment_v2::ColumnWriter::append</a></div><div class="ttdeci">Status append(bool is_null, void *data)</div><div class="ttdef"><b>Definition:</b> column_writer.h:105</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_column_writer_html_aff4b649d245661ef1a9dbf99acaad0cc"><div class="ttname"><a href="../../dc/d7c/classdoris_1_1segment__v2_1_1_column_writer.html#aff4b649d245661ef1a9dbf99acaad0cc">doris::segment_v2::ColumnWriter::write_ordinal_index</a></div><div class="ttdeci">virtual Status write_ordinal_index()=0</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_encoding_info_html"><div class="ttname"><a href="../../dd/d4c/classdoris_1_1segment__v2_1_1_encoding_info.html">doris::segment_v2::EncodingInfo</a></div><div class="ttdef"><b>Definition:</b> encoding_info.h:45</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_flush_page_callback_html"><div class="ttname"><a href="../../d5/d46/classdoris_1_1segment__v2_1_1_flush_page_callback.html">doris::segment_v2::FlushPageCallback</a></div><div class="ttdef"><b>Definition:</b> column_writer.h:155</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_flush_page_callback_html_adf95cd80028df586abb3f709e824f054"><div class="ttname"><a href="../../d5/d46/classdoris_1_1segment__v2_1_1_flush_page_callback.html#adf95cd80028df586abb3f709e824f054">doris::segment_v2::FlushPageCallback::put_extra_info_in_page</a></div><div class="ttdeci">virtual Status put_extra_info_in_page(DataPageFooterPB *footer)</div><div class="ttdef"><b>Definition:</b> column_writer.h:157</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html">doris::segment_v2::ScalarColumnWriter</a></div><div class="ttdef"><b>Definition:</b> column_writer.h:164</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a0142844ee6c98e6bdd1e728c48f1445e"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a0142844ee6c98e6bdd1e728c48f1445e">doris::segment_v2::ScalarColumnWriter::init</a></div><div class="ttdeci">Status init() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:269</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a076b154ffa05775e3d8f12bcf7a61bf7"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a076b154ffa05775e3d8f12bcf7a61bf7">doris::segment_v2::ScalarColumnWriter::append_data_in_current_page</a></div><div class="ttdeci">Status append_data_in_current_page(const uint8_t **ptr, size_t *num_written)</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:383</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a1989b57a838c708d2cdef18e3187efee"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a1989b57a838c708d2cdef18e3187efee">doris::segment_v2::ScalarColumnWriter::_ordinal_index_builder</a></div><div class="ttdeci">std::unique_ptr&lt; OrdinalIndexWriter &gt; _ordinal_index_builder</div><div class="ttdef"><b>Definition:</b> column_writer.h:258</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a21a0b789bd49c46f3396bf5453c0e5b5"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a21a0b789bd49c46f3396bf5453c0e5b5">doris::segment_v2::ScalarColumnWriter::_first_rowid</a></div><div class="ttdeci">ordinal_t _first_rowid</div><div class="ttdef"><b>Definition:</b> column_writer.h:254</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a34bb060376ee854b41a3fe31c3cb04d6"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a34bb060376ee854b41a3fe31c3cb04d6">doris::segment_v2::ScalarColumnWriter::estimate_buffer_size</a></div><div class="ttdeci">uint64_t estimate_buffer_size() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:389</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a35b4d453b60cfd634338ad378c8539cc"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a35b4d453b60cfd634338ad378c8539cc">doris::segment_v2::ScalarColumnWriter::write_data</a></div><div class="ttdeci">Status write_data() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:414</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a36006116856787c2561f92ffa6faeaca"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a36006116856787c2561f92ffa6faeaca">doris::segment_v2::ScalarColumnWriter::_inverted_index_builder</a></div><div class="ttdeci">std::unique_ptr&lt; InvertedIndexColumnWriter &gt; _inverted_index_builder</div><div class="ttdef"><b>Definition:</b> column_writer.h:261</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a38eb543076d5363f879787ec3745ddff"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a38eb543076d5363f879787ec3745ddff">doris::segment_v2::ScalarColumnWriter::_zone_map_index_builder</a></div><div class="ttdeci">std::unique_ptr&lt; ZoneMapIndexWriter &gt; _zone_map_index_builder</div><div class="ttdef"><b>Definition:</b> column_writer.h:259</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a38f191e83892953b72b0126a4f7bc64c"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a38f191e83892953b72b0126a4f7bc64c">doris::segment_v2::ScalarColumnWriter::_push_back_page</a></div><div class="ttdeci">void _push_back_page(Page *page)</div><div class="ttdef"><b>Definition:</b> column_writer.h:229</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a432611aa03a500309a2388fe883f3d16"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a432611aa03a500309a2388fe883f3d16">doris::segment_v2::ScalarColumnWriter::_null_bitmap_builder</a></div><div class="ttdeci">std::unique_ptr&lt; NullBitmapBuilder &gt; _null_bitmap_builder</div><div class="ttdef"><b>Definition:</b> column_writer.h:204</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a4937ba64d49cfa7a058c07a31e3ed64b"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a4937ba64d49cfa7a058c07a31e3ed64b">doris::segment_v2::ScalarColumnWriter::_write_data_page</a></div><div class="ttdeci">Status _write_data_page(Page *page)</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:472</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a538114ab17e713407a95c1e5e266b7fe"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a538114ab17e713407a95c1e5e266b7fe">doris::segment_v2::ScalarColumnWriter::get_next_rowid</a></div><div class="ttdeci">ordinal_t get_next_rowid() const override</div><div class="ttdef"><b>Definition:</b> column_writer.h:188</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a55c91ed38a23ba30bbe59ff772c87854"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a55c91ed38a23ba30bbe59ff772c87854">doris::segment_v2::ScalarColumnWriter::finish_current_page</a></div><div class="ttdeci">Status finish_current_page() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:483</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a56820af52b8c3c78b76953fab7117908"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a56820af52b8c3c78b76953fab7117908">doris::segment_v2::ScalarColumnWriter::_new_page_callback</a></div><div class="ttdeci">FlushPageCallback * _new_page_callback</div><div class="ttdef"><b>Definition:</b> column_writer.h:265</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a6265a2da4d087124fb6dcedf63120663"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a6265a2da4d087124fb6dcedf63120663">doris::segment_v2::ScalarColumnWriter::_compress_codec</a></div><div class="ttdeci">BlockCompressionCodec * _compress_codec</div><div class="ttdef"><b>Definition:</b> column_writer.h:256</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a63cfc7cb999964710c7e4e61f9199d6c"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a63cfc7cb999964710c7e4e61f9199d6c">doris::segment_v2::ScalarColumnWriter::_opts</a></div><div class="ttdeci">ColumnWriterOptions _opts</div><div class="ttdef"><b>Definition:</b> column_writer.h:206</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a701aff32e16125760fe20d9703b6cbbd"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a701aff32e16125760fe20d9703b6cbbd">doris::segment_v2::ScalarColumnWriter::_file_writer</a></div><div class="ttdeci">io::FileWriter * _file_writer</div><div class="ttdef"><b>Definition:</b> column_writer.h:248</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a7692887264ce76803ef5e36e3d94e150"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a7692887264ce76803ef5e36e3d94e150">doris::segment_v2::ScalarColumnWriter::_page_builder</a></div><div class="ttdeci">std::unique_ptr&lt; PageBuilder &gt; _page_builder</div><div class="ttdef"><b>Definition:</b> column_writer.h:202</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a92cf767ddaf1b2c5dc0b0fea6668e2aa"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a92cf767ddaf1b2c5dc0b0fea6668e2aa">doris::segment_v2::ScalarColumnWriter::write_inverted_index</a></div><div class="ttdeci">Status write_inverted_index() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:457</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a93c7f48a8f3fa7bba228df3545db1d6a"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a93c7f48a8f3fa7bba228df3545db1d6a">doris::segment_v2::ScalarColumnWriter::_encoding_info</a></div><div class="ttdeci">const EncodingInfo * _encoding_info</div><div class="ttdef"><b>Definition:</b> column_writer.h:208</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_a97de3d1ea294225a1b5e2e676cc29828"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#a97de3d1ea294225a1b5e2e676cc29828">doris::segment_v2::ScalarColumnWriter::register_flush_page_callback</a></div><div class="ttdeci">void register_flush_page_callback(FlushPageCallback *flush_page_callback)</div><div class="ttdef"><b>Definition:</b> column_writer.h:190</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_aa629653c09b85082d9454f934c3b64e1"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#aa629653c09b85082d9454f934c3b64e1">doris::segment_v2::ScalarColumnWriter::_pages</a></div><div class="ttdeci">PageHead _pages</div><div class="ttdef"><b>Definition:</b> column_writer.h:253</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_ab1dafa4be73aa6d11e633f7b393eae07"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ab1dafa4be73aa6d11e633f7b393eae07">doris::segment_v2::ScalarColumnWriter::_bloom_filter_index_builder</a></div><div class="ttdeci">std::unique_ptr&lt; BloomFilterIndexWriter &gt; _bloom_filter_index_builder</div><div class="ttdef"><b>Definition:</b> column_writer.h:262</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_ab29e1a909155fca767afe95a2f7d14fc"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ab29e1a909155fca767afe95a2f7d14fc">doris::segment_v2::ScalarColumnWriter::write_zone_map</a></div><div class="ttdeci">Status write_zone_map() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:443</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_acaee11106bacd9e7f2f73dee39b652ba"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#acaee11106bacd9e7f2f73dee39b652ba">doris::segment_v2::ScalarColumnWriter::write_bitmap_index</a></div><div class="ttdeci">Status write_bitmap_index() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:450</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_ad040292e932cc1c1ff2043dfc48c864d"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ad040292e932cc1c1ff2043dfc48c864d">doris::segment_v2::ScalarColumnWriter::finish</a></div><div class="ttdeci">Status finish() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:408</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_ad2d35d822ffa5b8d7ab45342dda355bc"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ad2d35d822ffa5b8d7ab45342dda355bc">doris::segment_v2::ScalarColumnWriter::write_ordinal_index</a></div><div class="ttdeci">Status write_ordinal_index() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:439</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_ad51796dd917fbcace0c8b6778cd5c384"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ad51796dd917fbcace0c8b6778cd5c384">doris::segment_v2::ScalarColumnWriter::_bitmap_index_builder</a></div><div class="ttdeci">std::unique_ptr&lt; BitmapIndexWriter &gt; _bitmap_index_builder</div><div class="ttdef"><b>Definition:</b> column_writer.h:260</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_ad7e47f3093b9666cbe849796898cc3b4"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ad7e47f3093b9666cbe849796898cc3b4">doris::segment_v2::ScalarColumnWriter::~ScalarColumnWriter</a></div><div class="ttdeci">~ScalarColumnWriter() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:259</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_ada92bb61c523c6d0e3041783686bf07a"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ada92bb61c523c6d0e3041783686bf07a">doris::segment_v2::ScalarColumnWriter::append_nulls</a></div><div class="ttdeci">Status append_nulls(size_t num_rows) override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:322</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_ae6529dd93f77de0f80fc521c1d30f815"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#ae6529dd93f77de0f80fc521c1d30f815">doris::segment_v2::ScalarColumnWriter::_data_size</a></div><div class="ttdeci">uint64_t _data_size</div><div class="ttdef"><b>Definition:</b> column_writer.h:250</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_af5966baf6cfa5fa715aa7b686ccc7fdd"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#af5966baf6cfa5fa715aa7b686ccc7fdd">doris::segment_v2::ScalarColumnWriter::write_bloom_filter_index</a></div><div class="ttdeci">Status write_bloom_filter_index() override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:464</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_af9f6bec9ec71f312a5ea4b56ce99f608"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#af9f6bec9ec71f312a5ea4b56ce99f608">doris::segment_v2::ScalarColumnWriter::_next_rowid</a></div><div class="ttdeci">ordinal_t _next_rowid</div><div class="ttdef"><b>Definition:</b> column_writer.h:210</div></div>
<div class="ttc" id="aclassdoris_1_1segment__v2_1_1_scalar_column_writer_html_aff942b80d87cc0b7fe6a016a62419fc0"><div class="ttname"><a href="../../d0/dc7/classdoris_1_1segment__v2_1_1_scalar_column_writer.html#aff942b80d87cc0b7fe6a016a62419fc0">doris::segment_v2::ScalarColumnWriter::append_data</a></div><div class="ttdeci">Status append_data(const uint8_t **ptr, size_t num_rows) override</div><div class="ttdef"><b>Definition:</b> column_writer.cpp:343</div></div>
<div class="ttc" id="acommon_8h_html"><div class="ttname"><a href="../../dc/d54/common_8h.html">common.h</a></div></div>
<div class="ttc" id="ainverted__index__parser_8h_html"><div class="ttname"><a href="../../db/d64/inverted__index__parser_8h.html">inverted_index_parser.h</a></div></div>
<div class="ttc" id="anamespacedoris_1_1segment__v2_html_a6304ee7c492e3553f47385124238bf8e"><div class="ttname"><a href="../../d3/d11/namespacedoris_1_1segment__v2.html#a6304ee7c492e3553f47385124238bf8e">doris::segment_v2::ordinal_t</a></div><div class="ttdeci">uint64_t ordinal_t</div><div class="ttdef"><b>Definition:</b> common.h:31</div></div>
<div class="ttc" id="anamespacedoris_html"><div class="ttname"><a href="../../d6/d94/namespacedoris.html">doris</a></div><div class="ttdoc">Utilities for collecting timings.</div><div class="ttdef"><b>Definition:</b> agent_server.cpp:36</div></div>
<div class="ttc" id="anamespacedoris_html_a9a0ed2032b24a9fb9e8df7cbf00bdcb9"><div class="ttname"><a href="../../d6/d94/namespacedoris.html#a9a0ed2032b24a9fb9e8df7cbf00bdcb9">doris::BitmapChange</a></div><div class="ttdeci">void BitmapChange(uint8_t *bitmap, size_t idx, bool value)</div><div class="ttdef"><b>Definition:</b> bitmap.h:39</div></div>
<div class="ttc" id="apage__pointer_8h_html"><div class="ttname"><a href="../../de/d50/page__pointer_8h.html">page_pointer.h</a></div></div>
<div class="ttc" id="aslice_8h_html"><div class="ttname"><a href="../../d0/d48/slice_8h.html">slice.h</a></div></div>
<div class="ttc" id="astatus_8h_html"><div class="ttname"><a href="../../d1/d13/status_8h.html">status.h</a></div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_column_writer_options_html"><div class="ttname"><a href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html">doris::segment_v2::ColumnWriterOptions</a></div><div class="ttdef"><b>Definition:</b> column_writer.h:42</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_column_writer_options_html_a01a11efa06e2e3005fccc674abf7eb2a"><div class="ttname"><a href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a01a11efa06e2e3005fccc674abf7eb2a">doris::segment_v2::ColumnWriterOptions::gram_size</a></div><div class="ttdeci">uint8_t gram_size</div><div class="ttdef"><b>Definition:</b> column_writer.h:55</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_column_writer_options_html_a0d4fc30a9457427b8c6057b39fc0bd48"><div class="ttname"><a href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a0d4fc30a9457427b8c6057b39fc0bd48">doris::segment_v2::ColumnWriterOptions::need_bloom_filter</a></div><div class="ttdeci">bool need_bloom_filter</div><div class="ttdef"><b>Definition:</b> column_writer.h:53</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_column_writer_options_html_a0e4215735914715237cf19ca79d16d10"><div class="ttname"><a href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a0e4215735914715237cf19ca79d16d10">doris::segment_v2::ColumnWriterOptions::data_page_size</a></div><div class="ttdeci">size_t data_page_size</div><div class="ttdef"><b>Definition:</b> column_writer.h:47</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_column_writer_options_html_a1bd421156df7c5a585ba690790702147"><div class="ttname"><a href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a1bd421156df7c5a585ba690790702147">doris::segment_v2::ColumnWriterOptions::need_zone_map</a></div><div class="ttdeci">bool need_zone_map</div><div class="ttdef"><b>Definition:</b> column_writer.h:51</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_column_writer_options_html_a4b877e1e8ab5e94eb00d2a32d0fdba9c"><div class="ttname"><a href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a4b877e1e8ab5e94eb00d2a32d0fdba9c">doris::segment_v2::ColumnWriterOptions::is_ngram_bf_index</a></div><div class="ttdeci">bool is_ngram_bf_index</div><div class="ttdef"><b>Definition:</b> column_writer.h:54</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_column_writer_options_html_a7ddd1551c67e67087f5b4607502ccf4a"><div class="ttname"><a href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a7ddd1551c67e67087f5b4607502ccf4a">doris::segment_v2::ColumnWriterOptions::compression_min_space_saving</a></div><div class="ttdeci">double compression_min_space_saving</div><div class="ttdef"><b>Definition:</b> column_writer.h:50</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_column_writer_options_html_a8683dfb575640c5f79c9c034121a7664"><div class="ttname"><a href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#a8683dfb575640c5f79c9c034121a7664">doris::segment_v2::ColumnWriterOptions::gram_bf_size</a></div><div class="ttdeci">uint16_t gram_bf_size</div><div class="ttdef"><b>Definition:</b> column_writer.h:56</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_column_writer_options_html_aabbb6a9d530eec16f25b0f881c1b4255"><div class="ttname"><a href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#aabbb6a9d530eec16f25b0f881c1b4255">doris::segment_v2::ColumnWriterOptions::need_bitmap_index</a></div><div class="ttdeci">bool need_bitmap_index</div><div class="ttdef"><b>Definition:</b> column_writer.h:52</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_column_writer_options_html_aac993ecccd3d88aafefb6b8e3caa1dee"><div class="ttname"><a href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#aac993ecccd3d88aafefb6b8e3caa1dee">doris::segment_v2::ColumnWriterOptions::to_string</a></div><div class="ttdeci">std::string to_string() const</div><div class="ttdef"><b>Definition:</b> column_writer.h:59</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_column_writer_options_html_ac72a53eb943278817a2456fa59373c07"><div class="ttname"><a href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#ac72a53eb943278817a2456fa59373c07">doris::segment_v2::ColumnWriterOptions::indexes</a></div><div class="ttdeci">std::vector&lt; const TabletIndex * &gt; indexes</div><div class="ttdef"><b>Definition:</b> column_writer.h:57</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_column_writer_options_html_adebc58ec62c734223b10c5c6ab6a06eb"><div class="ttname"><a href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#adebc58ec62c734223b10c5c6ab6a06eb">doris::segment_v2::ColumnWriterOptions::meta</a></div><div class="ttdeci">ColumnMetaPB * meta</div><div class="ttdef"><b>Definition:</b> column_writer.h:46</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_column_writer_options_html_afa8d164ccd5111109bcd25ea14b6ca3a"><div class="ttname"><a href="../../d5/d98/structdoris_1_1segment__v2_1_1_column_writer_options.html#afa8d164ccd5111109bcd25ea14b6ca3a">doris::segment_v2::ColumnWriterOptions::inverted_index</a></div><div class="ttdeci">const TabletIndex * inverted_index</div><div class="ttdef"><b>Definition:</b> column_writer.h:58</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head_html"><div class="ttname"><a href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html">doris::segment_v2::ScalarColumnWriter::PageHead</a></div><div class="ttdef"><b>Definition:</b> column_writer.h:224</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head_html_a5e7c1ad684a6aabb34fcbf90b88c56c6"><div class="ttname"><a href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html#a5e7c1ad684a6aabb34fcbf90b88c56c6">doris::segment_v2::ScalarColumnWriter::PageHead::tail</a></div><div class="ttdeci">Page * tail</div><div class="ttdef"><b>Definition:</b> column_writer.h:226</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head_html_aed964c707665191683447d59355098e3"><div class="ttname"><a href="../../dc/ddf/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_head.html#aed964c707665191683447d59355098e3">doris::segment_v2::ScalarColumnWriter::PageHead::head</a></div><div class="ttdeci">Page * head</div><div class="ttdef"><b>Definition:</b> column_writer.h:225</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_html"><div class="ttname"><a href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html">doris::segment_v2::ScalarColumnWriter::Page</a></div><div class="ttdef"><b>Definition:</b> column_writer.h:213</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_html_a4c270fdb9ed832dbabaf2594b92fed8c"><div class="ttname"><a href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html#a4c270fdb9ed832dbabaf2594b92fed8c">doris::segment_v2::ScalarColumnWriter::Page::footer</a></div><div class="ttdeci">PageFooterPB footer</div><div class="ttdef"><b>Definition:</b> column_writer.h:220</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_html_aaab76a399b95d2d6fe7cacb0197fa83a"><div class="ttname"><a href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html#aaab76a399b95d2d6fe7cacb0197fa83a">doris::segment_v2::ScalarColumnWriter::Page::next</a></div><div class="ttdeci">Page * next</div><div class="ttdef"><b>Definition:</b> column_writer.h:221</div></div>
<div class="ttc" id="astructdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page_html_ac74f2bf047642e3b76e5144c06226869"><div class="ttname"><a href="../../d6/de3/structdoris_1_1segment__v2_1_1_scalar_column_writer_1_1_page.html#ac74f2bf047642e3b76e5144c06226869">doris::segment_v2::ScalarColumnWriter::Page::data</a></div><div class="ttdeci">std::vector&lt; OwnedSlice &gt; data</div><div class="ttdef"><b>Definition:</b> column_writer.h:219</div></div>
<div class="ttc" id="atablet__schema_8h_html"><div class="ttname"><a href="../../d4/da2/tablet__schema_8h.html">tablet_schema.h</a></div></div>
<div class="ttc" id="auint24_8h_html_aa99be7b8b4274b2256b394ea7bf80762"><div class="ttname"><a href="../../d5/d29/uint24_8h.html#aa99be7b8b4274b2256b394ea7bf80762">data</a></div><div class="ttdeci">uint8_t data[3]</div><div class="ttdef"><b>Definition:</b> uint24.h:115</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
