<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ppl_util: IFileCache类 参考</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ppl_util
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d6/d94/namespacedoris.html">doris</a></li><li class="navelem"><a class="el" href="../../d4/d00/namespacedoris_1_1io.html">io</a></li><li class="navelem"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html">IFileCache</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">类</a> &#124;
<a href="#pub-types">Public 类型</a> &#124;
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="#pub-static-methods">静态 Public 成员函数</a> &#124;
<a href="#pro-types">Protected 类型</a> &#124;
<a href="#pro-methods">Protected 成员函数</a> &#124;
<a href="#pro-attribs">Protected 属性</a> &#124;
<a href="#friends">友元</a> &#124;
<a href="../../d6/d12/classdoris_1_1io_1_1_i_file_cache-members.html">所有成员列表</a>  </div>
  <div class="headertitle"><div class="title">IFileCache类 参考<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d7/da2/block__file__cache_8h_source.html">block_file_cache.h</a>&gt;</code></p>
<div class="dynheader">
类 IFileCache 继承关系图:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d0/d21/classdoris_1_1io_1_1_i_file_cache__inherit__graph.svg" width="119" height="110"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="../../graph_legend.html">图例</a>]</span></center></div>
<div class="dynheader">
IFileCache 的协作图:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d59/classdoris_1_1io_1_1_i_file_cache__coll__graph.svg" width="167" height="124"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="../../graph_legend.html">图例</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
类</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/daa/structdoris_1_1io_1_1_i_file_cache_1_1_key_and_offset_hash.html">KeyAndOffsetHash</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d81/classdoris_1_1io_1_1_i_file_cache_1_1_l_r_u_queue.html">LRUQueue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d47/structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context.html">QueryFileCacheContext</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de4/structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_holder.html">QueryFileCacheContextHolder</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public 类型</h2></td></tr>
<tr class="memitem:a3c7d80a775cb9b2160e61a945865f534"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a3c7d80a775cb9b2160e61a945865f534">QueryFileCacheContextHolderPtr</a> = std::unique_ptr&lt; <a class="el" href="../../d8/de4/structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_holder.html">QueryFileCacheContextHolder</a> &gt;</td></tr>
<tr class="separator:a3c7d80a775cb9b2160e61a945865f534"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:ad07c893ec247912b88517cdd135f096f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#ad07c893ec247912b88517cdd135f096f">IFileCache</a> (const std::string &amp;cache_base_path, const <a class="el" href="../../dd/d31/structdoris_1_1io_1_1_file_cache_settings.html">FileCacheSettings</a> &amp;cache_settings)</td></tr>
<tr class="separator:ad07c893ec247912b88517cdd135f096f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8bdf5ea6dfa35e06034b9f40a56c551"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#ab8bdf5ea6dfa35e06034b9f40a56c551">~IFileCache</a> ()=default</td></tr>
<tr class="separator:ab8bdf5ea6dfa35e06034b9f40a56c551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f5cff6d7a886d22eaf83df239062a12"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d9/d8d/classdoris_1_1_status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a5f5cff6d7a886d22eaf83df239062a12">initialize</a> ()=0</td></tr>
<tr class="memdesc:a5f5cff6d7a886d22eaf83df239062a12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore cache from local filesystem.  <br /></td></tr>
<tr class="separator:a5f5cff6d7a886d22eaf83df239062a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05953820c1167f79f29c7633162c89e0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a05953820c1167f79f29c7633162c89e0">remove_if_exists</a> (const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;key, bool is_persistent)=0</td></tr>
<tr class="separator:a05953820c1167f79f29c7633162c89e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3234e7d45625019069bd2817c54feca"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#ab3234e7d45625019069bd2817c54feca">remove_if_releasable</a> (bool is_persistent)=0</td></tr>
<tr class="separator:ab3234e7d45625019069bd2817c54feca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7223528283cd4e5872e0cc716bf9bd9d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a7223528283cd4e5872e0cc716bf9bd9d">capacity</a> () const</td></tr>
<tr class="memdesc:a7223528283cd4e5872e0cc716bf9bd9d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../de/d06/classdoris_1_1_cache.html">Cache</a> capacity in bytes.  <br /></td></tr>
<tr class="separator:a7223528283cd4e5872e0cc716bf9bd9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d09a4047f95b0143001f69f59548d30"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a4d09a4047f95b0143001f69f59548d30">get_path_in_local_cache</a> (const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;key, size_t offset, bool is_persistent) const</td></tr>
<tr class="separator:a4d09a4047f95b0143001f69f59548d30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bc9e70487e1ef3e5ba3b0e577a0fa20"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a5bc9e70487e1ef3e5ba3b0e577a0fa20">get_path_in_local_cache</a> (const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;key) const</td></tr>
<tr class="separator:a5bc9e70487e1ef3e5ba3b0e577a0fa20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c437bfbf13578710df28996a11c181d"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a0c437bfbf13578710df28996a11c181d">get_base_path</a> () const</td></tr>
<tr class="separator:a0c437bfbf13578710df28996a11c181d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a795ade0b90afc69fddcc18ccde18a49f"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a795ade0b90afc69fddcc18ccde18a49f">try_get_cache_paths</a> (const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;key, bool is_persistent)=0</td></tr>
<tr class="separator:a795ade0b90afc69fddcc18ccde18a49f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9080d155c7a2120f589d67c58a0a9a07"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d1/d47/structdoris_1_1io_1_1_file_blocks_holder.html">FileBlocksHolder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a9080d155c7a2120f589d67c58a0a9a07">get_or_set</a> (const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;key, size_t offset, size_t size, bool is_persistent, const TUniqueId &amp;query_id)=0</td></tr>
<tr class="separator:a9080d155c7a2120f589d67c58a0a9a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa71ca3b482c454ff756a920373e49e60"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#aa71ca3b482c454ff756a920373e49e60">dump_structure</a> (const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;key, bool is_persistent)=0</td></tr>
<tr class="memdesc:aa71ca3b482c454ff756a920373e49e60"><td class="mdescLeft">&#160;</td><td class="mdescRight">For debug.  <br /></td></tr>
<tr class="separator:aa71ca3b482c454ff756a920373e49e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae52850983c7b2983a900c99d42d31352"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#ae52850983c7b2983a900c99d42d31352">get_used_cache_size</a> (bool is_persistent) const =0</td></tr>
<tr class="separator:ae52850983c7b2983a900c99d42d31352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d792866e963ac72b456d2a6e6918e4c"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a9d792866e963ac72b456d2a6e6918e4c">get_file_segments_num</a> (bool is_persistent) const =0</td></tr>
<tr class="separator:a9d792866e963ac72b456d2a6e6918e4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae955d078e388d75740eddf5f701a305f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html">IFileCache</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#ae955d078e388d75740eddf5f701a305f">operator=</a> (const <a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html">IFileCache</a> &amp;)=delete</td></tr>
<tr class="separator:ae955d078e388d75740eddf5f701a305f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8b58118d10530d3871c222d86a9e61a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#af8b58118d10530d3871c222d86a9e61a">IFileCache</a> (const <a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html">IFileCache</a> &amp;)=delete</td></tr>
<tr class="separator:af8b58118d10530d3871c222d86a9e61a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3636e05272af94893026ac964ec401fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a3c7d80a775cb9b2160e61a945865f534">QueryFileCacheContextHolderPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a3636e05272af94893026ac964ec401fd">get_query_context_holder</a> (const TUniqueId &amp;query_id)</td></tr>
<tr class="separator:a3636e05272af94893026ac964ec401fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
静态 Public 成员函数</h2></td></tr>
<tr class="memitem:af618e53b20e5e19b7b976dac4620a216"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#af618e53b20e5e19b7b976dac4620a216">hash</a> (const std::string &amp;path)</td></tr>
<tr class="separator:af618e53b20e5e19b7b976dac4620a216"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-types" name="pro-types"></a>
Protected 类型</h2></td></tr>
<tr class="memitem:a1d89d3b7e81c205e0aa726336753a1da"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a1d89d3b7e81c205e0aa726336753a1da">AccessKeyAndOffset</a> = std::tuple&lt; <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a>, size_t, bool &gt;</td></tr>
<tr class="separator:a1d89d3b7e81c205e0aa726336753a1da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adccb0504103447215380ee17166db1f7"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#adccb0504103447215380ee17166db1f7">AccessRecord</a> = std::unordered_map&lt; <a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a1d89d3b7e81c205e0aa726336753a1da">AccessKeyAndOffset</a>, <a class="el" href="../../d5/d81/classdoris_1_1io_1_1_i_file_cache_1_1_l_r_u_queue.html#aa0f8845224d362efef4dfe80787ea2ec">LRUQueue::Iterator</a>, <a class="el" href="../../dc/daa/structdoris_1_1io_1_1_i_file_cache_1_1_key_and_offset_hash.html">KeyAndOffsetHash</a> &gt;</td></tr>
<tr class="separator:adccb0504103447215380ee17166db1f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c66fc6bb666006ac6243084864487b6"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a8c66fc6bb666006ac6243084864487b6">QueryFileCacheContextPtr</a> = std::shared_ptr&lt; <a class="el" href="../../dc/d47/structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context.html">QueryFileCacheContext</a> &gt;</td></tr>
<tr class="separator:a8c66fc6bb666006ac6243084864487b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18f35fffa11659535addfdd93902c7f4"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a18f35fffa11659535addfdd93902c7f4">QueryFileCacheContextMap</a> = std::unordered_map&lt; TUniqueId, <a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a8c66fc6bb666006ac6243084864487b6">QueryFileCacheContextPtr</a> &gt;</td></tr>
<tr class="separator:a18f35fffa11659535addfdd93902c7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected 成员函数</h2></td></tr>
<tr class="memitem:a9084413812a61833bd99dc21f94f94ec"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a9084413812a61833bd99dc21f94f94ec">try_reserve</a> (const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;key, const TUniqueId &amp;query_id, bool is_persistent, size_t offset, size_t size, std::lock_guard&lt; std::mutex &gt; &amp;cache_lock)=0</td></tr>
<tr class="separator:a9084413812a61833bd99dc21f94f94ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d6cf0a4d5c2d331edfe8736fe50846"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a67d6cf0a4d5c2d331edfe8736fe50846">remove</a> (const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;key, bool is_persistent, size_t offset, std::lock_guard&lt; std::mutex &gt; &amp;cache_lock, std::lock_guard&lt; std::mutex &gt; &amp;segment_lock)=0</td></tr>
<tr class="separator:a67d6cf0a4d5c2d331edfe8736fe50846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b2a6670f77761ee0e166c8319ed74fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a8c66fc6bb666006ac6243084864487b6">QueryFileCacheContextPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a5b2a6670f77761ee0e166c8319ed74fe">get_query_context</a> (const TUniqueId &amp;query_id, std::lock_guard&lt; std::mutex &gt; &amp;)</td></tr>
<tr class="separator:a5b2a6670f77761ee0e166c8319ed74fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a171ce34f33a2715f0697f2676892b2ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a171ce34f33a2715f0697f2676892b2ae">remove_query_context</a> (const TUniqueId &amp;query_id)</td></tr>
<tr class="separator:a171ce34f33a2715f0697f2676892b2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a227d0732b6b1e1ec43cbb6bddcd5e5dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a8c66fc6bb666006ac6243084864487b6">QueryFileCacheContextPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a227d0732b6b1e1ec43cbb6bddcd5e5dc">get_or_set_query_context</a> (const TUniqueId &amp;query_id, std::lock_guard&lt; std::mutex &gt; &amp;)</td></tr>
<tr class="separator:a227d0732b6b1e1ec43cbb6bddcd5e5dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected 属性</h2></td></tr>
<tr class="memitem:a2ba6697a12d63637494dbeec00ff3a78"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a2ba6697a12d63637494dbeec00ff3a78">_cache_base_path</a></td></tr>
<tr class="separator:a2ba6697a12d63637494dbeec00ff3a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0288896c161455b7451327a41d33e74"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#ab0288896c161455b7451327a41d33e74">_max_size</a> = 0</td></tr>
<tr class="separator:ab0288896c161455b7451327a41d33e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19cbdfacaa469abf31575087e0473a73"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a19cbdfacaa469abf31575087e0473a73">_max_element_size</a> = 0</td></tr>
<tr class="separator:a19cbdfacaa469abf31575087e0473a73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ca82467b815ca27bb285d6185c1fe8"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a79ca82467b815ca27bb285d6185c1fe8">_persistent_max_size</a> = 0</td></tr>
<tr class="separator:a79ca82467b815ca27bb285d6185c1fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f6f9a282d55df2917b54cf99d501785"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a6f6f9a282d55df2917b54cf99d501785">_persistent_max_element_size</a> = 0</td></tr>
<tr class="separator:a6f6f9a282d55df2917b54cf99d501785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa297c207d83ea0b9ebf5cee4fbad83a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#afa297c207d83ea0b9ebf5cee4fbad83a">_max_file_segment_size</a> = 0</td></tr>
<tr class="separator:afa297c207d83ea0b9ebf5cee4fbad83a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8ab93e3585b26c3ff70100f829e448b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#ad8ab93e3585b26c3ff70100f829e448b">_max_query_cache_size</a> = 0</td></tr>
<tr class="separator:ad8ab93e3585b26c3ff70100f829e448b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa47905df0a83061082cf11f932a918df"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#aa47905df0a83061082cf11f932a918df">_is_initialized</a> = false</td></tr>
<tr class="separator:aa47905df0a83061082cf11f932a918df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f0b4c278cb19f9c2b2dbdb065f51e14"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a3f0b4c278cb19f9c2b2dbdb065f51e14">_mutex</a></td></tr>
<tr class="separator:a3f0b4c278cb19f9c2b2dbdb065f51e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a243744aff6497bffe2dfde68e4b064bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a18f35fffa11659535addfdd93902c7f4">QueryFileCacheContextMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a243744aff6497bffe2dfde68e4b064bd">_query_map</a></td></tr>
<tr class="separator:a243744aff6497bffe2dfde68e4b064bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b3d22a40257298552eb609d18cb2219"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a8b3d22a40257298552eb609d18cb2219">_enable_file_cache_query_limit</a> = config::enable_file_cache_query_limit</td></tr>
<tr class="separator:a8b3d22a40257298552eb609d18cb2219"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
友元</h2></td></tr>
<tr class="memitem:a684c969311782d2272c092f179aca324"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a684c969311782d2272c092f179aca324">FileBlock</a></td></tr>
<tr class="separator:a684c969311782d2272c092f179aca324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2afbba87b00d7e347dc99079c18295c"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#af2afbba87b00d7e347dc99079c18295c">FileBlocksHolder</a></td></tr>
<tr class="separator:af2afbba87b00d7e347dc99079c18295c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>Local cache for remote filesystem files, represented as a set of non-overlapping non-empty file segments. </p>
</div><h2 class="groupheader">成员类型定义说明</h2>
<a id="a1d89d3b7e81c205e0aa726336753a1da" name="a1d89d3b7e81c205e0aa726336753a1da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d89d3b7e81c205e0aa726336753a1da">&#9670;&#160;</a></span>AccessKeyAndOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a1d89d3b7e81c205e0aa726336753a1da">AccessKeyAndOffset</a> =  std::tuple&lt;<a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a>, size_t, bool&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adccb0504103447215380ee17166db1f7" name="adccb0504103447215380ee17166db1f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adccb0504103447215380ee17166db1f7">&#9670;&#160;</a></span>AccessRecord</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#adccb0504103447215380ee17166db1f7">AccessRecord</a> =  std::unordered_map&lt;<a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a1d89d3b7e81c205e0aa726336753a1da">AccessKeyAndOffset</a>, <a class="el" href="../../d5/d81/classdoris_1_1io_1_1_i_file_cache_1_1_l_r_u_queue.html#aa0f8845224d362efef4dfe80787ea2ec">LRUQueue::Iterator</a>, <a class="el" href="../../dc/daa/structdoris_1_1io_1_1_i_file_cache_1_1_key_and_offset_hash.html">KeyAndOffsetHash</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8c66fc6bb666006ac6243084864487b6" name="a8c66fc6bb666006ac6243084864487b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c66fc6bb666006ac6243084864487b6">&#9670;&#160;</a></span>QueryFileCacheContextPtr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a8c66fc6bb666006ac6243084864487b6">QueryFileCacheContextPtr</a> =  std::shared_ptr&lt;<a class="el" href="../../dc/d47/structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context.html">QueryFileCacheContext</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a18f35fffa11659535addfdd93902c7f4" name="a18f35fffa11659535addfdd93902c7f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18f35fffa11659535addfdd93902c7f4">&#9670;&#160;</a></span>QueryFileCacheContextMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a18f35fffa11659535addfdd93902c7f4">QueryFileCacheContextMap</a> =  std::unordered_map&lt;TUniqueId, <a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a8c66fc6bb666006ac6243084864487b6">QueryFileCacheContextPtr</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3c7d80a775cb9b2160e61a945865f534" name="a3c7d80a775cb9b2160e61a945865f534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c7d80a775cb9b2160e61a945865f534">&#9670;&#160;</a></span>QueryFileCacheContextHolderPtr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a3c7d80a775cb9b2160e61a945865f534">QueryFileCacheContextHolderPtr</a> =  std::unique_ptr&lt;<a class="el" href="../../d8/de4/structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_holder.html">QueryFileCacheContextHolder</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">构造及析构函数说明</h2>
<a id="ad07c893ec247912b88517cdd135f096f" name="ad07c893ec247912b88517cdd135f096f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad07c893ec247912b88517cdd135f096f">&#9670;&#160;</a></span>IFileCache() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html">IFileCache</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cache_base_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dd/d31/structdoris_1_1io_1_1_file_cache_settings.html">FileCacheSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>cache_settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab8bdf5ea6dfa35e06034b9f40a56c551" name="ab8bdf5ea6dfa35e06034b9f40a56c551"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8bdf5ea6dfa35e06034b9f40a56c551">&#9670;&#160;</a></span>~IFileCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html">IFileCache</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af8b58118d10530d3871c222d86a9e61a" name="af8b58118d10530d3871c222d86a9e61a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8b58118d10530d3871c222d86a9e61a">&#9670;&#160;</a></span>IFileCache() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html">IFileCache</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html">IFileCache</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="a5f5cff6d7a886d22eaf83df239062a12" name="a5f5cff6d7a886d22eaf83df239062a12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f5cff6d7a886d22eaf83df239062a12">&#9670;&#160;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restore cache from local filesystem. </p>

<p>在 <a class="el" href="../../d2/ddb/classdoris_1_1io_1_1_l_r_u_file_cache.html#a795d70c736c3b9b8296faf7959f83403">LRUFileCache</a> 内被实现.</p>

</div>
</div>
<a id="a05953820c1167f79f29c7633162c89e0" name="a05953820c1167f79f29c7633162c89e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05953820c1167f79f29c7633162c89e0">&#9670;&#160;</a></span>remove_if_exists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void remove_if_exists </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_persistent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在 <a class="el" href="../../d2/ddb/classdoris_1_1io_1_1_l_r_u_file_cache.html#aa47a7087bd47c22bfda85416b3aa9b24">LRUFileCache</a> 内被实现.</p>

</div>
</div>
<a id="ab3234e7d45625019069bd2817c54feca" name="ab3234e7d45625019069bd2817c54feca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3234e7d45625019069bd2817c54feca">&#9670;&#160;</a></span>remove_if_releasable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void remove_if_releasable </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_persistent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在 <a class="el" href="../../d2/ddb/classdoris_1_1io_1_1_l_r_u_file_cache.html#a81306e93a8759d883c10f2335dc06d4b">LRUFileCache</a> 内被实现.</p>

</div>
</div>
<a id="a7223528283cd4e5872e0cc716bf9bd9d" name="a7223528283cd4e5872e0cc716bf9bd9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7223528283cd4e5872e0cc716bf9bd9d">&#9670;&#160;</a></span>capacity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t capacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../de/d06/classdoris_1_1_cache.html">Cache</a> capacity in bytes. </p>

</div>
</div>
<a id="af618e53b20e5e19b7b976dac4620a216" name="af618e53b20e5e19b7b976dac4620a216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af618e53b20e5e19b7b976dac4620a216">&#9670;&#160;</a></span>hash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">IFileCache::Key</a> hash </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/dc4/classdoris_1_1io_1_1_i_file_cache_af618e53b20e5e19b7b976dac4620a216_cgraph.svg" width="540" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/dc4/classdoris_1_1io_1_1_i_file_cache_af618e53b20e5e19b7b976dac4620a216_icgraph.svg" width="336" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a4d09a4047f95b0143001f69f59548d30" name="a4d09a4047f95b0143001f69f59548d30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d09a4047f95b0143001f69f59548d30">&#9670;&#160;</a></span>get_path_in_local_cache() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string get_path_in_local_cache </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_persistent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/dc4/classdoris_1_1io_1_1_i_file_cache_a4d09a4047f95b0143001f69f59548d30_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/dc4/classdoris_1_1io_1_1_i_file_cache_a4d09a4047f95b0143001f69f59548d30_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a5bc9e70487e1ef3e5ba3b0e577a0fa20" name="a5bc9e70487e1ef3e5ba3b0e577a0fa20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bc9e70487e1ef3e5ba3b0e577a0fa20">&#9670;&#160;</a></span>get_path_in_local_cache() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string get_path_in_local_cache </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/dc4/classdoris_1_1io_1_1_i_file_cache_a5bc9e70487e1ef3e5ba3b0e577a0fa20_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0c437bfbf13578710df28996a11c181d" name="a0c437bfbf13578710df28996a11c181d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c437bfbf13578710df28996a11c181d">&#9670;&#160;</a></span>get_base_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; get_base_path </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a795ade0b90afc69fddcc18ccde18a49f" name="a795ade0b90afc69fddcc18ccde18a49f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a795ade0b90afc69fddcc18ccde18a49f">&#9670;&#160;</a></span>try_get_cache_paths()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt; std::string &gt; try_get_cache_paths </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_persistent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在 <a class="el" href="../../d2/ddb/classdoris_1_1io_1_1_l_r_u_file_cache.html#a17c021e102f9a430377feed83a3a8b13">LRUFileCache</a> 内被实现.</p>

</div>
</div>
<a id="a9080d155c7a2120f589d67c58a0a9a07" name="a9080d155c7a2120f589d67c58a0a9a07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9080d155c7a2120f589d67c58a0a9a07">&#9670;&#160;</a></span>get_or_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d1/d47/structdoris_1_1io_1_1_file_blocks_holder.html">FileBlocksHolder</a> get_or_set </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_persistent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TUniqueId &amp;&#160;</td>
          <td class="paramname"><em>query_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Given an <code>offset</code> and <code>size</code> representing [offset, offset + size) bytes interval, return list of cached non-overlapping non-empty file segments <code>[segment1, ..., segmentN]</code> which intersect with given interval.</p>
<p>Segments in returned list are ordered in ascending order and represent a full contiguous interval (no holes). Each segment in returned list has state: DOWNLOADED, DOWNLOADING or EMPTY.</p>
<p>As long as pointers to returned file segments are hold it is guaranteed that these file segments are not removed from cache. </p>

<p>在 <a class="el" href="../../d2/ddb/classdoris_1_1io_1_1_l_r_u_file_cache.html#aa01842a257dfda4a1079d7817291181a">LRUFileCache</a> 内被实现.</p>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/dc4/classdoris_1_1io_1_1_i_file_cache_a9080d155c7a2120f589d67c58a0a9a07_icgraph.svg" width="566" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa71ca3b482c454ff756a920373e49e60" name="aa71ca3b482c454ff756a920373e49e60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa71ca3b482c454ff756a920373e49e60">&#9670;&#160;</a></span>dump_structure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string dump_structure </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_persistent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For debug. </p>

<p>在 <a class="el" href="../../d2/ddb/classdoris_1_1io_1_1_l_r_u_file_cache.html#a7500355b22c1715b6d9ae0facdc05453">LRUFileCache</a> 内被实现.</p>

</div>
</div>
<a id="ae52850983c7b2983a900c99d42d31352" name="ae52850983c7b2983a900c99d42d31352"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae52850983c7b2983a900c99d42d31352">&#9670;&#160;</a></span>get_used_cache_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t get_used_cache_size </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_persistent</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在 <a class="el" href="../../d2/ddb/classdoris_1_1io_1_1_l_r_u_file_cache.html#ad4c327f08641ee8ce840a7d54b4c9745">LRUFileCache</a> 内被实现.</p>

</div>
</div>
<a id="a9d792866e963ac72b456d2a6e6918e4c" name="a9d792866e963ac72b456d2a6e6918e4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d792866e963ac72b456d2a6e6918e4c">&#9670;&#160;</a></span>get_file_segments_num()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t get_file_segments_num </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_persistent</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在 <a class="el" href="../../d2/ddb/classdoris_1_1io_1_1_l_r_u_file_cache.html#aa6a7fdbfb1146b13107e4e1dfd100182">LRUFileCache</a> 内被实现.</p>

</div>
</div>
<a id="ae955d078e388d75740eddf5f701a305f" name="ae955d078e388d75740eddf5f701a305f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae955d078e388d75740eddf5f701a305f">&#9670;&#160;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html">IFileCache</a> &amp; operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html">IFileCache</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9084413812a61833bd99dc21f94f94ec" name="a9084413812a61833bd99dc21f94f94ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9084413812a61833bd99dc21f94f94ec">&#9670;&#160;</a></span>try_reserve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool try_reserve </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TUniqueId &amp;&#160;</td>
          <td class="paramname"><em>query_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_persistent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::lock_guard&lt; std::mutex &gt; &amp;&#160;</td>
          <td class="paramname"><em>cache_lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在 <a class="el" href="../../d2/ddb/classdoris_1_1io_1_1_l_r_u_file_cache.html#aa12d90e78295c706f726f3f38ba0937f">LRUFileCache</a> 内被实现.</p>

</div>
</div>
<a id="a67d6cf0a4d5c2d331edfe8736fe50846" name="a67d6cf0a4d5c2d331edfe8736fe50846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67d6cf0a4d5c2d331edfe8736fe50846">&#9670;&#160;</a></span>remove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void remove </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/dbc/structdoris_1_1io_1_1_i_file_cache_1_1_key.html">Key</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_persistent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::lock_guard&lt; std::mutex &gt; &amp;&#160;</td>
          <td class="paramname"><em>cache_lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::lock_guard&lt; std::mutex &gt; &amp;&#160;</td>
          <td class="paramname"><em>segment_lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在 <a class="el" href="../../d2/ddb/classdoris_1_1io_1_1_l_r_u_file_cache.html#a9842f06e7eca4524f3dfa4b09f1cbb9c">LRUFileCache</a> 内被实现.</p>

</div>
</div>
<a id="a5b2a6670f77761ee0e166c8319ed74fe" name="a5b2a6670f77761ee0e166c8319ed74fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b2a6670f77761ee0e166c8319ed74fe">&#9670;&#160;</a></span>get_query_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a8c66fc6bb666006ac6243084864487b6">IFileCache::QueryFileCacheContextPtr</a> get_query_context </td>
          <td>(</td>
          <td class="paramtype">const TUniqueId &amp;&#160;</td>
          <td class="paramname"><em>query_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::lock_guard&lt; std::mutex &gt; &amp;&#160;</td>
          <td class="paramname"><em>cache_lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/dc4/classdoris_1_1io_1_1_i_file_cache_a5b2a6670f77761ee0e166c8319ed74fe_icgraph.svg" width="100%" height="460"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a171ce34f33a2715f0697f2676892b2ae" name="a171ce34f33a2715f0697f2676892b2ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a171ce34f33a2715f0697f2676892b2ae">&#9670;&#160;</a></span>remove_query_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void remove_query_context </td>
          <td>(</td>
          <td class="paramtype">const TUniqueId &amp;&#160;</td>
          <td class="paramname"><em>query_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/dc4/classdoris_1_1io_1_1_i_file_cache_a171ce34f33a2715f0697f2676892b2ae_icgraph.svg" width="430" height="66"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a227d0732b6b1e1ec43cbb6bddcd5e5dc" name="a227d0732b6b1e1ec43cbb6bddcd5e5dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a227d0732b6b1e1ec43cbb6bddcd5e5dc">&#9670;&#160;</a></span>get_or_set_query_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a8c66fc6bb666006ac6243084864487b6">IFileCache::QueryFileCacheContextPtr</a> get_or_set_query_context </td>
          <td>(</td>
          <td class="paramtype">const TUniqueId &amp;&#160;</td>
          <td class="paramname"><em>query_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::lock_guard&lt; std::mutex &gt; &amp;&#160;</td>
          <td class="paramname"><em>cache_lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/dc4/classdoris_1_1io_1_1_i_file_cache_a227d0732b6b1e1ec43cbb6bddcd5e5dc_cgraph.svg" width="360" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/dc4/classdoris_1_1io_1_1_i_file_cache_a227d0732b6b1e1ec43cbb6bddcd5e5dc_icgraph.svg" width="402" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3636e05272af94893026ac964ec401fd" name="a3636e05272af94893026ac964ec401fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3636e05272af94893026ac964ec401fd">&#9670;&#160;</a></span>get_query_context_holder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a3c7d80a775cb9b2160e61a945865f534">IFileCache::QueryFileCacheContextHolderPtr</a> get_query_context_holder </td>
          <td>(</td>
          <td class="paramtype">const TUniqueId &amp;&#160;</td>
          <td class="paramname"><em>query_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>if enable_filesystem_query_cache_limit is true, we create context query for current query.</p>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/dc4/classdoris_1_1io_1_1_i_file_cache_a3636e05272af94893026ac964ec401fd_cgraph.svg" width="579" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">友元及相关函数文档</h2>
<a id="a684c969311782d2272c092f179aca324" name="a684c969311782d2272c092f179aca324"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a684c969311782d2272c092f179aca324">&#9670;&#160;</a></span>FileBlock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="../../db/d15/classdoris_1_1io_1_1_file_block.html">FileBlock</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af2afbba87b00d7e347dc99079c18295c" name="af2afbba87b00d7e347dc99079c18295c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2afbba87b00d7e347dc99079c18295c">&#9670;&#160;</a></span>FileBlocksHolder</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="../../d1/d47/structdoris_1_1io_1_1_file_blocks_holder.html">FileBlocksHolder</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">类成员变量说明</h2>
<a id="a2ba6697a12d63637494dbeec00ff3a78" name="a2ba6697a12d63637494dbeec00ff3a78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ba6697a12d63637494dbeec00ff3a78">&#9670;&#160;</a></span>_cache_base_path</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string _cache_base_path</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab0288896c161455b7451327a41d33e74" name="ab0288896c161455b7451327a41d33e74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0288896c161455b7451327a41d33e74">&#9670;&#160;</a></span>_max_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t _max_size = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a19cbdfacaa469abf31575087e0473a73" name="a19cbdfacaa469abf31575087e0473a73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19cbdfacaa469abf31575087e0473a73">&#9670;&#160;</a></span>_max_element_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t _max_element_size = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a79ca82467b815ca27bb285d6185c1fe8" name="a79ca82467b815ca27bb285d6185c1fe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79ca82467b815ca27bb285d6185c1fe8">&#9670;&#160;</a></span>_persistent_max_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t _persistent_max_size = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6f6f9a282d55df2917b54cf99d501785" name="a6f6f9a282d55df2917b54cf99d501785"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f6f9a282d55df2917b54cf99d501785">&#9670;&#160;</a></span>_persistent_max_element_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t _persistent_max_element_size = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afa297c207d83ea0b9ebf5cee4fbad83a" name="afa297c207d83ea0b9ebf5cee4fbad83a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa297c207d83ea0b9ebf5cee4fbad83a">&#9670;&#160;</a></span>_max_file_segment_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t _max_file_segment_size = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad8ab93e3585b26c3ff70100f829e448b" name="ad8ab93e3585b26c3ff70100f829e448b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8ab93e3585b26c3ff70100f829e448b">&#9670;&#160;</a></span>_max_query_cache_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t _max_query_cache_size = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa47905df0a83061082cf11f932a918df" name="aa47905df0a83061082cf11f932a918df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa47905df0a83061082cf11f932a918df">&#9670;&#160;</a></span>_is_initialized</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool _is_initialized = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3f0b4c278cb19f9c2b2dbdb065f51e14" name="a3f0b4c278cb19f9c2b2dbdb065f51e14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f0b4c278cb19f9c2b2dbdb065f51e14">&#9670;&#160;</a></span>_mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex _mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a243744aff6497bffe2dfde68e4b064bd" name="a243744aff6497bffe2dfde68e4b064bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a243744aff6497bffe2dfde68e4b064bd">&#9670;&#160;</a></span>_query_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dc4/classdoris_1_1io_1_1_i_file_cache.html#a18f35fffa11659535addfdd93902c7f4">QueryFileCacheContextMap</a> _query_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8b3d22a40257298552eb609d18cb2219" name="a8b3d22a40257298552eb609d18cb2219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b3d22a40257298552eb609d18cb2219">&#9670;&#160;</a></span>_enable_file_cache_query_limit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool _enable_file_cache_query_limit = config::enable_file_cache_query_limit</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>/Users/dabowang/be_all/io/cache/block/<a class="el" href="../../d7/da2/block__file__cache_8h_source.html">block_file_cache.h</a></li>
<li>/Users/dabowang/be_all/io/cache/block/<a class="el" href="../../d6/d4c/block__file__cache_8cpp.html">block_file_cache.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
