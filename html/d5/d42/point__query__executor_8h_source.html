<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>be_all: /Users/dabowang/doris/be/src/service/point_query_executor.h 源文件</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">be_all
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b08de747208093f820e51238c25d3efa.html">doris</a></li><li class="navelem"><a class="el" href="../../dir_787e83bab9583898d4b4b77c9e19718a.html">be</a></li><li class="navelem"><a class="el" href="../../dir_b680d7e4fd62afc6a08788ccb1c35ea0.html">src</a></li><li class="navelem"><a class="el" href="../../dir_a3ba0c73375d0db58231c5891c5bf634.html">service</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">point_query_executor.h</div></div>
</div><!--header-->
<div class="contents">
<a href="../../d5/d42/point__query__executor_8h.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Licensed to the Apache Software Foundation (ASF) under one</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// or more contributor license agreements.  See the NOTICE file</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// distributed with this work for additional information</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">// regarding copyright ownership.  The ASF licenses this file</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">// to you under the Apache License, Version 2.0 (the</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">// &quot;License&quot;); you may not use this file except in compliance</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">// with the License.  You may obtain a copy of the License at</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">//</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">//   http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">//</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">// Unless required by applicable law or agreed to in writing,</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">// software distributed under the License is distributed on an</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">// &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">// KIND, either express or implied.  See the License for the</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">// specific language governing permissions and limitations</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">// under the License.</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;butil/containers/doubly_buffered_data.h&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="../../d1/d13/status_8h.html">common/status.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;gen_cpp/internal_service.pb.h&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="../../d0/ddd/int128_8h.html">gutil/int128.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="../../db/d47/olap_2olap__common_8h.html">olap/olap_common.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="../../d8/d75/rowset_8h.html">olap/rowset/rowset.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="../../dc/d1e/tablet_8h.html">olap/tablet.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="../../d6/d5d/runtime__profile_8h.html">util/runtime_profile.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="../../de/d40/block_8h.html">vec/core/block.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d6/d94/namespacedoris.html">doris</a> {</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="keyword">class </span>RowCache;</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="keyword">class </span>Cache;</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span> </div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="comment">// For caching point lookup pre allocted blocks and exprs</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="../../de/d0b/classdoris_1_1_reusable.html">   38</a></span><span class="keyword">class </span><a class="code hl_class" href="../../de/d0b/classdoris_1_1_reusable.html">Reusable</a> {</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <a class="code hl_function" href="../../de/d0b/classdoris_1_1_reusable.html#ad2db134ba74ea0cfdda47c8d0e7a5dd8">~Reusable</a>();</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="../../de/d0b/classdoris_1_1_reusable.html#a3c4ac30ce1556c9a2cfde887ff5d0e11">   42</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="../../de/d0b/classdoris_1_1_reusable.html#a3c4ac30ce1556c9a2cfde887ff5d0e11">is_expired</a>(int64_t ttl_ms)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>        <span class="keywordflow">return</span> butil::gettimeofday_ms() - <a class="code hl_variable" href="../../de/d0b/classdoris_1_1_reusable.html#a8541e7731c10d763e4d2ff234ec2a02a">_create_timestamp</a> &gt; ttl_ms;</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    }</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../de/d0b/classdoris_1_1_reusable.html#a173ef36b01434c0dc425f7d18624554b">init</a>(<span class="keyword">const</span> TDescriptorTable&amp; t_desc_tbl, <span class="keyword">const</span> std::vector&lt;TExpr&gt;&amp; <a class="code hl_function" href="../../de/d0b/classdoris_1_1_reusable.html#a8278231c2c6fd442a1f8d4fceacee2da">output_exprs</a>,</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>                <span class="keywordtype">size_t</span> block_size = 1);</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    std::unique_ptr&lt;vectorized::Block&gt; <a class="code hl_function" href="../../de/d0b/classdoris_1_1_reusable.html#abed2ea7117120f9b78482fe9ff30568e">get_block</a>();</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span> </div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <span class="comment">// do not touch block after returned</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="../../de/d0b/classdoris_1_1_reusable.html#a601d8a8ee04ce264480f1b847be18d46">return_block</a>(std::unique_ptr&lt;vectorized::Block&gt;&amp; block);</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="../../de/d0b/classdoris_1_1_reusable.html#aa1f3a370cb6dc5ce1e543276620bec87">   54</a></span>    <a class="code hl_class" href="../../d6/d50/classdoris_1_1_tuple_descriptor.html">TupleDescriptor</a>* <a class="code hl_function" href="../../de/d0b/classdoris_1_1_reusable.html#aa1f3a370cb6dc5ce1e543276620bec87">tuple_desc</a>() { <span class="keywordflow">return</span> <a class="code hl_variable" href="../../de/d0b/classdoris_1_1_reusable.html#a1cb9da114bfc721527862c9a30bac428">_desc_tbl</a>-&gt;<a class="code hl_function" href="../../da/d43/classdoris_1_1_descriptor_tbl.html#afe6eb6a823dd3fc7d47f2fd8a43e4f33">get_tuple_descriptor</a>(0); }</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="../../de/d0b/classdoris_1_1_reusable.html#a8278231c2c6fd442a1f8d4fceacee2da">   56</a></span>    <span class="keyword">const</span> std::vector&lt;vectorized::VExprContext*&gt;&amp; <a class="code hl_function" href="../../de/d0b/classdoris_1_1_reusable.html#a8278231c2c6fd442a1f8d4fceacee2da">output_exprs</a>() { <span class="keywordflow">return</span> <a class="code hl_variable" href="../../de/d0b/classdoris_1_1_reusable.html#aa5333d5a0e1e9cac9439e4ff9aaf7a59">_output_exprs_ctxs</a>; }</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="comment">// caching TupleDescriptor, output_expr, etc...</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="../../de/d0b/classdoris_1_1_reusable.html#a46170bcb9a55ad401f8f75781afc1544">   60</a></span>    std::unique_ptr&lt;RuntimeState&gt; <a class="code hl_variable" href="../../de/d0b/classdoris_1_1_reusable.html#a46170bcb9a55ad401f8f75781afc1544">_runtime_state</a>;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="../../de/d0b/classdoris_1_1_reusable.html#a1cb9da114bfc721527862c9a30bac428">   61</a></span>    <a class="code hl_class" href="../../da/d43/classdoris_1_1_descriptor_tbl.html">DescriptorTbl</a>* <a class="code hl_variable" href="../../de/d0b/classdoris_1_1_reusable.html#a1cb9da114bfc721527862c9a30bac428">_desc_tbl</a>;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="../../de/d0b/classdoris_1_1_reusable.html#a6a5e3add3f28cf6ad9075f84858f12a3">   62</a></span>    std::mutex <a class="code hl_variable" href="../../de/d0b/classdoris_1_1_reusable.html#a6a5e3add3f28cf6ad9075f84858f12a3">_block_mutex</a>;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    <span class="comment">// prevent from allocte too many tmp blocks</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="../../de/d0b/classdoris_1_1_reusable.html#a6188103aa561835033c24b17aaf67ab9">   64</a></span>    std::vector&lt;std::unique_ptr&lt;vectorized::Block&gt;&gt; <a class="code hl_variable" href="../../de/d0b/classdoris_1_1_reusable.html#a6188103aa561835033c24b17aaf67ab9">_block_pool</a>;</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="../../de/d0b/classdoris_1_1_reusable.html#aa5333d5a0e1e9cac9439e4ff9aaf7a59">   65</a></span>    std::vector&lt;vectorized::VExprContext*&gt; <a class="code hl_variable" href="../../de/d0b/classdoris_1_1_reusable.html#aa5333d5a0e1e9cac9439e4ff9aaf7a59">_output_exprs_ctxs</a>;</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="../../de/d0b/classdoris_1_1_reusable.html#a8541e7731c10d763e4d2ff234ec2a02a">   66</a></span>    int64_t <a class="code hl_variable" href="../../de/d0b/classdoris_1_1_reusable.html#a8541e7731c10d763e4d2ff234ec2a02a">_create_timestamp</a> = 0;</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>};</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span> </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="comment">// RowCache is a LRU cache for row store</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="../../d0/da0/classdoris_1_1_row_cache.html">   70</a></span><span class="keyword">class </span><a class="code hl_class" href="../../d0/da0/classdoris_1_1_row_cache.html">RowCache</a> {</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <span class="comment">// The cache key for row lru cache</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html">   73</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html">RowCacheKey</a> {</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a48be9475be9e8520bdb23eadb1836131">   74</a></span>        <a class="code hl_function" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a48be9475be9e8520bdb23eadb1836131">RowCacheKey</a>(int64_t <a class="code hl_variable" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a1507735acbeddbdf20663acb53ed7803">tablet_id</a>, <span class="keyword">const</span> <a class="code hl_struct" href="../../d7/da2/structdoris_1_1_slice.html">Slice</a>&amp; <a class="code hl_variable" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a60214260b7bd8510d0dea2641509cf6c">key</a>) : <a class="code hl_variable" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a1507735acbeddbdf20663acb53ed7803">tablet_id</a>(<a class="code hl_variable" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a1507735acbeddbdf20663acb53ed7803">tablet_id</a>), <a class="code hl_variable" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a60214260b7bd8510d0dea2641509cf6c">key</a>(<a class="code hl_variable" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a60214260b7bd8510d0dea2641509cf6c">key</a>) {}</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a1507735acbeddbdf20663acb53ed7803">   75</a></span>        int64_t <a class="code hl_variable" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a1507735acbeddbdf20663acb53ed7803">tablet_id</a>;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a60214260b7bd8510d0dea2641509cf6c">   76</a></span>        <a class="code hl_struct" href="../../d7/da2/structdoris_1_1_slice.html">Slice</a> <a class="code hl_variable" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a60214260b7bd8510d0dea2641509cf6c">key</a>;</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span> </div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>        <span class="comment">// Encode to a flat binary which can be used as LRUCache&#39;s key</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno"><a class="line" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a4b6672eb8de905bde11bb092d43d50e2">   79</a></span>        std::string <a class="code hl_function" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a4b6672eb8de905bde11bb092d43d50e2">encode</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>            std::string full_key;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>            full_key.resize(<span class="keyword">sizeof</span>(int64_t) + <a class="code hl_variable" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a60214260b7bd8510d0dea2641509cf6c">key</a>.<a class="code hl_variable" href="../../d7/da2/structdoris_1_1_slice.html#a854352f53b148adc24983a58a1866d66">size</a>);</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>            <a class="code hl_define" href="../../d1/d56/mysql__global_8h.html#a7a9e0ca052e0f568fcf4c7dce0a95532">int8store</a>(&amp;full_key.front(), <a class="code hl_variable" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a1507735acbeddbdf20663acb53ed7803">tablet_id</a>);</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>            <a class="code hl_function" href="../../d9/d1e/memcpy__aarch64_8cpp.html#a156c5821f16ed93be8c7d315303f7b2a">memcpy</a>((&amp;full_key.front()) + <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a1507735acbeddbdf20663acb53ed7803">tablet_id</a>), <a class="code hl_variable" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a60214260b7bd8510d0dea2641509cf6c">key</a>.<a class="code hl_variable" href="../../d7/da2/structdoris_1_1_slice.html#a91a70b77df95bd8b0830b49a094c2acb">data</a>, <a class="code hl_variable" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a60214260b7bd8510d0dea2641509cf6c">key</a>.<a class="code hl_variable" href="../../d7/da2/structdoris_1_1_slice.html#a854352f53b148adc24983a58a1866d66">size</a>);</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>            <span class="keywordflow">return</span> full_key;</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>        }</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    };</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <span class="comment">// A handle for RowCache entry. This class make it easy to handle</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="comment">// Cache entry. Users don&#39;t need to release the obtained cache entry. This</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <span class="comment">// class will release the cache entry when it is destroyed.</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno"><a class="line" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html">   91</a></span>    <span class="keyword">class </span><a class="code hl_class" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html">CacheHandle</a> {</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno"><a class="line" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a00115c074cf6a082227b3ae3c6c3298c">   93</a></span>        <a class="code hl_function" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a00115c074cf6a082227b3ae3c6c3298c">CacheHandle</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno"><a class="line" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a09a1ba91c8842492a75c3c4a55706089">   94</a></span>        <a class="code hl_function" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a09a1ba91c8842492a75c3c4a55706089">CacheHandle</a>(<a class="code hl_class" href="../../de/d06/classdoris_1_1_cache.html">Cache</a>* <a class="code hl_function" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#abf8f5a3b11435739d7e5bd64eaef16bc">cache</a>, <a class="code hl_struct" href="../../d7/d8b/structdoris_1_1_cache_1_1_handle.html">Cache::Handle</a>* handle) : <a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#ae4aa7a67fed999411ade4adc1ff27445">_cache</a>(<a class="code hl_function" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#abf8f5a3b11435739d7e5bd64eaef16bc">cache</a>), <a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a7c90e50ce6ee6e0c311b05e8ee2618d3">_handle</a>(handle) {}</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a5467a1df350a7f26288c876506598cc3">   95</a></span>        <a class="code hl_function" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a5467a1df350a7f26288c876506598cc3">~CacheHandle</a>() {</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a7c90e50ce6ee6e0c311b05e8ee2618d3">_handle</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>                <a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#ae4aa7a67fed999411ade4adc1ff27445">_cache</a>-&gt;<a class="code hl_function" href="../../de/d06/classdoris_1_1_cache.html#a99ff5ff87dc624c6460076b6e6879011">release</a>(<a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a7c90e50ce6ee6e0c311b05e8ee2618d3">_handle</a>);</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>            }</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>        }</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno"><a class="line" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a0aabcbe70c01b6661d3e1a79f35bfe32">  101</a></span>        <a class="code hl_function" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a0aabcbe70c01b6661d3e1a79f35bfe32">CacheHandle</a>(<a class="code hl_class" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html">CacheHandle</a>&amp;&amp; other) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>            std::swap(<a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#ae4aa7a67fed999411ade4adc1ff27445">_cache</a>, other._cache);</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>            std::swap(<a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a7c90e50ce6ee6e0c311b05e8ee2618d3">_handle</a>, other._handle);</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>        }</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#aa0df700cf9f18bc04e60d2ed253dcea7">  106</a></span>        <a class="code hl_class" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html">CacheHandle</a>&amp; <a class="code hl_function" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#aa0df700cf9f18bc04e60d2ed253dcea7">operator=</a>(<a class="code hl_class" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html">CacheHandle</a>&amp;&amp; other) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>            std::swap(<a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#ae4aa7a67fed999411ade4adc1ff27445">_cache</a>, other._cache);</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>            std::swap(<a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a7c90e50ce6ee6e0c311b05e8ee2618d3">_handle</a>, other._handle);</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>        }</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span> </div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a1153e3a77aa46ed8f7683e71c60f4584">  112</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a1153e3a77aa46ed8f7683e71c60f4584">valid</a>() { <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#ae4aa7a67fed999411ade4adc1ff27445">_cache</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a7c90e50ce6ee6e0c311b05e8ee2618d3">_handle</a> != <span class="keyword">nullptr</span>; }</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno"><a class="line" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#abf8f5a3b11435739d7e5bd64eaef16bc">  114</a></span>        <a class="code hl_class" href="../../de/d06/classdoris_1_1_cache.html">Cache</a>* <a class="code hl_function" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#abf8f5a3b11435739d7e5bd64eaef16bc">cache</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#ae4aa7a67fed999411ade4adc1ff27445">_cache</a>; }</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno"><a class="line" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#ac345abcb9d1a417959d5d1d54339ca2e">  115</a></span>        <a class="code hl_struct" href="../../d7/da2/structdoris_1_1_slice.html">Slice</a> <a class="code hl_function" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#ac345abcb9d1a417959d5d1d54339ca2e">data</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#ae4aa7a67fed999411ade4adc1ff27445">_cache</a>-&gt;<a class="code hl_function" href="../../de/d06/classdoris_1_1_cache.html#a1cedcec2a6e02e4762cca7a71d23c080">value_slice</a>(<a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a7c90e50ce6ee6e0c311b05e8ee2618d3">_handle</a>); }</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#ae4aa7a67fed999411ade4adc1ff27445">  118</a></span>        <a class="code hl_class" href="../../de/d06/classdoris_1_1_cache.html">Cache</a>* <a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#ae4aa7a67fed999411ade4adc1ff27445">_cache</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno"><a class="line" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a7c90e50ce6ee6e0c311b05e8ee2618d3">  119</a></span>        <a class="code hl_struct" href="../../d7/d8b/structdoris_1_1_cache_1_1_handle.html">Cache::Handle</a>* <a class="code hl_variable" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a7c90e50ce6ee6e0c311b05e8ee2618d3">_handle</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span> </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        <span class="comment">// Don&#39;t allow copy and assign</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno"><a class="line" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#adb5bedabc91c232b1758ffcd66b5863e">  122</a></span>        <a class="code hl_function" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#adb5bedabc91c232b1758ffcd66b5863e">DISALLOW_COPY_AND_ASSIGN</a>(<a class="code hl_class" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html">CacheHandle</a>);</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    };</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="comment">// Create global instance of this class</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="../../d0/da0/classdoris_1_1_row_cache.html#a3bca404e8350b38d87a7ceea0e72bf0b">create_global_cache</a>(int64_t capacity, uint32_t num_shards = <a class="code hl_variable" href="../../d0/da0/classdoris_1_1_row_cache.html#a195b1f6a2c95ead87586187857dc798c">kDefaultNumShards</a>);</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="keyword">static</span> <a class="code hl_class" href="../../d0/da0/classdoris_1_1_row_cache.html">RowCache</a>* <a class="code hl_function" href="../../d0/da0/classdoris_1_1_row_cache.html#ad5d304483624da9540220330572cad36">instance</a>();</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span> </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="comment">// Lookup a row key from cache,</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="comment">// If the Row key is found, the cache entry will be written into handle.</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="comment">// CacheHandle will release cache entry to cache when it destructs</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="comment">// Return true if entry is found, otherwise return false.</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="../../d0/da0/classdoris_1_1_row_cache.html#a0558e4c0fb198639f1fae62c70e6e838">lookup</a>(<span class="keyword">const</span> <a class="code hl_struct" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html">RowCacheKey</a>&amp; key, <a class="code hl_class" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html">CacheHandle</a>* handle);</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span> </div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="comment">// Insert a row with key into this cache.</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="comment">// This function is thread-safe, and when two clients insert two same key</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="comment">// concurrently, this function can assure that only one page is cached.</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="comment">// The in_memory page will have higher priority.</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="../../d0/da0/classdoris_1_1_row_cache.html#aaeb93baa4fd96d0bd38fe2164a4933db">insert</a>(<span class="keyword">const</span> <a class="code hl_struct" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html">RowCacheKey</a>&amp; key, <span class="keyword">const</span> <a class="code hl_struct" href="../../d7/da2/structdoris_1_1_slice.html">Slice</a>&amp; <a class="code hl_variable" href="../../d5/d29/uint24_8h.html#aa99be7b8b4274b2256b394ea7bf80762">data</a>);</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="../../d0/da0/classdoris_1_1_row_cache.html#a4d575c4a79fe1f79ae087711476bcc65">erase</a>(<span class="keyword">const</span> <a class="code hl_struct" href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html">RowCacheKey</a>&amp; key);</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span> </div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno"><a class="line" href="../../d0/da0/classdoris_1_1_row_cache.html#a195b1f6a2c95ead87586187857dc798c">  146</a></span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> uint32_t <a class="code hl_variable" href="../../d0/da0/classdoris_1_1_row_cache.html#a195b1f6a2c95ead87586187857dc798c">kDefaultNumShards</a> = 128;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <a class="code hl_class" href="../../d0/da0/classdoris_1_1_row_cache.html">RowCache</a>(int64_t capacity, <span class="keywordtype">int</span> num_shards = <a class="code hl_variable" href="../../d0/da0/classdoris_1_1_row_cache.html#a195b1f6a2c95ead87586187857dc798c">kDefaultNumShards</a>);</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno"><a class="line" href="../../d0/da0/classdoris_1_1_row_cache.html#a4ac9bba2b3a477d775a22dff3be07d31">  148</a></span>    <span class="keyword">static</span> <a class="code hl_class" href="../../d0/da0/classdoris_1_1_row_cache.html">RowCache</a>* <a class="code hl_variable" href="../../d0/da0/classdoris_1_1_row_cache.html#a4ac9bba2b3a477d775a22dff3be07d31">_s_instance</a>;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno"><a class="line" href="../../d0/da0/classdoris_1_1_row_cache.html#a80235f290f396ea3c3d30148f4b6f445">  149</a></span>    std::unique_ptr&lt;Cache&gt; <a class="code hl_variable" href="../../d0/da0/classdoris_1_1_row_cache.html#a80235f290f396ea3c3d30148f4b6f445">_cache</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>};</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><span class="comment">// A cache used for prepare stmt.</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="comment">// One connection per stmt perf uuid</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="comment">// Use DoublyBufferedData to wrap Cache for performance and thread safe,</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span><span class="comment">// since it&#39;s barely modified</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="../../db/de3/classdoris_1_1_lookup_cache.html">  156</a></span><span class="keyword">class </span><a class="code hl_class" href="../../db/de3/classdoris_1_1_lookup_cache.html">LookupCache</a> {</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="comment">// uuid to reusable</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno"><a class="line" href="../../db/de3/classdoris_1_1_lookup_cache.html#ab194759491203bf5907c9a7f3526767c">  159</a></span>    <span class="keyword">using </span><a class="code hl_typedef" href="../../db/de3/classdoris_1_1_lookup_cache.html#ab194759491203bf5907c9a7f3526767c">Cache</a> = phmap::flat_hash_map&lt;uint128, std::shared_ptr&lt;Reusable&gt;&gt;;</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno"><a class="line" href="../../db/de3/classdoris_1_1_lookup_cache.html#a97e18529d1af6f79bcfa092525b73133">  160</a></span>    <span class="keyword">using </span><a class="code hl_typedef" href="../../db/de3/classdoris_1_1_lookup_cache.html#a97e18529d1af6f79bcfa092525b73133">CacheIter</a> = Cache::iterator;</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span> </div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno"><a class="line" href="../../db/de3/classdoris_1_1_lookup_cache.html#afb6a0c73f908020a210fe966cda3af14">  162</a></span>    <a class="code hl_function" href="../../db/de3/classdoris_1_1_lookup_cache.html#afb6a0c73f908020a210fe966cda3af14">LookupCache</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno"><a class="line" href="../../db/de3/classdoris_1_1_lookup_cache.html#adda078b37d5b8c68658259afe1aa85b4">  163</a></span>    <span class="keyword">static</span> <a class="code hl_class" href="../../db/de3/classdoris_1_1_lookup_cache.html">LookupCache</a>&amp; <a class="code hl_function" href="../../db/de3/classdoris_1_1_lookup_cache.html#adda078b37d5b8c68658259afe1aa85b4">instance</a>() {</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>        <span class="keyword">static</span> <a class="code hl_class" href="../../db/de3/classdoris_1_1_lookup_cache.html">LookupCache</a> ins;</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>        <span class="keywordflow">return</span> ins;</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    }</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> </div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno"><a class="line" href="../../db/de3/classdoris_1_1_lookup_cache.html#a96dec4941fa113cf4b19ff12a8b4f9ed">  168</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="../../db/de3/classdoris_1_1_lookup_cache.html#a96dec4941fa113cf4b19ff12a8b4f9ed">add</a>(<a class="code hl_class" href="../../d7/d4a/classuint128.html">uint128</a> cache_id, std::shared_ptr&lt;Reusable&gt; item) {</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        assert(item != <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>        <a class="code hl_variable" href="../../db/de3/classdoris_1_1_lookup_cache.html#a43e34cc126526d9f95cbf45bcbebc388">_double_buffer_cache</a>.Modify(<a class="code hl_function" href="../../db/de3/classdoris_1_1_lookup_cache.html#a6e354139ddc6154ffb9d4f17dcbfa757">update_cache</a>, std::make_pair(cache_id, item));</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    }</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <span class="comment">// find an item, return null if not exist</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno"><a class="line" href="../../db/de3/classdoris_1_1_lookup_cache.html#afaa96a9758f2b54bf7a594281505b0b0">  174</a></span>    std::shared_ptr&lt;Reusable&gt; <a class="code hl_function" href="../../db/de3/classdoris_1_1_lookup_cache.html#afaa96a9758f2b54bf7a594281505b0b0">get</a>(<a class="code hl_class" href="../../d7/d4a/classuint128.html">uint128</a> cache_id) {</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        butil::DoublyBufferedData&lt;Cache&gt;::ScopedPtr s;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/de3/classdoris_1_1_lookup_cache.html#a43e34cc126526d9f95cbf45bcbebc388">_double_buffer_cache</a>.Read(&amp;s) != 0) {</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>            LOG(WARNING) &lt;&lt; <span class="stringliteral">&quot;failed to get cache from double buffer data&quot;</span>;</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        }</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        <span class="keyword">auto</span> it = s-&gt;find(cache_id);</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>        <span class="keywordflow">if</span> (it != s-&gt;end()) {</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>            <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>        }</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    }</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span> </div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno"><a class="line" href="../../db/de3/classdoris_1_1_lookup_cache.html#a43e34cc126526d9f95cbf45bcbebc388">  188</a></span>    butil::DoublyBufferedData&lt;Cache&gt; <a class="code hl_variable" href="../../db/de3/classdoris_1_1_lookup_cache.html#a43e34cc126526d9f95cbf45bcbebc388">_double_buffer_cache</a>;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <span class="comment">// 30 seconds for expiring an item</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="../../db/de3/classdoris_1_1_lookup_cache.html#a781453d4a355dbd08b9213ae3ac1f47a">  190</a></span>    int32_t <a class="code hl_variable" href="../../db/de3/classdoris_1_1_lookup_cache.html#a781453d4a355dbd08b9213ae3ac1f47a">_expir_seconds</a> = config::tablet_lookup_cache_clean_interval;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span> </div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno"><a class="line" href="../../db/de3/classdoris_1_1_lookup_cache.html#a6e354139ddc6154ffb9d4f17dcbfa757">  192</a></span>    <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code hl_function" href="../../db/de3/classdoris_1_1_lookup_cache.html#a6e354139ddc6154ffb9d4f17dcbfa757">update_cache</a>(<a class="code hl_typedef" href="../../db/de3/classdoris_1_1_lookup_cache.html#ab194759491203bf5907c9a7f3526767c">Cache</a>&amp; old_cache,</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>                               <span class="keyword">const</span> std::pair&lt;<a class="code hl_class" href="../../d7/d4a/classuint128.html">uint128</a>, std::shared_ptr&lt;Reusable&gt;&gt;&amp; p) {</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>        old_cache.emplace(p);</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    }</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno"><a class="line" href="../../db/de3/classdoris_1_1_lookup_cache.html#a6723517a47eb1b020835a5c1857d3559">  198</a></span>    <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code hl_function" href="../../db/de3/classdoris_1_1_lookup_cache.html#a6723517a47eb1b020835a5c1857d3559">remove_items</a>(<a class="code hl_typedef" href="../../db/de3/classdoris_1_1_lookup_cache.html#ab194759491203bf5907c9a7f3526767c">Cache</a>&amp; old_cache, <span class="keyword">const</span> std::vector&lt;uint128&gt;&amp; keys) {</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; keys.size(); ++i) {</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>            old_cache.erase(keys[i]);</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        }</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    }</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <span class="comment">// Called from StorageEngine::_start_clean_lookup_cache</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno"><a class="line" href="../../db/de3/classdoris_1_1_lookup_cache.html#ac40e340b5383f7699a233cd05256f25f">  206</a></span>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code hl_class" href="../../d7/d82/classdoris_1_1_storage_engine.html">StorageEngine</a>;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno"><a class="line" href="../../db/de3/classdoris_1_1_lookup_cache.html#a66ec42d2ff5b84117b1da4cbba719f1b">  207</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="../../db/de3/classdoris_1_1_lookup_cache.html#a66ec42d2ff5b84117b1da4cbba719f1b">prune</a>() {</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        std::vector&lt;uint128&gt; expired_keys;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>        {</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>            butil::DoublyBufferedData&lt;Cache&gt;::ScopedPtr s;</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/de3/classdoris_1_1_lookup_cache.html#a43e34cc126526d9f95cbf45bcbebc388">_double_buffer_cache</a>.Read(&amp;s) != 0) {</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>            }</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = s-&gt;begin(); it != s-&gt;end(); ++it) {</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>                <span class="keywordflow">if</span> (it-&gt;second-&gt;is_expired(<a class="code hl_variable" href="../../db/de3/classdoris_1_1_lookup_cache.html#a781453d4a355dbd08b9213ae3ac1f47a">_expir_seconds</a> * 1000)) {</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>                    expired_keys.push_back(it-&gt;first);</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>                }</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>            }</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>        }</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>        <a class="code hl_variable" href="../../db/de3/classdoris_1_1_lookup_cache.html#a43e34cc126526d9f95cbf45bcbebc388">_double_buffer_cache</a>.Modify(<a class="code hl_function" href="../../db/de3/classdoris_1_1_lookup_cache.html#a6723517a47eb1b020835a5c1857d3559">remove_items</a>, expired_keys);</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>        LOG(INFO) &lt;&lt; <span class="stringliteral">&quot;prune lookup cache, total &quot;</span> &lt;&lt; expired_keys.size() &lt;&lt; <span class="stringliteral">&quot; expired items&quot;</span>;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    }</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>};</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno"><a class="line" href="../../d4/da9/structdoris_1_1_metrics.html">  226</a></span><span class="keyword">struct </span><a class="code hl_struct" href="../../d4/da9/structdoris_1_1_metrics.html">Metrics</a> {</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno"><a class="line" href="../../d4/da9/structdoris_1_1_metrics.html#aac8853916fe40092772145c5093041e9">  227</a></span>    <a class="code hl_function" href="../../d4/da9/structdoris_1_1_metrics.html#aac8853916fe40092772145c5093041e9">Metrics</a>()</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>            : <a class="code hl_variable" href="../../d4/da9/structdoris_1_1_metrics.html#a92d8223152de39af8d61943a2a519341">init_ns</a>(TUnit::TIME_NS),</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>              <a class="code hl_variable" href="../../d4/da9/structdoris_1_1_metrics.html#aa2f1d2ea445b9e1db07d9d4836a0a3dd">init_key_ns</a>(TUnit::TIME_NS),</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>              <a class="code hl_variable" href="../../d4/da9/structdoris_1_1_metrics.html#a7b24d34431baccc2fa3b9f1431061d9f">lookup_key_ns</a>(TUnit::TIME_NS),</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>              <a class="code hl_variable" href="../../d4/da9/structdoris_1_1_metrics.html#a0eac04ead92e7c03c9ccdc1a734e7ea2">lookup_data_ns</a>(TUnit::TIME_NS),</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>              <a class="code hl_variable" href="../../d4/da9/structdoris_1_1_metrics.html#ac9e95b2c047c60a6e110ada374b71be4">output_data_ns</a>(TUnit::TIME_NS) {}</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno"><a class="line" href="../../d4/da9/structdoris_1_1_metrics.html#a92d8223152de39af8d61943a2a519341">  233</a></span>    <a class="code hl_class" href="../../da/d02/classdoris_1_1_runtime_profile_1_1_counter.html">RuntimeProfile::Counter</a> <a class="code hl_variable" href="../../d4/da9/structdoris_1_1_metrics.html#a92d8223152de39af8d61943a2a519341">init_ns</a>;</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno"><a class="line" href="../../d4/da9/structdoris_1_1_metrics.html#aa2f1d2ea445b9e1db07d9d4836a0a3dd">  234</a></span>    <a class="code hl_class" href="../../da/d02/classdoris_1_1_runtime_profile_1_1_counter.html">RuntimeProfile::Counter</a> <a class="code hl_variable" href="../../d4/da9/structdoris_1_1_metrics.html#aa2f1d2ea445b9e1db07d9d4836a0a3dd">init_key_ns</a>;</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno"><a class="line" href="../../d4/da9/structdoris_1_1_metrics.html#a7b24d34431baccc2fa3b9f1431061d9f">  235</a></span>    <a class="code hl_class" href="../../da/d02/classdoris_1_1_runtime_profile_1_1_counter.html">RuntimeProfile::Counter</a> <a class="code hl_variable" href="../../d4/da9/structdoris_1_1_metrics.html#a7b24d34431baccc2fa3b9f1431061d9f">lookup_key_ns</a>;</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="../../d4/da9/structdoris_1_1_metrics.html#a0eac04ead92e7c03c9ccdc1a734e7ea2">  236</a></span>    <a class="code hl_class" href="../../da/d02/classdoris_1_1_runtime_profile_1_1_counter.html">RuntimeProfile::Counter</a> <a class="code hl_variable" href="../../d4/da9/structdoris_1_1_metrics.html#a0eac04ead92e7c03c9ccdc1a734e7ea2">lookup_data_ns</a>;</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno"><a class="line" href="../../d4/da9/structdoris_1_1_metrics.html#ac9e95b2c047c60a6e110ada374b71be4">  237</a></span>    <a class="code hl_class" href="../../da/d02/classdoris_1_1_runtime_profile_1_1_counter.html">RuntimeProfile::Counter</a> <a class="code hl_variable" href="../../d4/da9/structdoris_1_1_metrics.html#ac9e95b2c047c60a6e110ada374b71be4">output_data_ns</a>;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno"><a class="line" href="../../d4/da9/structdoris_1_1_metrics.html#a73e420ad3a9e89deef8030917fe0d197">  238</a></span>    <a class="code hl_struct" href="../../d7/d6c/structdoris_1_1_olap_reader_statistics.html">OlapReaderStatistics</a> <a class="code hl_variable" href="../../d4/da9/structdoris_1_1_metrics.html#a73e420ad3a9e89deef8030917fe0d197">read_stats</a>;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>};</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span><span class="comment">// An util to do tablet lookup</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno"><a class="line" href="../../d6/de5/classdoris_1_1_point_query_executor.html">  242</a></span><span class="keyword">class </span><a class="code hl_class" href="../../d6/de5/classdoris_1_1_point_query_executor.html">PointQueryExecutor</a> {</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a15ef978a29ac5137a3caa3a8a0a7bfc4">init</a>(<span class="keyword">const</span> PTabletKeyLookupRequest* request, PTabletKeyLookupResponse* response);</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d6/de5/classdoris_1_1_point_query_executor.html#aafdc9fce98d14cc95065192634277f22">lookup_up</a>();</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span> </div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    std::string <a class="code hl_function" href="../../d6/de5/classdoris_1_1_point_query_executor.html#add3d3bf31f63409b068d60147be9cc54">print_profile</a>();</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a9cbd41cd87dac78a1dbeae47ddb3f9e2">_init_keys</a>(<span class="keyword">const</span> PTabletKeyLookupRequest* request);</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span> </div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d6/de5/classdoris_1_1_point_query_executor.html#af61da1001dff755be1ef266baf4041bb">_lookup_row_key</a>();</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span> </div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a5599b8e5e02079b130887b4445554db3">_lookup_row_data</a>();</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <a class="code hl_class" href="../../d9/d8d/classdoris_1_1_status.html">Status</a> <a class="code hl_function" href="../../d6/de5/classdoris_1_1_point_query_executor.html#ad0b1cffd5d7a490d274e733fd3e1d6ea">_output_data</a>();</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span> </div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno"><a class="line" href="../../d6/de5/classdoris_1_1_point_query_executor.html#abb920f71fe26dc748a9cf759fcf29850">  259</a></span>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="../../d6/de5/classdoris_1_1_point_query_executor.html#abb920f71fe26dc748a9cf759fcf29850">release_rowset</a>(<a class="code hl_typedef" href="../../d6/d94/namespacedoris.html#a45a11d2c52e9b86e26ff0bb6d9c667d2">RowsetSharedPtr</a>* r) {</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>        <span class="keywordflow">if</span> (r &amp;&amp; *r) {</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>            <a class="code hl_define" href="../../d5/d77/logging_8h.html#afb41b3500177100b5debd414c1effc9e">VLOG_DEBUG</a> &lt;&lt; <span class="stringliteral">&quot;release rowset &quot;</span> &lt;&lt; (*r)-&gt;unique_id();</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>            (*r)-&gt;release();</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        }</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>        <span class="keyword">delete</span> r;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    }</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> </div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    <span class="comment">// Read context for each row</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno"><a class="line" href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html">  268</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html">RowReadContext</a> {</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno"><a class="line" href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#ae1af1a264b15fd1b45a87de45d24cedc">  269</a></span>        <a class="code hl_function" href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#ae1af1a264b15fd1b45a87de45d24cedc">RowReadContext</a>() : <a class="code hl_variable" href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#a36ff50a8645ee6b14f33223a50f01015">_rowset_ptr</a>(nullptr, &amp;<a class="code hl_function" href="../../d6/de5/classdoris_1_1_point_query_executor.html#abb920f71fe26dc748a9cf759fcf29850">release_rowset</a>) {}</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno"><a class="line" href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#aad08646af925f9af0030ecb04effcf3e">  270</a></span>        std::string <a class="code hl_variable" href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#aad08646af925f9af0030ecb04effcf3e">_primary_key</a>;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno"><a class="line" href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#a32c5a145d39a84c6e2a51af5c0c7f64e">  271</a></span>        <a class="code hl_class" href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html">RowCache::CacheHandle</a> <a class="code hl_variable" href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#a32c5a145d39a84c6e2a51af5c0c7f64e">_cached_row_data</a>;</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno"><a class="line" href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#a95d89d2ca027aac19505b92e6e6a921b">  272</a></span>        std::optional&lt;RowLocation&gt; <a class="code hl_variable" href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#a95d89d2ca027aac19505b92e6e6a921b">_row_location</a>;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        <span class="comment">// rowset will be aquired during read</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        <span class="comment">// and released after used</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno"><a class="line" href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#a36ff50a8645ee6b14f33223a50f01015">  275</a></span>        std::unique_ptr&lt;<a class="code hl_typedef" href="../../d6/d94/namespacedoris.html#a45a11d2c52e9b86e26ff0bb6d9c667d2">RowsetSharedPtr</a>, <span class="keyword">decltype</span>(&amp;<a class="code hl_function" href="../../d6/de5/classdoris_1_1_point_query_executor.html#abb920f71fe26dc748a9cf759fcf29850">release_rowset</a>)&gt; <a class="code hl_variable" href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#a36ff50a8645ee6b14f33223a50f01015">_rowset_ptr</a>;</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    };</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> </div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno"><a class="line" href="../../d6/de5/classdoris_1_1_point_query_executor.html#af41c47076b638f587fb211f41a4eb24d">  278</a></span>    PTabletKeyLookupResponse* <a class="code hl_variable" href="../../d6/de5/classdoris_1_1_point_query_executor.html#af41c47076b638f587fb211f41a4eb24d">_response</a>;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno"><a class="line" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a98f28be525261e7ac6cde67ff645ab91">  279</a></span>    <a class="code hl_typedef" href="../../d6/d94/namespacedoris.html#ad3e800b72ff04da97e09ccc723b2f8cf">TabletSharedPtr</a> <a class="code hl_variable" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a98f28be525261e7ac6cde67ff645ab91">_tablet</a>;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno"><a class="line" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a36935397d3ec71b157b3f44d33e1b630">  280</a></span>    std::vector&lt;RowReadContext&gt; <a class="code hl_variable" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a36935397d3ec71b157b3f44d33e1b630">_row_read_ctxs</a>;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno"><a class="line" href="../../d6/de5/classdoris_1_1_point_query_executor.html#abd3f168272eea921eea07e14c7b2d105">  281</a></span>    std::shared_ptr&lt;Reusable&gt; <a class="code hl_variable" href="../../d6/de5/classdoris_1_1_point_query_executor.html#abd3f168272eea921eea07e14c7b2d105">_reusable</a>;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno"><a class="line" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a2c0df953cb04c475eca5f142132e4e13">  282</a></span>    std::unique_ptr&lt;vectorized::Block&gt; <a class="code hl_variable" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a2c0df953cb04c475eca5f142132e4e13">_result_block</a>;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno"><a class="line" href="../../d6/de5/classdoris_1_1_point_query_executor.html#aa97bfe1fd28284b1452da9b03147b8fb">  283</a></span>    <a class="code hl_struct" href="../../d4/da9/structdoris_1_1_metrics.html">Metrics</a> <a class="code hl_variable" href="../../d6/de5/classdoris_1_1_point_query_executor.html#aa97bfe1fd28284b1452da9b03147b8fb">_profile_metrics</a>;</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno"><a class="line" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a67a91339207f8f151ab077a81f0f574c">  284</a></span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a67a91339207f8f151ab077a81f0f574c">_row_cache_hits</a> = 0;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno"><a class="line" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a5af31c89e327cef228f354cdb95fe6fb">  285</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a5af31c89e327cef228f354cdb95fe6fb">_hit_lookup_cache</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno"><a class="line" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a4329798bb3e4d0b538e659216ea55df0">  286</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="../../d6/de5/classdoris_1_1_point_query_executor.html#a4329798bb3e4d0b538e659216ea55df0">_binary_row_format</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>};</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>} <span class="comment">// namespace doris</span></div>
<div class="ttc" id="ablock_8h_html"><div class="ttname"><a href="../../de/d40/block_8h.html">block.h</a></div></div>
<div class="ttc" id="aclassdoris_1_1_cache_html"><div class="ttname"><a href="../../de/d06/classdoris_1_1_cache.html">doris::Cache</a></div><div class="ttdef"><b>Definition:</b> lru_cache.h:157</div></div>
<div class="ttc" id="aclassdoris_1_1_cache_html_a1cedcec2a6e02e4762cca7a71d23c080"><div class="ttname"><a href="../../de/d06/classdoris_1_1_cache.html#a1cedcec2a6e02e4762cca7a71d23c080">doris::Cache::value_slice</a></div><div class="ttdeci">virtual Slice value_slice(Handle *handle)=0</div></div>
<div class="ttc" id="aclassdoris_1_1_cache_html_a99ff5ff87dc624c6460076b6e6879011"><div class="ttname"><a href="../../de/d06/classdoris_1_1_cache.html#a99ff5ff87dc624c6460076b6e6879011">doris::Cache::release</a></div><div class="ttdeci">virtual void release(Handle *handle)=0</div></div>
<div class="ttc" id="aclassdoris_1_1_descriptor_tbl_html"><div class="ttname"><a href="../../da/d43/classdoris_1_1_descriptor_tbl.html">doris::DescriptorTbl</a></div><div class="ttdef"><b>Definition:</b> descriptors.h:380</div></div>
<div class="ttc" id="aclassdoris_1_1_descriptor_tbl_html_afe6eb6a823dd3fc7d47f2fd8a43e4f33"><div class="ttname"><a href="../../da/d43/classdoris_1_1_descriptor_tbl.html#afe6eb6a823dd3fc7d47f2fd8a43e4f33">doris::DescriptorTbl::get_tuple_descriptor</a></div><div class="ttdeci">TupleDescriptor * get_tuple_descriptor(TupleId id) const</div><div class="ttdef"><b>Definition:</b> descriptors.cpp:624</div></div>
<div class="ttc" id="aclassdoris_1_1_lookup_cache_html"><div class="ttname"><a href="../../db/de3/classdoris_1_1_lookup_cache.html">doris::LookupCache</a></div><div class="ttdef"><b>Definition:</b> point_query_executor.h:156</div></div>
<div class="ttc" id="aclassdoris_1_1_lookup_cache_html_a43e34cc126526d9f95cbf45bcbebc388"><div class="ttname"><a href="../../db/de3/classdoris_1_1_lookup_cache.html#a43e34cc126526d9f95cbf45bcbebc388">doris::LookupCache::_double_buffer_cache</a></div><div class="ttdeci">butil::DoublyBufferedData&lt; Cache &gt; _double_buffer_cache</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:188</div></div>
<div class="ttc" id="aclassdoris_1_1_lookup_cache_html_a66ec42d2ff5b84117b1da4cbba719f1b"><div class="ttname"><a href="../../db/de3/classdoris_1_1_lookup_cache.html#a66ec42d2ff5b84117b1da4cbba719f1b">doris::LookupCache::prune</a></div><div class="ttdeci">void prune()</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:207</div></div>
<div class="ttc" id="aclassdoris_1_1_lookup_cache_html_a6723517a47eb1b020835a5c1857d3559"><div class="ttname"><a href="../../db/de3/classdoris_1_1_lookup_cache.html#a6723517a47eb1b020835a5c1857d3559">doris::LookupCache::remove_items</a></div><div class="ttdeci">static size_t remove_items(Cache &amp;old_cache, const std::vector&lt; uint128 &gt; &amp;keys)</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:198</div></div>
<div class="ttc" id="aclassdoris_1_1_lookup_cache_html_a6e354139ddc6154ffb9d4f17dcbfa757"><div class="ttname"><a href="../../db/de3/classdoris_1_1_lookup_cache.html#a6e354139ddc6154ffb9d4f17dcbfa757">doris::LookupCache::update_cache</a></div><div class="ttdeci">static size_t update_cache(Cache &amp;old_cache, const std::pair&lt; uint128, std::shared_ptr&lt; Reusable &gt; &gt; &amp;p)</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:192</div></div>
<div class="ttc" id="aclassdoris_1_1_lookup_cache_html_a781453d4a355dbd08b9213ae3ac1f47a"><div class="ttname"><a href="../../db/de3/classdoris_1_1_lookup_cache.html#a781453d4a355dbd08b9213ae3ac1f47a">doris::LookupCache::_expir_seconds</a></div><div class="ttdeci">int32_t _expir_seconds</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:190</div></div>
<div class="ttc" id="aclassdoris_1_1_lookup_cache_html_a96dec4941fa113cf4b19ff12a8b4f9ed"><div class="ttname"><a href="../../db/de3/classdoris_1_1_lookup_cache.html#a96dec4941fa113cf4b19ff12a8b4f9ed">doris::LookupCache::add</a></div><div class="ttdeci">void add(uint128 cache_id, std::shared_ptr&lt; Reusable &gt; item)</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:168</div></div>
<div class="ttc" id="aclassdoris_1_1_lookup_cache_html_a97e18529d1af6f79bcfa092525b73133"><div class="ttname"><a href="../../db/de3/classdoris_1_1_lookup_cache.html#a97e18529d1af6f79bcfa092525b73133">doris::LookupCache::CacheIter</a></div><div class="ttdeci">Cache::iterator CacheIter</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:160</div></div>
<div class="ttc" id="aclassdoris_1_1_lookup_cache_html_ab194759491203bf5907c9a7f3526767c"><div class="ttname"><a href="../../db/de3/classdoris_1_1_lookup_cache.html#ab194759491203bf5907c9a7f3526767c">doris::LookupCache::Cache</a></div><div class="ttdeci">phmap::flat_hash_map&lt; uint128, std::shared_ptr&lt; Reusable &gt; &gt; Cache</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:159</div></div>
<div class="ttc" id="aclassdoris_1_1_lookup_cache_html_adda078b37d5b8c68658259afe1aa85b4"><div class="ttname"><a href="../../db/de3/classdoris_1_1_lookup_cache.html#adda078b37d5b8c68658259afe1aa85b4">doris::LookupCache::instance</a></div><div class="ttdeci">static LookupCache &amp; instance()</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:163</div></div>
<div class="ttc" id="aclassdoris_1_1_lookup_cache_html_afaa96a9758f2b54bf7a594281505b0b0"><div class="ttname"><a href="../../db/de3/classdoris_1_1_lookup_cache.html#afaa96a9758f2b54bf7a594281505b0b0">doris::LookupCache::get</a></div><div class="ttdeci">std::shared_ptr&lt; Reusable &gt; get(uint128 cache_id)</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:174</div></div>
<div class="ttc" id="aclassdoris_1_1_lookup_cache_html_afb6a0c73f908020a210fe966cda3af14"><div class="ttname"><a href="../../db/de3/classdoris_1_1_lookup_cache.html#afb6a0c73f908020a210fe966cda3af14">doris::LookupCache::LookupCache</a></div><div class="ttdeci">LookupCache()=default</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html">doris::PointQueryExecutor</a></div><div class="ttdef"><b>Definition:</b> point_query_executor.h:242</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_a15ef978a29ac5137a3caa3a8a0a7bfc4"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#a15ef978a29ac5137a3caa3a8a0a7bfc4">doris::PointQueryExecutor::init</a></div><div class="ttdeci">Status init(const PTabletKeyLookupRequest *request, PTabletKeyLookupResponse *response)</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:126</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_a2c0df953cb04c475eca5f142132e4e13"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#a2c0df953cb04c475eca5f142132e4e13">doris::PointQueryExecutor::_result_block</a></div><div class="ttdeci">std::unique_ptr&lt; vectorized::Block &gt; _result_block</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:282</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_a36935397d3ec71b157b3f44d33e1b630"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#a36935397d3ec71b157b3f44d33e1b630">doris::PointQueryExecutor::_row_read_ctxs</a></div><div class="ttdeci">std::vector&lt; RowReadContext &gt; _row_read_ctxs</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:280</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_a4329798bb3e4d0b538e659216ea55df0"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#a4329798bb3e4d0b538e659216ea55df0">doris::PointQueryExecutor::_binary_row_format</a></div><div class="ttdeci">bool _binary_row_format</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:286</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_a5599b8e5e02079b130887b4445554db3"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#a5599b8e5e02079b130887b4445554db3">doris::PointQueryExecutor::_lookup_row_data</a></div><div class="ttdeci">Status _lookup_row_data()</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:265</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_a5af31c89e327cef228f354cdb95fe6fb"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#a5af31c89e327cef228f354cdb95fe6fb">doris::PointQueryExecutor::_hit_lookup_cache</a></div><div class="ttdeci">bool _hit_lookup_cache</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:285</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_a67a91339207f8f151ab077a81f0f574c"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#a67a91339207f8f151ab077a81f0f574c">doris::PointQueryExecutor::_row_cache_hits</a></div><div class="ttdeci">size_t _row_cache_hits</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:284</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_a98f28be525261e7ac6cde67ff645ab91"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#a98f28be525261e7ac6cde67ff645ab91">doris::PointQueryExecutor::_tablet</a></div><div class="ttdeci">TabletSharedPtr _tablet</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:279</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_a9cbd41cd87dac78a1dbeae47ddb3f9e2"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#a9cbd41cd87dac78a1dbeae47ddb3f9e2">doris::PointQueryExecutor::_init_keys</a></div><div class="ttdeci">Status _init_keys(const PTabletKeyLookupRequest *request)</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:207</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_aa97bfe1fd28284b1452da9b03147b8fb"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#aa97bfe1fd28284b1452da9b03147b8fb">doris::PointQueryExecutor::_profile_metrics</a></div><div class="ttdeci">Metrics _profile_metrics</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:283</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_aafdc9fce98d14cc95065192634277f22"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#aafdc9fce98d14cc95065192634277f22">doris::PointQueryExecutor::lookup_up</a></div><div class="ttdeci">Status lookup_up()</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:172</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_abb920f71fe26dc748a9cf759fcf29850"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#abb920f71fe26dc748a9cf759fcf29850">doris::PointQueryExecutor::release_rowset</a></div><div class="ttdeci">static void release_rowset(RowsetSharedPtr *r)</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:259</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_abd3f168272eea921eea07e14c7b2d105"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#abd3f168272eea921eea07e14c7b2d105">doris::PointQueryExecutor::_reusable</a></div><div class="ttdeci">std::shared_ptr&lt; Reusable &gt; _reusable</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:281</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_ad0b1cffd5d7a490d274e733fd3e1d6ea"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#ad0b1cffd5d7a490d274e733fd3e1d6ea">doris::PointQueryExecutor::_output_data</a></div><div class="ttdeci">Status _output_data()</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:300</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_add3d3bf31f63409b068d60147be9cc54"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#add3d3bf31f63409b068d60147be9cc54">doris::PointQueryExecutor::print_profile</a></div><div class="ttdeci">std::string print_profile()</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:179</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_af41c47076b638f587fb211f41a4eb24d"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#af41c47076b638f587fb211f41a4eb24d">doris::PointQueryExecutor::_response</a></div><div class="ttdeci">PTabletKeyLookupResponse * _response</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:278</div></div>
<div class="ttc" id="aclassdoris_1_1_point_query_executor_html_af61da1001dff755be1ef266baf4041bb"><div class="ttname"><a href="../../d6/de5/classdoris_1_1_point_query_executor.html#af61da1001dff755be1ef266baf4041bb">doris::PointQueryExecutor::_lookup_row_key</a></div><div class="ttdeci">Status _lookup_row_key()</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:231</div></div>
<div class="ttc" id="aclassdoris_1_1_reusable_html"><div class="ttname"><a href="../../de/d0b/classdoris_1_1_reusable.html">doris::Reusable</a></div><div class="ttdef"><b>Definition:</b> point_query_executor.h:38</div></div>
<div class="ttc" id="aclassdoris_1_1_reusable_html_a173ef36b01434c0dc425f7d18624554b"><div class="ttname"><a href="../../de/d0b/classdoris_1_1_reusable.html#a173ef36b01434c0dc425f7d18624554b">doris::Reusable::init</a></div><div class="ttdeci">Status init(const TDescriptorTable &amp;t_desc_tbl, const std::vector&lt; TExpr &gt; &amp;output_exprs, size_t block_size=1)</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:41</div></div>
<div class="ttc" id="aclassdoris_1_1_reusable_html_a1cb9da114bfc721527862c9a30bac428"><div class="ttname"><a href="../../de/d0b/classdoris_1_1_reusable.html#a1cb9da114bfc721527862c9a30bac428">doris::Reusable::_desc_tbl</a></div><div class="ttdeci">DescriptorTbl * _desc_tbl</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:61</div></div>
<div class="ttc" id="aclassdoris_1_1_reusable_html_a3c4ac30ce1556c9a2cfde887ff5d0e11"><div class="ttname"><a href="../../de/d0b/classdoris_1_1_reusable.html#a3c4ac30ce1556c9a2cfde887ff5d0e11">doris::Reusable::is_expired</a></div><div class="ttdeci">bool is_expired(int64_t ttl_ms) const</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:42</div></div>
<div class="ttc" id="aclassdoris_1_1_reusable_html_a46170bcb9a55ad401f8f75781afc1544"><div class="ttname"><a href="../../de/d0b/classdoris_1_1_reusable.html#a46170bcb9a55ad401f8f75781afc1544">doris::Reusable::_runtime_state</a></div><div class="ttdeci">std::unique_ptr&lt; RuntimeState &gt; _runtime_state</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:60</div></div>
<div class="ttc" id="aclassdoris_1_1_reusable_html_a601d8a8ee04ce264480f1b847be18d46"><div class="ttname"><a href="../../de/d0b/classdoris_1_1_reusable.html#a601d8a8ee04ce264480f1b847be18d46">doris::Reusable::return_block</a></div><div class="ttdeci">void return_block(std::unique_ptr&lt; vectorized::Block &gt; &amp;block)</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:71</div></div>
<div class="ttc" id="aclassdoris_1_1_reusable_html_a6188103aa561835033c24b17aaf67ab9"><div class="ttname"><a href="../../de/d0b/classdoris_1_1_reusable.html#a6188103aa561835033c24b17aaf67ab9">doris::Reusable::_block_pool</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; vectorized::Block &gt; &gt; _block_pool</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:64</div></div>
<div class="ttc" id="aclassdoris_1_1_reusable_html_a6a5e3add3f28cf6ad9075f84858f12a3"><div class="ttname"><a href="../../de/d0b/classdoris_1_1_reusable.html#a6a5e3add3f28cf6ad9075f84858f12a3">doris::Reusable::_block_mutex</a></div><div class="ttdeci">std::mutex _block_mutex</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:62</div></div>
<div class="ttc" id="aclassdoris_1_1_reusable_html_a8278231c2c6fd442a1f8d4fceacee2da"><div class="ttname"><a href="../../de/d0b/classdoris_1_1_reusable.html#a8278231c2c6fd442a1f8d4fceacee2da">doris::Reusable::output_exprs</a></div><div class="ttdeci">const std::vector&lt; vectorized::VExprContext * &gt; &amp; output_exprs()</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:56</div></div>
<div class="ttc" id="aclassdoris_1_1_reusable_html_a8541e7731c10d763e4d2ff234ec2a02a"><div class="ttname"><a href="../../de/d0b/classdoris_1_1_reusable.html#a8541e7731c10d763e4d2ff234ec2a02a">doris::Reusable::_create_timestamp</a></div><div class="ttdeci">int64_t _create_timestamp</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:66</div></div>
<div class="ttc" id="aclassdoris_1_1_reusable_html_aa1f3a370cb6dc5ce1e543276620bec87"><div class="ttname"><a href="../../de/d0b/classdoris_1_1_reusable.html#aa1f3a370cb6dc5ce1e543276620bec87">doris::Reusable::tuple_desc</a></div><div class="ttdeci">TupleDescriptor * tuple_desc()</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:54</div></div>
<div class="ttc" id="aclassdoris_1_1_reusable_html_aa5333d5a0e1e9cac9439e4ff9aaf7a59"><div class="ttname"><a href="../../de/d0b/classdoris_1_1_reusable.html#aa5333d5a0e1e9cac9439e4ff9aaf7a59">doris::Reusable::_output_exprs_ctxs</a></div><div class="ttdeci">std::vector&lt; vectorized::VExprContext * &gt; _output_exprs_ctxs</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:65</div></div>
<div class="ttc" id="aclassdoris_1_1_reusable_html_abed2ea7117120f9b78482fe9ff30568e"><div class="ttname"><a href="../../de/d0b/classdoris_1_1_reusable.html#abed2ea7117120f9b78482fe9ff30568e">doris::Reusable::get_block</a></div><div class="ttdeci">std::unique_ptr&lt; vectorized::Block &gt; get_block()</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:60</div></div>
<div class="ttc" id="aclassdoris_1_1_reusable_html_ad2db134ba74ea0cfdda47c8d0e7a5dd8"><div class="ttname"><a href="../../de/d0b/classdoris_1_1_reusable.html#ad2db134ba74ea0cfdda47c8d0e7a5dd8">doris::Reusable::~Reusable</a></div><div class="ttdeci">~Reusable()</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:35</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_1_1_cache_handle_html"><div class="ttname"><a href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html">doris::RowCache::CacheHandle</a></div><div class="ttdef"><b>Definition:</b> point_query_executor.h:91</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_1_1_cache_handle_html_a00115c074cf6a082227b3ae3c6c3298c"><div class="ttname"><a href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a00115c074cf6a082227b3ae3c6c3298c">doris::RowCache::CacheHandle::CacheHandle</a></div><div class="ttdeci">CacheHandle()=default</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_1_1_cache_handle_html_a09a1ba91c8842492a75c3c4a55706089"><div class="ttname"><a href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a09a1ba91c8842492a75c3c4a55706089">doris::RowCache::CacheHandle::CacheHandle</a></div><div class="ttdeci">CacheHandle(Cache *cache, Cache::Handle *handle)</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:94</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_1_1_cache_handle_html_a0aabcbe70c01b6661d3e1a79f35bfe32"><div class="ttname"><a href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a0aabcbe70c01b6661d3e1a79f35bfe32">doris::RowCache::CacheHandle::CacheHandle</a></div><div class="ttdeci">CacheHandle(CacheHandle &amp;&amp;other) noexcept</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:101</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_1_1_cache_handle_html_a1153e3a77aa46ed8f7683e71c60f4584"><div class="ttname"><a href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a1153e3a77aa46ed8f7683e71c60f4584">doris::RowCache::CacheHandle::valid</a></div><div class="ttdeci">bool valid()</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:112</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_1_1_cache_handle_html_a5467a1df350a7f26288c876506598cc3"><div class="ttname"><a href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a5467a1df350a7f26288c876506598cc3">doris::RowCache::CacheHandle::~CacheHandle</a></div><div class="ttdeci">~CacheHandle()</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:95</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_1_1_cache_handle_html_a7c90e50ce6ee6e0c311b05e8ee2618d3"><div class="ttname"><a href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#a7c90e50ce6ee6e0c311b05e8ee2618d3">doris::RowCache::CacheHandle::_handle</a></div><div class="ttdeci">Cache::Handle * _handle</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:119</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_1_1_cache_handle_html_aa0df700cf9f18bc04e60d2ed253dcea7"><div class="ttname"><a href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#aa0df700cf9f18bc04e60d2ed253dcea7">doris::RowCache::CacheHandle::operator=</a></div><div class="ttdeci">CacheHandle &amp; operator=(CacheHandle &amp;&amp;other) noexcept</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:106</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_1_1_cache_handle_html_abf8f5a3b11435739d7e5bd64eaef16bc"><div class="ttname"><a href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#abf8f5a3b11435739d7e5bd64eaef16bc">doris::RowCache::CacheHandle::cache</a></div><div class="ttdeci">Cache * cache() const</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:114</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_1_1_cache_handle_html_ac345abcb9d1a417959d5d1d54339ca2e"><div class="ttname"><a href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#ac345abcb9d1a417959d5d1d54339ca2e">doris::RowCache::CacheHandle::data</a></div><div class="ttdeci">Slice data() const</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:115</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_1_1_cache_handle_html_adb5bedabc91c232b1758ffcd66b5863e"><div class="ttname"><a href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#adb5bedabc91c232b1758ffcd66b5863e">doris::RowCache::CacheHandle::DISALLOW_COPY_AND_ASSIGN</a></div><div class="ttdeci">DISALLOW_COPY_AND_ASSIGN(CacheHandle)</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_1_1_cache_handle_html_ae4aa7a67fed999411ade4adc1ff27445"><div class="ttname"><a href="../../da/d23/classdoris_1_1_row_cache_1_1_cache_handle.html#ae4aa7a67fed999411ade4adc1ff27445">doris::RowCache::CacheHandle::_cache</a></div><div class="ttdeci">Cache * _cache</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:118</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_html"><div class="ttname"><a href="../../d0/da0/classdoris_1_1_row_cache.html">doris::RowCache</a></div><div class="ttdef"><b>Definition:</b> point_query_executor.h:70</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_html_a0558e4c0fb198639f1fae62c70e6e838"><div class="ttname"><a href="../../d0/da0/classdoris_1_1_row_cache.html#a0558e4c0fb198639f1fae62c70e6e838">doris::RowCache::lookup</a></div><div class="ttdeci">bool lookup(const RowCacheKey &amp;key, CacheHandle *handle)</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:99</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_html_a195b1f6a2c95ead87586187857dc798c"><div class="ttname"><a href="../../d0/da0/classdoris_1_1_row_cache.html#a195b1f6a2c95ead87586187857dc798c">doris::RowCache::kDefaultNumShards</a></div><div class="ttdeci">static constexpr uint32_t kDefaultNumShards</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:146</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_html_a3bca404e8350b38d87a7ceea0e72bf0b"><div class="ttname"><a href="../../d0/da0/classdoris_1_1_row_cache.html#a3bca404e8350b38d87a7ceea0e72bf0b">doris::RowCache::create_global_cache</a></div><div class="ttdeci">static void create_global_cache(int64_t capacity, uint32_t num_shards=kDefaultNumShards)</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:89</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_html_a4ac9bba2b3a477d775a22dff3be07d31"><div class="ttname"><a href="../../d0/da0/classdoris_1_1_row_cache.html#a4ac9bba2b3a477d775a22dff3be07d31">doris::RowCache::_s_instance</a></div><div class="ttdeci">static RowCache * _s_instance</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:148</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_html_a4d575c4a79fe1f79ae087711476bcc65"><div class="ttname"><a href="../../d0/da0/classdoris_1_1_row_cache.html#a4d575c4a79fe1f79ae087711476bcc65">doris::RowCache::erase</a></div><div class="ttdeci">void erase(const RowCacheKey &amp;key)</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:121</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_html_a80235f290f396ea3c3d30148f4b6f445"><div class="ttname"><a href="../../d0/da0/classdoris_1_1_row_cache.html#a80235f290f396ea3c3d30148f4b6f445">doris::RowCache::_cache</a></div><div class="ttdeci">std::unique_ptr&lt; Cache &gt; _cache</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:149</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_html_aaeb93baa4fd96d0bd38fe2164a4933db"><div class="ttname"><a href="../../d0/da0/classdoris_1_1_row_cache.html#aaeb93baa4fd96d0bd38fe2164a4933db">doris::RowCache::insert</a></div><div class="ttdeci">void insert(const RowCacheKey &amp;key, const Slice &amp;data)</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:110</div></div>
<div class="ttc" id="aclassdoris_1_1_row_cache_html_ad5d304483624da9540220330572cad36"><div class="ttname"><a href="../../d0/da0/classdoris_1_1_row_cache.html#ad5d304483624da9540220330572cad36">doris::RowCache::instance</a></div><div class="ttdeci">static RowCache * instance()</div><div class="ttdef"><b>Definition:</b> point_query_executor.cpp:95</div></div>
<div class="ttc" id="aclassdoris_1_1_runtime_profile_1_1_counter_html"><div class="ttname"><a href="../../da/d02/classdoris_1_1_runtime_profile_1_1_counter.html">doris::RuntimeProfile::Counter</a></div><div class="ttdef"><b>Definition:</b> runtime_profile.h:81</div></div>
<div class="ttc" id="aclassdoris_1_1_status_html"><div class="ttname"><a href="../../d9/d8d/classdoris_1_1_status.html">doris::Status</a></div><div class="ttdef"><b>Definition:</b> status.h:289</div></div>
<div class="ttc" id="aclassdoris_1_1_storage_engine_html"><div class="ttname"><a href="../../d7/d82/classdoris_1_1_storage_engine.html">doris::StorageEngine</a></div><div class="ttdef"><b>Definition:</b> storage_engine.h:70</div></div>
<div class="ttc" id="aclassdoris_1_1_tuple_descriptor_html"><div class="ttname"><a href="../../d6/d50/classdoris_1_1_tuple_descriptor.html">doris::TupleDescriptor</a></div><div class="ttdef"><b>Definition:</b> descriptors.h:303</div></div>
<div class="ttc" id="aclassuint128_html"><div class="ttname"><a href="../../d7/d4a/classuint128.html">uint128</a></div><div class="ttdef"><b>Definition:</b> int128.h:14</div></div>
<div class="ttc" id="aint128_8h_html"><div class="ttname"><a href="../../d0/ddd/int128_8h.html">int128.h</a></div></div>
<div class="ttc" id="alogging_8h_html_afb41b3500177100b5debd414c1effc9e"><div class="ttname"><a href="../../d5/d77/logging_8h.html#afb41b3500177100b5debd414c1effc9e">VLOG_DEBUG</a></div><div class="ttdeci">#define VLOG_DEBUG</div><div class="ttdef"><b>Definition:</b> logging.h:39</div></div>
<div class="ttc" id="amemcpy__aarch64_8cpp_html_a156c5821f16ed93be8c7d315303f7b2a"><div class="ttname"><a href="../../d9/d1e/memcpy__aarch64_8cpp.html#a156c5821f16ed93be8c7d315303f7b2a">memcpy</a></div><div class="ttdeci">void * memcpy(void *__restrict dst, const void *__restrict src, size_t size)</div><div class="ttdef"><b>Definition:</b> memcpy_aarch64.cpp:237</div></div>
<div class="ttc" id="amysql__global_8h_html_a7a9e0ca052e0f568fcf4c7dce0a95532"><div class="ttname"><a href="../../d1/d56/mysql__global_8h.html#a7a9e0ca052e0f568fcf4c7dce0a95532">int8store</a></div><div class="ttdeci">#define int8store(T, A)</div><div class="ttdef"><b>Definition:</b> mysql_global.h:36</div></div>
<div class="ttc" id="anamespacedoris_html"><div class="ttname"><a href="../../d6/d94/namespacedoris.html">doris</a></div><div class="ttdoc">Utilities for collecting timings.</div><div class="ttdef"><b>Definition:</b> agent_server.cpp:37</div></div>
<div class="ttc" id="anamespacedoris_html_a45a11d2c52e9b86e26ff0bb6d9c667d2"><div class="ttname"><a href="../../d6/d94/namespacedoris.html#a45a11d2c52e9b86e26ff0bb6d9c667d2">doris::RowsetSharedPtr</a></div><div class="ttdeci">std::shared_ptr&lt; Rowset &gt; RowsetSharedPtr</div><div class="ttdef"><b>Definition:</b> rowset.h:38</div></div>
<div class="ttc" id="anamespacedoris_html_ad3e800b72ff04da97e09ccc723b2f8cf"><div class="ttname"><a href="../../d6/d94/namespacedoris.html#ad3e800b72ff04da97e09ccc723b2f8cf">doris::TabletSharedPtr</a></div><div class="ttdeci">std::shared_ptr&lt; Tablet &gt; TabletSharedPtr</div><div class="ttdef"><b>Definition:</b> tablet.h:63</div></div>
<div class="ttc" id="aolap_2olap__common_8h_html"><div class="ttname"><a href="../../db/d47/olap_2olap__common_8h.html">olap_common.h</a></div></div>
<div class="ttc" id="arowset_8h_html"><div class="ttname"><a href="../../d8/d75/rowset_8h.html">rowset.h</a></div></div>
<div class="ttc" id="aruntime__profile_8h_html"><div class="ttname"><a href="../../d6/d5d/runtime__profile_8h.html">runtime_profile.h</a></div></div>
<div class="ttc" id="astatus_8h_html"><div class="ttname"><a href="../../d1/d13/status_8h.html">status.h</a></div></div>
<div class="ttc" id="astructdoris_1_1_cache_1_1_handle_html"><div class="ttname"><a href="../../d7/d8b/structdoris_1_1_cache_1_1_handle.html">doris::Cache::Handle</a></div><div class="ttdef"><b>Definition:</b> lru_cache.h:166</div></div>
<div class="ttc" id="astructdoris_1_1_metrics_html"><div class="ttname"><a href="../../d4/da9/structdoris_1_1_metrics.html">doris::Metrics</a></div><div class="ttdef"><b>Definition:</b> point_query_executor.h:226</div></div>
<div class="ttc" id="astructdoris_1_1_metrics_html_a0eac04ead92e7c03c9ccdc1a734e7ea2"><div class="ttname"><a href="../../d4/da9/structdoris_1_1_metrics.html#a0eac04ead92e7c03c9ccdc1a734e7ea2">doris::Metrics::lookup_data_ns</a></div><div class="ttdeci">RuntimeProfile::Counter lookup_data_ns</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:236</div></div>
<div class="ttc" id="astructdoris_1_1_metrics_html_a73e420ad3a9e89deef8030917fe0d197"><div class="ttname"><a href="../../d4/da9/structdoris_1_1_metrics.html#a73e420ad3a9e89deef8030917fe0d197">doris::Metrics::read_stats</a></div><div class="ttdeci">OlapReaderStatistics read_stats</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:238</div></div>
<div class="ttc" id="astructdoris_1_1_metrics_html_a7b24d34431baccc2fa3b9f1431061d9f"><div class="ttname"><a href="../../d4/da9/structdoris_1_1_metrics.html#a7b24d34431baccc2fa3b9f1431061d9f">doris::Metrics::lookup_key_ns</a></div><div class="ttdeci">RuntimeProfile::Counter lookup_key_ns</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:235</div></div>
<div class="ttc" id="astructdoris_1_1_metrics_html_a92d8223152de39af8d61943a2a519341"><div class="ttname"><a href="../../d4/da9/structdoris_1_1_metrics.html#a92d8223152de39af8d61943a2a519341">doris::Metrics::init_ns</a></div><div class="ttdeci">RuntimeProfile::Counter init_ns</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:233</div></div>
<div class="ttc" id="astructdoris_1_1_metrics_html_aa2f1d2ea445b9e1db07d9d4836a0a3dd"><div class="ttname"><a href="../../d4/da9/structdoris_1_1_metrics.html#aa2f1d2ea445b9e1db07d9d4836a0a3dd">doris::Metrics::init_key_ns</a></div><div class="ttdeci">RuntimeProfile::Counter init_key_ns</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:234</div></div>
<div class="ttc" id="astructdoris_1_1_metrics_html_aac8853916fe40092772145c5093041e9"><div class="ttname"><a href="../../d4/da9/structdoris_1_1_metrics.html#aac8853916fe40092772145c5093041e9">doris::Metrics::Metrics</a></div><div class="ttdeci">Metrics()</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:227</div></div>
<div class="ttc" id="astructdoris_1_1_metrics_html_ac9e95b2c047c60a6e110ada374b71be4"><div class="ttname"><a href="../../d4/da9/structdoris_1_1_metrics.html#ac9e95b2c047c60a6e110ada374b71be4">doris::Metrics::output_data_ns</a></div><div class="ttdeci">RuntimeProfile::Counter output_data_ns</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:237</div></div>
<div class="ttc" id="astructdoris_1_1_olap_reader_statistics_html"><div class="ttname"><a href="../../d7/d6c/structdoris_1_1_olap_reader_statistics.html">doris::OlapReaderStatistics</a></div><div class="ttdef"><b>Definition:</b> olap_common.h:258</div></div>
<div class="ttc" id="astructdoris_1_1_point_query_executor_1_1_row_read_context_html"><div class="ttname"><a href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html">doris::PointQueryExecutor::RowReadContext</a></div><div class="ttdef"><b>Definition:</b> point_query_executor.h:268</div></div>
<div class="ttc" id="astructdoris_1_1_point_query_executor_1_1_row_read_context_html_a32c5a145d39a84c6e2a51af5c0c7f64e"><div class="ttname"><a href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#a32c5a145d39a84c6e2a51af5c0c7f64e">doris::PointQueryExecutor::RowReadContext::_cached_row_data</a></div><div class="ttdeci">RowCache::CacheHandle _cached_row_data</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:271</div></div>
<div class="ttc" id="astructdoris_1_1_point_query_executor_1_1_row_read_context_html_a36ff50a8645ee6b14f33223a50f01015"><div class="ttname"><a href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#a36ff50a8645ee6b14f33223a50f01015">doris::PointQueryExecutor::RowReadContext::_rowset_ptr</a></div><div class="ttdeci">std::unique_ptr&lt; RowsetSharedPtr, decltype(&amp;release_rowset)&gt; _rowset_ptr</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:275</div></div>
<div class="ttc" id="astructdoris_1_1_point_query_executor_1_1_row_read_context_html_a95d89d2ca027aac19505b92e6e6a921b"><div class="ttname"><a href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#a95d89d2ca027aac19505b92e6e6a921b">doris::PointQueryExecutor::RowReadContext::_row_location</a></div><div class="ttdeci">std::optional&lt; RowLocation &gt; _row_location</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:272</div></div>
<div class="ttc" id="astructdoris_1_1_point_query_executor_1_1_row_read_context_html_aad08646af925f9af0030ecb04effcf3e"><div class="ttname"><a href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#aad08646af925f9af0030ecb04effcf3e">doris::PointQueryExecutor::RowReadContext::_primary_key</a></div><div class="ttdeci">std::string _primary_key</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:270</div></div>
<div class="ttc" id="astructdoris_1_1_point_query_executor_1_1_row_read_context_html_ae1af1a264b15fd1b45a87de45d24cedc"><div class="ttname"><a href="../../d7/d1b/structdoris_1_1_point_query_executor_1_1_row_read_context.html#ae1af1a264b15fd1b45a87de45d24cedc">doris::PointQueryExecutor::RowReadContext::RowReadContext</a></div><div class="ttdeci">RowReadContext()</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:269</div></div>
<div class="ttc" id="astructdoris_1_1_row_cache_1_1_row_cache_key_html"><div class="ttname"><a href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html">doris::RowCache::RowCacheKey</a></div><div class="ttdef"><b>Definition:</b> point_query_executor.h:73</div></div>
<div class="ttc" id="astructdoris_1_1_row_cache_1_1_row_cache_key_html_a1507735acbeddbdf20663acb53ed7803"><div class="ttname"><a href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a1507735acbeddbdf20663acb53ed7803">doris::RowCache::RowCacheKey::tablet_id</a></div><div class="ttdeci">int64_t tablet_id</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:75</div></div>
<div class="ttc" id="astructdoris_1_1_row_cache_1_1_row_cache_key_html_a48be9475be9e8520bdb23eadb1836131"><div class="ttname"><a href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a48be9475be9e8520bdb23eadb1836131">doris::RowCache::RowCacheKey::RowCacheKey</a></div><div class="ttdeci">RowCacheKey(int64_t tablet_id, const Slice &amp;key)</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:74</div></div>
<div class="ttc" id="astructdoris_1_1_row_cache_1_1_row_cache_key_html_a4b6672eb8de905bde11bb092d43d50e2"><div class="ttname"><a href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a4b6672eb8de905bde11bb092d43d50e2">doris::RowCache::RowCacheKey::encode</a></div><div class="ttdeci">std::string encode() const</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:79</div></div>
<div class="ttc" id="astructdoris_1_1_row_cache_1_1_row_cache_key_html_a60214260b7bd8510d0dea2641509cf6c"><div class="ttname"><a href="../../dc/d15/structdoris_1_1_row_cache_1_1_row_cache_key.html#a60214260b7bd8510d0dea2641509cf6c">doris::RowCache::RowCacheKey::key</a></div><div class="ttdeci">Slice key</div><div class="ttdef"><b>Definition:</b> point_query_executor.h:76</div></div>
<div class="ttc" id="astructdoris_1_1_slice_html"><div class="ttname"><a href="../../d7/da2/structdoris_1_1_slice.html">doris::Slice</a></div><div class="ttdoc">A wrapper around externally allocated data.</div><div class="ttdef"><b>Definition:</b> slice.h:45</div></div>
<div class="ttc" id="astructdoris_1_1_slice_html_a854352f53b148adc24983a58a1866d66"><div class="ttname"><a href="../../d7/da2/structdoris_1_1_slice.html#a854352f53b148adc24983a58a1866d66">doris::Slice::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> slice.h:48</div></div>
<div class="ttc" id="astructdoris_1_1_slice_html_a91a70b77df95bd8b0830b49a094c2acb"><div class="ttname"><a href="../../d7/da2/structdoris_1_1_slice.html#a91a70b77df95bd8b0830b49a094c2acb">doris::Slice::data</a></div><div class="ttdeci">char * data</div><div class="ttdef"><b>Definition:</b> slice.h:47</div></div>
<div class="ttc" id="atablet_8h_html"><div class="ttname"><a href="../../dc/d1e/tablet_8h.html">tablet.h</a></div></div>
<div class="ttc" id="auint24_8h_html_aa99be7b8b4274b2256b394ea7bf80762"><div class="ttname"><a href="../../d5/d29/uint24_8h.html#aa99be7b8b4274b2256b394ea7bf80762">data</a></div><div class="ttdeci">uint8_t data[3]</div><div class="ttdef"><b>Definition:</b> uint24.h:115</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
