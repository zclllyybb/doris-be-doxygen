\hypertarget{udf__internal_8h_source}{}\doxysection{udf\+\_\+internal.\+h}
\label{udf__internal_8h_source}\index{/Users/dabowang/be\_all/udf/udf\_internal.h@{/Users/dabowang/be\_all/udf/udf\_internal.h}}
\mbox{\hyperlink{udf__internal_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ \textcolor{comment}{//\ This\ file\ is\ copied\ from}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ https://github.com/apache/impala/blob/branch-\/2.9.0/be/src/udf/udf-\/internal.h}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ and\ modified\ by\ Doris}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{udf_8h}{udf/udf.h}}"{}}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris}{doris}}\ \{}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{class\ }FreePool;}
\DoxyCodeLine{00035\ \textcolor{keyword}{class\ }MemPool;}
\DoxyCodeLine{00036\ \textcolor{keyword}{class\ }RuntimeState;}
\DoxyCodeLine{00037\ \textcolor{keyword}{struct\ }ColumnPtrWrapper;}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{comment}{//\ This\ class\ actually\ implements\ the\ interface\ of\ FunctionContext.\ This\ is\ split\ to}}
\DoxyCodeLine{00040\ \textcolor{comment}{//\ hide\ the\ details\ from\ the\ external\ header.}}
\DoxyCodeLine{00041\ \textcolor{comment}{//\ Note:\ The\ actual\ user\ code\ does\ not\ include\ this\ file.}}
\DoxyCodeLine{00042\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_function_context_impl}{FunctionContextImpl}}\ \{}
\DoxyCodeLine{00043\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classdoris__udf_1_1_function_context}{doris\_udf::FunctionContext}}*\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a607b12fcc8bf0da0d84781a42084ada0}{create\_context}}(}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a2ccf49be12555d373b883be1aa7b6709}{state}},\ \mbox{\hyperlink{classdoris_1_1_mem_pool}{MemPool}}*\ pool,}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structdoris__udf_1_1_function_context_1_1_type_desc}{doris\_udf::FunctionContext::TypeDesc}}\&\ return\_type,}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<doris\_udf::FunctionContext::TypeDesc>\&\ arg\_types,}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ varargs\_buffer\_size,\ \textcolor{keywordtype}{bool}\ debug);}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classdoris__udf_1_1_function_context}{doris\_udf::FunctionContext}}*\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a607b12fcc8bf0da0d84781a42084ada0}{create\_context}}(}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a2ccf49be12555d373b883be1aa7b6709}{state}},\ \mbox{\hyperlink{classdoris_1_1_mem_pool}{MemPool}}*\ pool,}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structdoris__udf_1_1_function_context_1_1_type_desc}{doris\_udf::FunctionContext::TypeDesc}}\&\ intermediate\_type,}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structdoris__udf_1_1_function_context_1_1_type_desc}{doris\_udf::FunctionContext::TypeDesc}}\&\ return\_type,}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<doris\_udf::FunctionContext::TypeDesc>\&\ arg\_types,}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ varargs\_buffer\_size,\ \textcolor{keywordtype}{bool}\ debug);}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_function_context_impl_ac8e40f4ebf2f111883a947494a635aac}{\string~FunctionContextImpl}}()\ \{\}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_function_context_impl}{FunctionContextImpl}}(\mbox{\hyperlink{classdoris__udf_1_1_function_context}{doris\_udf::FunctionContext}}*\ parent);}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a5ae591df94fc66ccb85cbb6565368bca}{close}}();}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{classdoris__udf_1_1_function_context}{doris\_udf::FunctionContext}}*\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a2be0e526ca7fdb28b7030dbd3ea75a1a}{clone}}(\mbox{\hyperlink{classdoris_1_1_mem_pool}{MemPool}}*\ pool);}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_ab5568a4c44d7395abce2087c4b91d13e}{set\_constant\_cols}}(\textcolor{keyword}{const}\ std::vector<doris::ColumnPtrWrapper*>\&\ cols);}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ uint8\_t*\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_af844d9f7fd74f9720f18da87d7c320e8}{varargs\_buffer}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a157eb64037cff6601cf38f316d437652}{\_varargs\_buffer}};\ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_ae54500202b0333927a28c440c85cf07e}{closed}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_af4a8be523945fd0c4187dddbbc732d87}{\_closed}};\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a7ab1f0a2909ceeb7a91695341ce12d17}{num\_updates}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a050b9d7978e8c84284baa637ce69af3e}{\_num\_updates}};\ \}}
\DoxyCodeLine{00078\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a0c01983f7b080b2ce60ebd05d8133bad}{num\_removes}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a46c7e92dd14cc11e01920295dc3931c8}{\_num\_removes}};\ \}}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a1a525545e1ce4fe8d0acbb469be02bd8}{set\_num\_updates}}(int64\_t\ n)\ \{\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a050b9d7978e8c84284baa637ce69af3e}{\_num\_updates}}\ =\ n;\ \}}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_ac137b884d6814d94952d971f87c5a48a}{set\_num\_removes}}(int64\_t\ n)\ \{\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a46c7e92dd14cc11e01920295dc3931c8}{\_num\_removes}}\ =\ n;\ \}}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a00d49aa93fc50198ade6307d8491d4b4}{increment\_num\_updates}}(int64\_t\ n)\ \{\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a050b9d7978e8c84284baa637ce69af3e}{\_num\_updates}}\ +=\ n;\ \}}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a171fd172b1192056991852cef34dff2b}{increment\_num\_updates}}()\ \{\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a050b9d7978e8c84284baa637ce69af3e}{\_num\_updates}}\ +=\ 1;\ \}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a1111ba79db8b2294e7f51953ec612994}{increment\_num\_removes}}(int64\_t\ n)\ \{\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a46c7e92dd14cc11e01920295dc3931c8}{\_num\_removes}}\ +=\ n;\ \}}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a77f36878cf3d4e93a8f20253a16788bb}{increment\_num\_removes}}()\ \{\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a46c7e92dd14cc11e01920295dc3931c8}{\_num\_removes}}\ +=\ 1;\ \}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{comment}{//\ Allocates\ a\ buffer\ of\ 'byte\_size'\ with\ "{}local"{}\ memory\ management.\ These}}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{comment}{//\ allocations\ are\ not\ freed\ one\ by\ one\ but\ freed\ as\ a\ pool\ by\ FreeLocalAllocations()}}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{comment}{//\ This\ is\ used\ where\ the\ lifetime\ of\ the\ allocation\ is\ clear.}}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{comment}{//\ For\ UDFs,\ the\ allocations\ can\ be\ freed\ at\ the\ row\ level.}}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{comment}{//\ TODO:\ free\ them\ at\ the\ batch\ level\ and\ save\ some\ copies?}}
\DoxyCodeLine{00091\ \ \ \ \ uint8\_t*\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a739f8f7f6337732453330a579b4fcde6}{allocate\_local}}(int64\_t\ byte\_size);}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{comment}{//\ Frees\ all\ allocations\ returned\ by\ AllocateLocal().}}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a31b77746a4cff7fc0cd9dd4537c01525}{free\_local\_allocations}}();}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{//\ Returns\ true\ if\ there\ are\ no\ outstanding\ allocations.}}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a0d7ff369c220093d92848b96f52f1edb}{check\_allocations\_empty}}();}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{comment}{//\ Returns\ true\ if\ there\ are\ no\ outstanding\ local\ allocations.}}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_ad077f9695cfbb66e1f8c073a04d30226}{check\_local\_allocations\_empty}}();}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a2ccf49be12555d373b883be1aa7b6709}{state}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a91f2150e84757ffe2be5129f52c9e85a}{\_state}};\ \}}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ std::string\&\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a3e488c85b4af1122fcc0eb583945455d}{string\_result}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_ad6ca2ca2326f9091846ccb69ac6c4658}{\_string\_result}};\ \}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structdoris__udf_1_1_function_context_1_1_type_desc}{doris\_udf::FunctionContext::TypeDesc}}\&\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a589374dbb95ad70819726cd99b53e559}{get\_return\_type}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a3662321ef0a25c9d6fc84f2d8756a433}{\_return\_type}};\ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a12e3df0da9295f368acc4ba30d5740d7}{check\_overflow\_for\_decimal}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_ad7c6f1ecda2684f3ae8cdac6f0b37730}{\_check\_overflow\_for\_decimal}};\ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a25e5d60866fe28fb67a03b4d83ac3609}{set\_check\_overflow\_for\_decimal}}(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a12e3df0da9295f368acc4ba30d5740d7}{check\_overflow\_for\_decimal}})\ \{}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_ad7c6f1ecda2684f3ae8cdac6f0b37730}{\_check\_overflow\_for\_decimal}}\ =\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a12e3df0da9295f368acc4ba30d5740d7}{check\_overflow\_for\_decimal}};}
\DoxyCodeLine{00112\ \ \ \ \ \}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris__udf_1_1_function_context}{doris\_udf::FunctionContext}};}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00122\ \textcolor{comment}{}\ \ \ \ uint8\_t*\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a157eb64037cff6601cf38f316d437652}{\_varargs\_buffer}};}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a4fe6141ccd2d4cc172b266f94d7526a1}{\_varargs\_buffer\_size}};}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{comment}{//\ The\ number\ of\ calls\ to\ Update()/Remove().}}
\DoxyCodeLine{00126\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a050b9d7978e8c84284baa637ce69af3e}{\_num\_updates}};}
\DoxyCodeLine{00127\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a46c7e92dd14cc11e01920295dc3931c8}{\_num\_removes}};}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{comment}{//\ Parent\ context\ object.\ Not\ owned}}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{classdoris__udf_1_1_function_context}{doris\_udf::FunctionContext}}*\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a48d4c3c711d1c1432f5e83efb851fefa}{\_context}};}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{comment}{//\ Pool\ to\ service\ allocations\ from.}}
\DoxyCodeLine{00133\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_free_pool}{FreePool}}*\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a101d90efc12901c8ab6a8c6607ff62af}{\_pool}};}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{comment}{//\ We\ use\ the\ query's\ runtime\ state\ to\ report\ errors\ and\ warnings.\ nullptr\ for\ test}}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{comment}{//\ contexts.}}
\DoxyCodeLine{00137\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a91f2150e84757ffe2be5129f52c9e85a}{\_state}};}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{comment}{//\ If\ true,\ indicates\ this\ is\ a\ debug\ context\ which\ will\ do\ additional\ validation.}}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_abea63a461ba805d7c6c2facc133188c9}{\_debug}};}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \mbox{\hyperlink{classdoris__udf_1_1_function_context_a6a9e453bbd2bc4162de539637baf7fea}{doris\_udf::FunctionContext::DorisVersion}}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a45c025fc90dd34130eb000586ebe5ad3}{\_version}};}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{comment}{//\ Empty\ if\ there's\ no\ error}}
\DoxyCodeLine{00145\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a39a03621f91d77541a5f89806d11b35f}{\_error\_msg}};}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{comment}{//\ The\ number\ of\ warnings\ reported.}}
\DoxyCodeLine{00148\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a64f729e6e4fcaa46fa727b3cdcbf6c26}{\_num\_warnings}};}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{comment}{//\ Allocations\ made\ and\ still\ owned\ by\ the\ user\ function.}}
\DoxyCodeLine{00151\ \ \ \ \ std::map<uint8\_t*,\ int>\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a69101d91261a2278360b20f1e2538bee}{\_allocations}};}
\DoxyCodeLine{00152\ \ \ \ \ std::vector<uint8\_t*>\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a03b5984bbb95e9079c481d51c140e3b7}{\_local\_allocations}};}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_af210e29137d5abc928ac6033195c65f9}{\_thread\_local\_fn\_state}};}
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a97b2b19d08e612de7e37001f277d9d7f}{\_fragment\_local\_fn\_state}};}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{comment}{//\ The\ number\ of\ bytes\ allocated\ externally\ by\ the\ user\ function.\ In\ some\ cases,}}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{comment}{//\ it\ is\ too\ inconvenient\ to\ use\ the\ Allocate()/Free()\ APIs\ in\ the\ FunctionContext,}}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{comment}{//\ particularly\ for\ existing\ codebases\ (e.g.\ they\ use\ std::vector).\ Instead,\ they'll}}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{comment}{//\ have\ to\ track\ those\ allocations\ manually.}}
\DoxyCodeLine{00162\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a913375eba76ce5b956c1a866c23f022b}{\_external\_bytes\_tracked}};}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{comment}{//\ Type\ descriptor\ for\ the\ intermediate\ type\ of\ a\ UDA.\ Set\ to\ INVALID\_TYPE\ for\ UDFs.}}
\DoxyCodeLine{00165\ \ \ \ \ \mbox{\hyperlink{structdoris__udf_1_1_function_context_1_1_type_desc}{doris\_udf::FunctionContext::TypeDesc}}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_ac6f10dc7b6c532e7ae8b0c2d2a58010d}{\_intermediate\_type}};}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{comment}{//\ Type\ descriptor\ for\ the\ return\ type\ of\ the\ function.}}
\DoxyCodeLine{00168\ \ \ \ \ \mbox{\hyperlink{structdoris__udf_1_1_function_context_1_1_type_desc}{doris\_udf::FunctionContext::TypeDesc}}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a3662321ef0a25c9d6fc84f2d8756a433}{\_return\_type}};}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{comment}{//\ Type\ descriptors\ for\ each\ argument\ of\ the\ function.}}
\DoxyCodeLine{00171\ \ \ \ \ std::vector<doris\_udf::FunctionContext::TypeDesc>\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a1efa0133020ebe92041e5a58fa797cb8}{\_arg\_types}};}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{comment}{//\ Contains\ an\ AnyVal*\ for\ each\ argument\ of\ the\ function.\ If\ the\ AnyVal*\ is\ nullptr,}}
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{comment}{//\ indicates\ that\ the\ corresponding\ argument\ is\ non-\/constant.\ Otherwise\ contains\ the}}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{comment}{//\ value\ of\ the\ argument.}}
\DoxyCodeLine{00176\ \ \ \ \ std::vector<doris\_udf::AnyVal*>\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_a0d723f6b297e61f492c999c1b3a38a0c}{\_constant\_args}};}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \ \ std::vector<doris::ColumnPtrWrapper*>\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_aa5bc52ab84d300604579568bbbfca9c1}{\_constant\_cols}};}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_ad7c6f1ecda2684f3ae8cdac6f0b37730}{\_check\_overflow\_for\_decimal}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{comment}{//\ Indicates\ whether\ this\ context\ has\ been\ closed.\ Used\ for\ verification/debugging.}}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_af4a8be523945fd0c4187dddbbc732d87}{\_closed}};}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1_function_context_impl_ad6ca2ca2326f9091846ccb69ac6c4658}{\_string\_result}};}
\DoxyCodeLine{00186\ \};}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \}\ \textcolor{comment}{//\ namespace\ doris}}

\end{DoxyCode}
