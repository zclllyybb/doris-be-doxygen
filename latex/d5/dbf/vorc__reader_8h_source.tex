\hypertarget{vorc__reader_8h_source}{}\doxysection{vorc\+\_\+reader.\+h}
\label{vorc__reader_8h_source}\index{/Users/dabowang/doris/be/src/vec/exec/format/orc/vorc\_reader.h@{/Users/dabowang/doris/be/src/vec/exec/format/orc/vorc\_reader.h}}
\mbox{\hyperlink{vorc__reader_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <orc/OrcFile.hh>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{common_2config_8h}{common/config.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{exec_2olap__common_8h}{exec/olap\_common.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{file__factory_8h}{io/file\_factory.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{file__reader_8h}{io/fs/file\_reader.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{column__array_8h}{vec/columns/column\_array.h}}"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{block_8h}{vec/core/block.h}}"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{data__type__decimal_8h}{vec/data\_types/data\_type\_decimal.h}}"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{format__common_8h}{vec/exec/format/format\_common.h}}"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{generic__reader_8h}{vec/exec/format/generic\_reader.h}}"{}}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris_1_1vectorized}{doris::vectorized}}\ \{}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{class\ }ORCFileInputStream;}
\DoxyCodeLine{00035\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader}{OrcReader}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_generic_reader}{GenericReader}}\ \{}
\DoxyCodeLine{00036\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics}{Statistics}}\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics_ac0bacd8980f0c53948833ef8d10f38ef}{fs\_read\_time}}\ =\ 0;}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics_ad705d4411e341771dfce47fa29185bcb}{fs\_read\_calls}}\ =\ 0;}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics_a6b3a770431ae86019f9eb4baa451deeb}{fs\_read\_bytes}}\ =\ 0;}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics_a1d28871fd7a86449cca853d1b7206970}{column\_read\_time}}\ =\ 0;}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics_a247caabd347c490d8701338e88810037}{get\_batch\_time}}\ =\ 0;}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics_adfd8cb2749b3e20075fd2fe9f454ecee}{parse\_meta\_time}}\ =\ 0;}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics_a6364835f17ab175f756a0b8a34ac1e42}{decode\_value\_time}}\ =\ 0;}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics_a2a3560a6a753a78b57a3175d95e9a43b}{decode\_null\_map\_time}}\ =\ 0;}
\DoxyCodeLine{00046\ \ \ \ \ \};}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader}{OrcReader}}(\mbox{\hyperlink{classdoris_1_1_runtime_profile}{RuntimeProfile}}*\ profile,\ \mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ state,\ \textcolor{keyword}{const}\ TFileScanRangeParams\&\ params,}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ TFileRangeDesc\&\ range,\ \textcolor{keyword}{const}\ std::vector<std::string>\&\ column\_names,}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ batch\_size,\ \textcolor{keyword}{const}\ std::string\&\ ctz,\ \mbox{\hyperlink{classdoris_1_1io_1_1_i_o_context}{io::IOContext}}*\ io\_ctx);}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader}{OrcReader}}(\textcolor{keyword}{const}\ TFileScanRangeParams\&\ params,\ \textcolor{keyword}{const}\ TFileRangeDesc\&\ range,}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<std::string>\&\ column\_names,\ \textcolor{keyword}{const}\ std::string\&\ ctz,}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1io_1_1_i_o_context}{io::IOContext}}*\ io\_ctx);}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a6791234888fe02867522d44b7a0943ae}{\string~OrcReader}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a7f33b0ee7d8b6de00b7e3e3a335c39eb}{init\_reader}}(}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ std::unordered\_map<std::string,\ ColumnValueRangeType>*\ colname\_to\_value\_range);}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_af165bb4c8e53de264286bd80974083a4}{get\_next\_block}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}*\ block,\ \textcolor{keywordtype}{size\_t}*\ read\_rows,\ \textcolor{keywordtype}{bool}*\ eof)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a5ae591df94fc66ccb85cbb6565368bca}{close}}();}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_aa326d81dcac346461f3b8528bf0b49de}{size}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ std::unordered\_map<std::string,\ TypeDescriptor>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a9ee69fa5212fce6176c118514d4f791f}{get\_name\_to\_type}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_acda88073498994a384b894a50bf245c2}{get\_columns}}(std::unordered\_map<std::string,\ TypeDescriptor>*\ name\_to\_type,}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unordered\_set<std::string>*\ missing\_cols)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a265c877933414be4f75f60d7764e21ce}{get\_parsed\_schema}}(std::vector<std::string>*\ col\_names,}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<TypeDescriptor>*\ col\_types)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_orc_profile}{OrcProfile}}\ \{}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_orc_profile_abfe54288715d904129827e6ddba5fe67}{read\_time}};}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_orc_profile_abbdbc7f0dc1bfbeb409a8e42968376de}{read\_calls}};}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_orc_profile_afa2cebbe64d8ca6285397481ea37235f}{read\_bytes}};}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_orc_profile_ac9e4aa97fbeb5097fff43197fa05b002}{column\_read\_time}};}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_orc_profile_a035bf7752448373f60a1a18da8007932}{get\_batch\_time}};}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_orc_profile_a5def2ca34edc9e127136e285bd3e1b76}{parse\_meta\_time}};}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_orc_profile_a3d48bf1eccb2ef7d02489c26b222e390}{decode\_value\_time}};}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_orc_profile_acbf192b1e78837d841570927b71b3c4a}{decode\_null\_map\_time}};}
\DoxyCodeLine{00084\ \ \ \ \ \};}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{comment}{//\ Create\ inner\ orc\ file,}}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{comment}{//\ return\ EOF\ if\ file\ is\ empty}}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{comment}{//\ return\ EROOR\ if\ encounter\ error.}}
\DoxyCodeLine{00089\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a6df6665d0958acc67bdca590358e48a8}{\_create\_file\_reader}}();}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a56cda409a338385130d676429fbdd899}{\_init\_profile}}();}
\DoxyCodeLine{00092\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a2e9f395e46b1a51d049098f8d49a0a75}{\_init\_read\_columns}}();}
\DoxyCodeLine{00093\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_type_descriptor}{TypeDescriptor}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a6afeae218b743c72c13c3928dab5c635}{\_convert\_to\_doris\_type}}(\textcolor{keyword}{const}\ orc::Type*\ orc\_type);}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_aebb7bebcbe6b6348877aca0fd5581fd1}{\_init\_search\_argument}}(}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ std::unordered\_map<std::string,\ ColumnValueRangeType>*\ colname\_to\_value\_range);}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a6946f68a2582eae6c766777139f7d52f}{\_init\_bloom\_filter}}(}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ std::unordered\_map<std::string,\ ColumnValueRangeType>*\ colname\_to\_value\_range);}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a80612688d8d26c1fe9158071853c4115}{\_init\_system\_properties}}();}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a8f0f3bdba673aaca877da52982062e16}{\_init\_file\_description}}();}
\DoxyCodeLine{00100\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_af9fa6bf76ff27a349debafee056f32e2}{\_orc\_column\_to\_doris\_column}}(\textcolor{keyword}{const}\ std::string\&\ col\_name,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_aa1d7b67012985a9197efd18f7dd48e51}{ColumnPtr}}\&\ doris\_column,}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a160d474c1487ffb0ca43c78931aedc2a}{DataTypePtr}}\&\ data\_type,}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ orc::Type*\ orc\_column\_type,}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ orc::ColumnVectorBatch*\ cvb,\ \textcolor{keywordtype}{size\_t}\ num\_values);}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ CppType,\ \textcolor{keyword}{typename}\ OrcColumnType>}
\DoxyCodeLine{00106\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a5448ee878c6d62f843e7c6feefec71d5}{\_decode\_flat\_column}}(\textcolor{keyword}{const}\ std::string\&\ col\_name,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac01d3bf9792b1f5f19e8acb2a08553a3}{MutableColumnPtr}}\&\ data\_column,}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ orc::ColumnVectorBatch*\ cvb,\ \textcolor{keywordtype}{size\_t}\ num\_values)\ \{}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{runtime__profile_8h_aaf031eb453aeee708e6e627425844795}{SCOPED\_RAW\_TIMER}}(\&\mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_aa433b6c439368a45af23b07724869920}{\_statistics}}.\mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics_a6364835f17ab175f756a0b8a34ac1e42}{decode\_value\_time}});}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ OrcColumnType*\ \mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}\ =\ \textcolor{keyword}{dynamic\_cast<}OrcColumnType*\textcolor{keyword}{>}(cvb);}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Status::InternalError(\textcolor{stringliteral}{"{}Wrong\ data\ type\ for\ colum\ '\{\}'"{}},\ col\_name);}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}*\ cvb\_data\ =\ \mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}-\/>data.data();}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\&\ column\_data\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classdoris_1_1vectorized_1_1_column_vector}{ColumnVector<CppType>}}\&\textcolor{keyword}{>}(*data\_column).\mbox{\hyperlink{classdoris_1_1vectorized_1_1_column_vector_a3206c08675c03058605f3a6e5a452b5c}{get\_data}}();}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ origin\_size\ =\ column\_data.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array_base_a259cb5a711406a8c3e5d937eb9350cca}{size}}();}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ column\_data.resize(origin\_size\ +\ num\_values);}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_values;\ ++i)\ \{}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ column\_data[origin\_size\ +\ i]\ =\ (CppType)cvb\_data[i];}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_status_a6ec1a217f203269ab53d2290d602db24}{Status::OK}}();}
\DoxyCodeLine{00121\ \ \ \ \ \}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ DecimalPrimitiveType>}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_ac290e852289b4743252ac8ccb3274775}{\_init\_decimal\_converter}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a160d474c1487ffb0ca43c78931aedc2a}{DataTypePtr}}\&\ data\_type,\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params}{DecimalScaleParams}}\&\ scale\_params,}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ int32\_t\ orc\_decimal\_scale)\ \{}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (scale\_params.\mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_ab812d87da07374734c00f69d253d643a}{scale\_type}}\ !=\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_aa4056483f16ca76a5fc35a129a3a16daa9aa925bc1a8429e54310c03c882df4a3}{DecimalScaleParams::NOT\_INIT}})\ \{}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}*\ decimal\_type\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal}{DataTypeDecimal<Decimal<DecimalPrimitiveType>}}\textcolor{keyword}{>}*>(}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const\_cast<}\mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_data_type}{IDataType}}*\textcolor{keyword}{>}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a174d35d751f410a19f4bfe649d3cc3a4}{remove\_nullable}}(data\_type).get()));}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ dest\_scale\ =\ decimal\_type-\/>get\_scale();}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (dest\_scale\ >\ orc\_decimal\_scale)\ \{}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ scale\_params.\mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_ab812d87da07374734c00f69d253d643a}{scale\_type}}\ =\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_aa4056483f16ca76a5fc35a129a3a16daa5530e05d78d732aaf85bcf8dd26c2bef}{DecimalScaleParams::SCALE\_UP}};}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ scale\_params.\mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_ab6e84d136d15d06538f188b30020a4fa}{scale\_factor}}\ =\ DecimalScaleParams::get\_scale\_factor<DecimalPrimitiveType>(}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dest\_scale\ -\/\ orc\_decimal\_scale);}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (dest\_scale\ <\ orc\_decimal\_scale)\ \{}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ scale\_params.\mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_ab812d87da07374734c00f69d253d643a}{scale\_type}}\ =\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_aa4056483f16ca76a5fc35a129a3a16daaf3649bcb72bc4342bb5c3dd95d9f4862}{DecimalScaleParams::SCALE\_DOWN}};}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ scale\_params.\mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_ab6e84d136d15d06538f188b30020a4fa}{scale\_factor}}\ =\ DecimalScaleParams::get\_scale\_factor<DecimalPrimitiveType>(}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ orc\_decimal\_scale\ -\/\ dest\_scale);}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ scale\_params.\mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_ab812d87da07374734c00f69d253d643a}{scale\_type}}\ =\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_aa4056483f16ca76a5fc35a129a3a16daaea4f06f15138c6029dd9b85e0c0b17f9}{DecimalScaleParams::NO\_SCALE}};}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ scale\_params.\mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_ab6e84d136d15d06538f188b30020a4fa}{scale\_factor}}\ =\ 1;}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00144\ \ \ \ \ \}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ DecimalPrimitiveType,\ \textcolor{keyword}{typename}\ OrcColumnType>}
\DoxyCodeLine{00147\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a53695a2f3b34a83bffbc7ddb2bb40868}{\_decode\_explicit\_decimal\_column}}(\textcolor{keyword}{const}\ std::string\&\ col\_name,}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac01d3bf9792b1f5f19e8acb2a08553a3}{MutableColumnPtr}}\&\ data\_column,}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a160d474c1487ffb0ca43c78931aedc2a}{DataTypePtr}}\&\ data\_type,}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ orc::ColumnVectorBatch*\ cvb,\ \textcolor{keywordtype}{size\_t}\ num\_values)\ \{}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ OrcColumnType*\ \mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}\ =\ \textcolor{keyword}{dynamic\_cast<}OrcColumnType*\textcolor{keyword}{>}(cvb);}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Status::InternalError(\textcolor{stringliteral}{"{}Wrong\ data\ type\ for\ colum\ '\{\}'"{}},\ col\_name);}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a1805a50e4cb2066abad477e8a9b01c70}{\_decimal\_scale\_params\_index}}\ >=\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a59c75ef50bc9b48d7fb6ae26cb4ad2e8}{\_decimal\_scale\_params}}.size())\ \{}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params}{DecimalScaleParams}}\ temp\_scale\_params;}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \_init\_decimal\_converter<DecimalPrimitiveType>(data\_type,\ temp\_scale\_params,}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}-\/>scale);}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a59c75ef50bc9b48d7fb6ae26cb4ad2e8}{\_decimal\_scale\_params}}.emplace\_back(std::move(temp\_scale\_params));}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params}{DecimalScaleParams}}\&\ scale\_params\ =\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a59c75ef50bc9b48d7fb6ae26cb4ad2e8}{\_decimal\_scale\_params}}[\mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a1805a50e4cb2066abad477e8a9b01c70}{\_decimal\_scale\_params\_index}}];}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a1805a50e4cb2066abad477e8a9b01c70}{\_decimal\_scale\_params\_index}};}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}*\ cvb\_data\ =\ \mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}-\/>values.data();}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\&\ column\_data\ =}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classdoris_1_1vectorized_1_1_column_vector}{ColumnVector<DecimalPrimitiveType>}}\&\textcolor{keyword}{>}(*data\_column).\mbox{\hyperlink{classdoris_1_1vectorized_1_1_column_vector_a3206c08675c03058605f3a6e5a452b5c}{get\_data}}();}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ origin\_size\ =\ column\_data.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array_base_a259cb5a711406a8c3e5d937eb9350cca}{size}}();}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ column\_data.resize(origin\_size\ +\ num\_values);}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_values;\ ++i)\ \{}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedoris_a811ec3b3c805bfd6b8ec302d59fc5a94}{int128\_t}}\ \mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}};}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same\_v<OrcColumnType,\ orc::Decimal64VectorBatch>)\ \{}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}}\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacedoris_a811ec3b3c805bfd6b8ec302d59fc5a94}{int128\_t}}\textcolor{keyword}{>}(cvb\_data[i]);}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint64\_t\ hi\ =\ \mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}-\/>values[i].getHighBits();}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint64\_t\ lo\ =\ \mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}-\/>values[i].getLowBits();}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}}\ =\ (((\mbox{\hyperlink{namespacedoris_a811ec3b3c805bfd6b8ec302d59fc5a94}{int128\_t}})hi)\ <<\ 64)\ |\ (\mbox{\hyperlink{namespacedoris_a811ec3b3c805bfd6b8ec302d59fc5a94}{int128\_t}})lo;}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (scale\_params.\mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_ab812d87da07374734c00f69d253d643a}{scale\_type}}\ ==\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_aa4056483f16ca76a5fc35a129a3a16daa5530e05d78d732aaf85bcf8dd26c2bef}{DecimalScaleParams::SCALE\_UP}})\ \{}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}}\ *=\ scale\_params.\mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_ab6e84d136d15d06538f188b30020a4fa}{scale\_factor}};}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (scale\_params.\mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_ab812d87da07374734c00f69d253d643a}{scale\_type}}\ ==\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_aa4056483f16ca76a5fc35a129a3a16daaf3649bcb72bc4342bb5c3dd95d9f4862}{DecimalScaleParams::SCALE\_DOWN}})\ \{}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}}\ /=\ scale\_params.\mbox{\hyperlink{structdoris_1_1vectorized_1_1_decimal_scale_params_ab6e84d136d15d06538f188b30020a4fa}{scale\_factor}};}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\&\ v\ =\ \textcolor{keyword}{reinterpret\_cast<}DecimalPrimitiveType\&\textcolor{keyword}{>}(column\_data[origin\_size\ +\ i]);}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ (DecimalPrimitiveType)\mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}};}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_status_a6ec1a217f203269ab53d2290d602db24}{Status::OK}}();}
\DoxyCodeLine{00188\ \ \ \ \ \}}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ DecimalPrimitiveType>}
\DoxyCodeLine{00191\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_aa7f62317f021664be79cc715b2c3dfef}{\_decode\_decimal\_column}}(\textcolor{keyword}{const}\ std::string\&\ col\_name,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac01d3bf9792b1f5f19e8acb2a08553a3}{MutableColumnPtr}}\&\ data\_column,}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a160d474c1487ffb0ca43c78931aedc2a}{DataTypePtr}}\&\ data\_type,\ orc::ColumnVectorBatch*\ cvb,}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ num\_values)\ \{}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{runtime__profile_8h_aaf031eb453aeee708e6e627425844795}{SCOPED\_RAW\_TIMER}}(\&\mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_aa433b6c439368a45af23b07724869920}{\_statistics}}.\mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics_a6364835f17ab175f756a0b8a34ac1e42}{decode\_value\_time}});}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{dynamic\_cast<}orc::Decimal64VectorBatch*\textcolor{keyword}{>}(cvb)\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_decode\_explicit\_decimal\_column<DecimalPrimitiveType,\ orc::Decimal64VectorBatch>(}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ col\_name,\ data\_column,\ data\_type,\ cvb,\ num\_values);}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a53695a2f3b34a83bffbc7ddb2bb40868}{\_decode\_explicit\_decimal\_column}}<DecimalPrimitiveType,}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ orc::Decimal128VectorBatch>(}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ col\_name,\ data\_column,\ data\_type,\ cvb,\ num\_values);}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00203\ \ \ \ \ \}}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ CppType,\ \textcolor{keyword}{typename}\ DorisColumnType,\ \textcolor{keyword}{typename}\ OrcColumnType>}
\DoxyCodeLine{00206\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_afa2335c973373dc79dd8b3ac7b84ce07}{\_decode\_time\_column}}(\textcolor{keyword}{const}\ std::string\&\ col\_name,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac01d3bf9792b1f5f19e8acb2a08553a3}{MutableColumnPtr}}\&\ data\_column,}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ orc::ColumnVectorBatch*\ cvb,\ \textcolor{keywordtype}{size\_t}\ num\_values)\ \{}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{runtime__profile_8h_aaf031eb453aeee708e6e627425844795}{SCOPED\_RAW\_TIMER}}(\&\mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_aa433b6c439368a45af23b07724869920}{\_statistics}}.\mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics_a6364835f17ab175f756a0b8a34ac1e42}{decode\_value\_time}});}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}*\ \mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}\ =\ \textcolor{keyword}{dynamic\_cast<}OrcColumnType*\textcolor{keyword}{>}(cvb);}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Status::InternalError(\textcolor{stringliteral}{"{}Wrong\ data\ type\ for\ colum\ '\{\}'"{}},\ col\_name);}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\&\ column\_data\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classdoris_1_1vectorized_1_1_column_vector}{ColumnVector<DorisColumnType>}}\&\textcolor{keyword}{>}(*data\_column).\mbox{\hyperlink{classdoris_1_1vectorized_1_1_column_vector_a3206c08675c03058605f3a6e5a452b5c}{get\_data}}();}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ origin\_size\ =\ column\_data.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array_base_a259cb5a711406a8c3e5d937eb9350cca}{size}}();}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ column\_data.resize(origin\_size\ +\ num\_values);}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_values;\ ++i)\ \{}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\&\ v\ =\ \textcolor{keyword}{reinterpret\_cast<}CppType\&\textcolor{keyword}{>}(column\_data[origin\_size\ +\ i]);}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same\_v<OrcColumnType,\ orc::LongVectorBatch>)\ \{\ \textcolor{comment}{//\ date}}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ int64\_t\&\ date\_value\ =\ \mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}-\/>data[i];}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v.from\_unixtime(date\_value\ *\ 24\ *\ 60\ *\ 60,\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a9eb68d9f6d6df9aa7bad7f27203a094b}{\_time\_zone}});\ \textcolor{comment}{//\ day\ to\ seconds}}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same\_v<CppType,\ VecDateTimeValue>)\ \{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ should\ cast\ to\ date\ if\ using\ date\ v1.}}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v.cast\_to\_date();}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ timestamp}}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v.from\_unixtime(\mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}-\/>data[i],\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a9eb68d9f6d6df9aa7bad7f27203a094b}{\_time\_zone}});}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same\_v<CppType,\ DateV2Value<DateTimeV2ValueType>>)\ \{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ nanoseconds\ will\ lose\ precision.\ only\ keep\ microseconds.}}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v.set\_microsecond(\mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}-\/>nanoseconds[i]\ /\ 1000);}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_status_a6ec1a217f203269ab53d2290d602db24}{Status::OK}}();}
\DoxyCodeLine{00234\ \ \ \ \ \}}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a3ca4bfb2d3881e89e0bc7e9daf473c14}{\_decode\_string\_column}}(\textcolor{keyword}{const}\ std::string\&\ col\_name,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac01d3bf9792b1f5f19e8acb2a08553a3}{MutableColumnPtr}}\&\ data\_column,}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ orc::TypeKind\&\ type\_kind,\ orc::ColumnVectorBatch*\ cvb,}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ num\_values);}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a706284747849338540fdc27ca88ae6c6}{\_fill\_doris\_array\_offsets}}(\textcolor{keyword}{const}\ std::string\&\ col\_name,}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array}{ColumnArray::Offsets64}}\&\ doris\_offsets,}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ orc::DataBuffer<int64\_t>\&\ orc\_offsets,\ \textcolor{keywordtype}{size\_t}\ num\_values,}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}*\ element\_size);}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a2d3a172efa0e3369a408f5f82b51640d}{\_get\_field\_name\_lower\_case}}(\textcolor{keyword}{const}\ orc::Type*\ orc\_type,\ \textcolor{keywordtype}{int}\ pos);}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_adefb44b56eacb46c0578d6ddb2f6247d}{\_collect\_profile\_on\_close}}();}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00250\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile}{RuntimeProfile}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a2e859f47407c7a031f6c1e087775e510}{\_profile}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00251\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a91f2150e84757ffe2be5129f52c9e85a}{\_state}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00252\ \ \ \ \ \textcolor{keyword}{const}\ TFileScanRangeParams\&\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a79898abaffbf9612eda6ce1bb48664ef}{\_scan\_params}};}
\DoxyCodeLine{00253\ \ \ \ \ \textcolor{keyword}{const}\ TFileRangeDesc\&\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a98509b1eaef0375d3f9a3d54ffc796fe}{\_scan\_range}};}
\DoxyCodeLine{00254\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_file_system_properties}{FileSystemProperties}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_aa99904d3b3a8039b8d2b688adc05af09}{\_system\_properties}};}
\DoxyCodeLine{00255\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_file_description}{FileDescription}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a6468159baa92e4af365dcc9a2c22719e}{\_file\_description}};}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_ab75238390e7f1e6453dbd4723e929620}{\_batch\_size}};}
\DoxyCodeLine{00257\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a09c183e783ab96a40c579530096b560a}{\_range\_start\_offset}};}
\DoxyCodeLine{00258\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a15f09dcacc2e0ab1f7c962674f17d00a}{\_range\_size}};}
\DoxyCodeLine{00259\ \ \ \ \ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a3f14119596e2a3c3c0a493fa91637cfd}{\_ctz}};}
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<std::string>\&\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a067e5a6ebca01e3c3804f528afd951dd}{\_column\_names}};}
\DoxyCodeLine{00261\ \ \ \ \ cctz::time\_zone\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a9eb68d9f6d6df9aa7bad7f27203a094b}{\_time\_zone}};}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00263\ \ \ \ \ std::list<std::string>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_ae8cd0948da36f47ca29e624d616973e7}{\_read\_cols}};}
\DoxyCodeLine{00264\ \ \ \ \ std::list<std::string>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_abe046ea6f51bdbaf22a83b24747a7e85}{\_read\_cols\_lower\_case}};}
\DoxyCodeLine{00265\ \ \ \ \ std::list<std::string>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a6292f0ac7f043c84c7d8b4ab0c077b83}{\_missing\_cols}};}
\DoxyCodeLine{00266\ \ \ \ \ std::unordered\_map<std::string,\ int>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a63cc7ef1005b345052537385d51a26db}{\_colname\_to\_idx}};}
\DoxyCodeLine{00267\ \ \ \ \ \textcolor{comment}{//\ Column\ name\ in\ Orc\ file\ to\ column\ name\ to\ schema.}}
\DoxyCodeLine{00268\ \ \ \ \ \textcolor{comment}{//\ This\ is\ used\ for\ Hive\ 1.x\ which\ use\ internal\ column\ name\ in\ Orc\ file.}}
\DoxyCodeLine{00269\ \ \ \ \ \textcolor{comment}{//\ \_col0,\ \_col1...}}
\DoxyCodeLine{00270\ \ \ \ \ std::unordered\_map<std::string,\ std::string>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a6042027704bbe070d9a1b16101d87646}{\_file\_col\_to\_schema\_col}};}
\DoxyCodeLine{00271\ \ \ \ \ \textcolor{comment}{//\ Flag\ for\ hive\ engine.\ True\ if\ the\ external\ table\ engine\ is\ Hive.}}
\DoxyCodeLine{00272\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a5d0462db8def4c48cb67682c9e5540c9}{\_is\_hive}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00273\ \ \ \ \ std::vector<const\ orc::Type*>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a748f5417dcb43d646cce6232377cc7b1}{\_col\_orc\_type}};}
\DoxyCodeLine{00274\ \ \ \ \ std::unique\_ptr<ORCFileInputStream>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a44f1b5d83e28d7bc07a0c68b2e99a981}{\_file\_input\_stream}};}
\DoxyCodeLine{00275\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics}{Statistics}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_aa433b6c439368a45af23b07724869920}{\_statistics}};}
\DoxyCodeLine{00276\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_orc_profile}{OrcProfile}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a3d57e8f315f7d310f8e8525804b7f9fb}{\_orc\_profile}};}
\DoxyCodeLine{00277\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_af4a8be523945fd0c4187dddbbc732d87}{\_closed}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00279\ \ \ \ \ std::unique\_ptr<orc::ColumnVectorBatch>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a95f857bcb17a2dd11610f9a4df228d67}{\_batch}};}
\DoxyCodeLine{00280\ \ \ \ \ std::unique\_ptr<orc::Reader>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a57c1683ddc0cf6c189af7a35bce54abe}{\_reader}};}
\DoxyCodeLine{00281\ \ \ \ \ std::unique\_ptr<orc::RowReader>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a468ed6b0d7b710045ad65d5ca2cd4aab}{\_row\_reader}};}
\DoxyCodeLine{00282\ \ \ \ \ orc::ReaderOptions\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a4beb3a206817d492a9ec73ffa1f0ea6c}{\_reader\_options}};}
\DoxyCodeLine{00283\ \ \ \ \ orc::RowReaderOptions\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_afcd00caf5c6eb6fb90ee7caa452540a5}{\_row\_reader\_options}};}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00285\ \ \ \ \ std::shared\_ptr<io::FileSystem>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a8751e9ef9a871846822e0accf04f0527}{\_file\_system}};}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1io_1_1_i_o_context}{io::IOContext}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a432dbd94b60d1e75232daf3e97e1112a}{\_io\_ctx}};}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \ \ \ \ std::vector<DecimalScaleParams>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a59c75ef50bc9b48d7fb6ae26cb4ad2e8}{\_decimal\_scale\_params}};}
\DoxyCodeLine{00290\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_orc_reader_a1805a50e4cb2066abad477e8a9b01c70}{\_decimal\_scale\_params\_index}};}
\DoxyCodeLine{00291\ \};}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00293\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream}{ORCFileInputStream}}\ :\ \textcolor{keyword}{public}\ orc::InputStream\ \{}
\DoxyCodeLine{00294\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00295\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_acf43ae47c7bf4649196494cd0a2abf57}{ORCFileInputStream}}(\textcolor{keyword}{const}\ std::string\&\ file\_name,\ \mbox{\hyperlink{namespacedoris_1_1io_a4fab59e5f39ac7c318b993fa0c5265ee}{io::FileReaderSPtr}}\ file\_reader,}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics}{OrcReader::Statistics}}*\ statistics,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1io_1_1_i_o_context}{io::IOContext}}*\ io\_ctx)}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_af9995b49f9f04db3bdfb4ee3496006bc}{\_file\_name}}(file\_name),}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_a0c94b8447f79ad7c6166e0b4e50c5cf8}{\_file\_reader}}(file\_reader),}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_ac0f24d28a6321b53889c4ddc46f6d87c}{\_statistics}}(statistics),}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_a60b14c3bf233b9457687e940186a83fe}{\_io\_ctx}}(io\_ctx)\ \{\}}
\DoxyCodeLine{00301\ }
\DoxyCodeLine{00302\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_aab0dfacbbde0da7ac262de8f3db7b10b}{\string~ORCFileInputStream}}()\ \textcolor{keyword}{override}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00303\ }
\DoxyCodeLine{00304\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_a69b0c0999a44ca8ff960c39afa4abded}{getLength}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_a0c94b8447f79ad7c6166e0b4e50c5cf8}{\_file\_reader}}-\/>size();\ \}}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_a3d42d730540d22f564af8b0085ad5362}{getNaturalReadSize}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ config::orc\_natural\_read\_size\_mb\ <<\ 20;\ \}}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00308\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_ab5bd5b41c15552d1db70953125a31a4d}{read}}(\textcolor{keywordtype}{void}*\ buf,\ uint64\_t\ length,\ uint64\_t\ offset)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00310\ \ \ \ \ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_a18548a97b0f24d5b66b1daf37091635c}{getName}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_af9995b49f9f04db3bdfb4ee3496006bc}{\_file\_name}};\ \}}
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00312\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00313\ \ \ \ \ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_af9995b49f9f04db3bdfb4ee3496006bc}{\_file\_name}};}
\DoxyCodeLine{00314\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1io_a4fab59e5f39ac7c318b993fa0c5265ee}{io::FileReaderSPtr}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_a0c94b8447f79ad7c6166e0b4e50c5cf8}{\_file\_reader}};}
\DoxyCodeLine{00315\ \ \ \ \ \textcolor{comment}{//\ Owned\ by\ OrcReader}}
\DoxyCodeLine{00316\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_orc_reader_1_1_statistics}{OrcReader::Statistics}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_ac0f24d28a6321b53889c4ddc46f6d87c}{\_statistics}};}
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1io_1_1_i_o_context}{io::IOContext}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_o_r_c_file_input_stream_a60b14c3bf233b9457687e940186a83fe}{\_io\_ctx}};}
\DoxyCodeLine{00318\ \};}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \}\ \textcolor{comment}{//\ namespace\ doris::vectorized}}

\end{DoxyCode}
