\hypertarget{vfile__result__writer_8h_source}{}\doxysection{vfile\+\_\+result\+\_\+writer.\+h}
\label{vfile__result__writer_8h_source}\index{/Users/dabowang/doris/be/src/vec/runtime/vfile\_result\_writer.h@{/Users/dabowang/doris/be/src/vec/runtime/vfile\_result\_writer.h}}
\mbox{\hyperlink{vfile__result__writer_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{file__writer_8h}{io/fs/file\_writer.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{vparquet__writer_8h}{vec/runtime/vparquet\_writer.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{vresult__sink_8h}{vec/sink/vresult\_sink.h}}"{}}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris_1_1vectorized}{doris::vectorized}}\ \{}
\DoxyCodeLine{00025\ \textcolor{keyword}{class\ }VFileWriterWrapper;}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{comment}{//\ write\ result\ to\ file}}
\DoxyCodeLine{00028\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer}{VFileResultWriter}}\ final\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_result_writer}{VResultWriter}}\ \{}
\DoxyCodeLine{00029\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer}{VFileResultWriter}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_result_file_options}{ResultFileOptions}}*\ file\_option,}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ TStorageBackendType::type\ storage\_type,}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ TUniqueId\ fragment\_instance\_id,}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<VExprContext*>\&\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a2c0f7120217dff867efafa0c2446a976}{\_output\_vexpr\_ctxs}},}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile}{RuntimeProfile}}*\ parent\_profile,\ \mbox{\hyperlink{classdoris_1_1_buffer_control_block}{BufferControlBlock}}*\ sinker,}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}*\ output\_block,\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_result_writer_a11084f2fc28e9fcef0596fc812b1fef8}{output\_object\_data}},}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_row_descriptor}{RowDescriptor}}\&\ output\_row\_descriptor);}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_ab1d384fc1890680809c5252c26691bc5}{\string~VFileResultWriter}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_af93b2e9dd5d06f43e25752810592c701}{append\_block}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}\&\ block)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a0f645f70a05c54893c31a5be51f09a69}{init}}(\mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ state)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a8141474b27f79630b2d13e3aa1aed293}{close}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{comment}{//\ file\ result\ writer\ always\ return\ statistic\ result\ in\ one\ row}}
\DoxyCodeLine{00045\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a19f3d700176b8494c959e8fb629aa11a}{get\_written\_rows}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ 1;\ \}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a44dee7e7c9282d373a7941eecd596724}{gen\_types}}();}
\DoxyCodeLine{00048\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a8a645a9643a630ab29e199b4ef5634ac}{write\_csv\_header}}();}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00051\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_ade8921fcbee197420ce30c79ae72946e}{\_write\_file}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}\&\ block);}
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_ae329ea899bbfdfd7bb0e44311e3ee1d0}{\_write\_csv\_file}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}\&\ block);}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{comment}{//\ if\ buffer\ exceed\ the\ limit,\ write\ the\ data\ buffered\ in\ \_plain\_text\_outstream\ via\ file\_writer}}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{comment}{//\ if\ eos,\ write\ the\ data\ even\ if\ buffer\ is\ not\ full.}}
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a4ad9824babbb7ac7b41f3d09dc4634a8}{\_flush\_plain\_text\_outstream}}(\textcolor{keywordtype}{bool}\ eos);}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a56cda409a338385130d676429fbdd899}{\_init\_profile}}();}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_af82874cff7c32e3a79b0416b42b52b70}{\_create\_file\_writer}}(\textcolor{keyword}{const}\ std::string\&\ file\_name);}
\DoxyCodeLine{00060\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a4d3a2eb572bbe5209a1d0c39fdcfedbc}{\_create\_next\_file\_writer}}();}
\DoxyCodeLine{00061\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_aa84f04da79ee1161786572f30526e4c4}{\_create\_success\_file}}();}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{comment}{//\ get\ next\ export\ file\ name}}
\DoxyCodeLine{00063\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a334b686c90a726952e9e6174395394c0}{\_get\_next\_file\_name}}(std::string*\ file\_name);}
\DoxyCodeLine{00064\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_acd176b7f3d9f49d1b38709ed94442c61}{\_get\_success\_file\_name}}(std::string*\ file\_name);}
\DoxyCodeLine{00065\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a0e4ccee5f70313b17776580f76a3b8b7}{\_get\_file\_url}}(std::string*\ file\_url);}
\DoxyCodeLine{00066\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a85174588448dd9c71f78b60bce9d2c20}{\_file\_format\_to\_name}}();}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{comment}{//\ close\ file\ writer,\ and\ if\ !done,\ it\ will\ create\ new\ writer\ for\ next\ file.}}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a42f0d1de5b3308a1119e20bfdc31b2be}{\_close\_file\_writer}}(\textcolor{keywordtype}{bool}\ done);}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{comment}{//\ create\ a\ new\ file\ if\ current\ file\ size\ exceed\ limit}}
\DoxyCodeLine{00070\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a3d1d8bfd0cedf4d21598a1af1b83e45b}{\_create\_new\_file\_if\_exceed\_size}}();}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{comment}{//\ send\ the\ final\ statistic\ result}}
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_ab349010563bd34bd3fce63b4847006f0}{\_send\_result}}();}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{comment}{//\ save\ result\ into\ batch\ rather\ than\ send\ it}}
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_ab74dda33ed5d2dd315241307bb172875}{\_fill\_result\_block}}();}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a91f2150e84757ffe2be5129f52c9e85a}{\_state}};\ \textcolor{comment}{//\ not\ owned,\ set\ when\ init}}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_result_file_options}{ResultFileOptions}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a522626052aedf036ffaf7e20655743c0}{\_file\_opts}};}
\DoxyCodeLine{00078\ \ \ \ \ TStorageBackendType::type\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a7c2626a413e789330410e72f08ee05f7}{\_storage\_type}};}
\DoxyCodeLine{00079\ \ \ \ \ TUniqueId\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a969d360d5b2bf368cef4a6a1041b9141}{\_fragment\_instance\_id}};}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<VExprContext*>\&\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a2c0f7120217dff867efafa0c2446a976}{\_output\_vexpr\_ctxs}};}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ If\ the\ result\ file\ format\ is\ plain\ text,\ like\ CSV,\ this\ \_file\_writer\ is\ owned\ by\ this\ FileResultWriter.}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{comment}{//\ If\ the\ result\ file\ format\ is\ Parquet,\ this\ \_file\_writer\ is\ owned\ by\ \_parquet\_writer.}}
\DoxyCodeLine{00084\ \ \ \ \ std::unique\_ptr<doris::io::FileWriter>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_adcaf023c183a9bfd1e83ca2693973f85}{\_file\_writer\_impl}};}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{comment}{//\ Used\ to\ buffer\ the\ export\ data\ of\ plain\ text}}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{comment}{//\ TODO(cmy):\ I\ simply\ use\ a\ stringstrteam\ to\ buffer\ the\ data,\ to\ avoid\ calling}}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{comment}{//\ file\ writer's\ write()\ for\ every\ single\ row.}}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{comment}{//\ But\ this\ cannot\ solve\ the\ problem\ of\ a\ row\ of\ data\ that\ is\ too\ large.}}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{comment}{//\ For\ example:\ bitmap\_to\_string()\ may\ return\ large\ volume\ of\ data.}}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{comment}{//\ And\ the\ speed\ is\ relative\ low,\ in\ my\ test,\ is\ about\ 6.5MB/s.}}
\DoxyCodeLine{00091\ \ \ \ \ std::stringstream\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_aba9ef75e319aa833788912a05d02d88b}{\_plain\_text\_outstream}};}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a662b261e7b40ed32570027ae930de30e}{OUTSTREAM\_BUFFER\_SIZE\_BYTES}};}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{//\ current\ written\ bytes,\ used\ for\ split\ data}}
\DoxyCodeLine{00095\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_ad0bd128cc09f5701d0429a15055d040f}{\_current\_written\_bytes}}\ =\ 0;}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{//\ the\ suffix\ idx\ of\ export\ file\ name,\ start\ at\ 0}}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a74195ca63f0b86b8ebe7192555a4d77e}{\_file\_idx}}\ =\ 0;}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile}{RuntimeProfile}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_add2fd1d746bf52793b6acdf664a8c542}{\_parent\_profile}};\ \textcolor{comment}{//\ profile\ from\ result\ sink,\ not\ owned}}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{comment}{//\ total\ time\ cost\ on\ append\ batch\ operation}}
\DoxyCodeLine{00101\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a9542da8c591829f21f5678105c56ae56}{\_append\_row\_batch\_timer}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ tuple\ convert\ timer,\ child\ timer\ of\ \_append\_row\_batch\_timer}}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_ac2ebcef1fcec2f4add42daa1b24bf8c4}{\_convert\_tuple\_timer}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{comment}{//\ file\ write\ timer,\ child\ timer\ of\ \_append\_row\_batch\_timer}}
\DoxyCodeLine{00105\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a394e41c768793368143c9fb9ac03ea17}{\_file\_write\_timer}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{comment}{//\ time\ of\ closing\ the\ file\ writer}}
\DoxyCodeLine{00107\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a0461ba9f3bb2cce99f583a22f27a144c}{\_writer\_close\_timer}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{comment}{//\ number\ of\ written\ rows}}
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a60cb06cc4c62b9929c3222b08e82f6bf}{\_written\_rows\_counter}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{comment}{//\ bytes\ of\ written\ data}}
\DoxyCodeLine{00111\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a28c9bf02105a45d72e43ff82fa761304}{\_written\_data\_bytes}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{comment}{//\ \_sinker\ and\ \_output\_batch\ are\ not\ owned\ by\ FileResultWriter}}
\DoxyCodeLine{00114\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_buffer_control_block}{BufferControlBlock}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_af648e5dd0cfe7d907965d88604007fbc}{\_sinker}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00115\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a0438deb6e720c65b6ecb1b0f47b6b236}{\_output\_block}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{comment}{//\ set\ to\ true\ if\ the\ final\ statistic\ result\ is\ sent}}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a3ab2042225225d80bd006b30a27e18f8}{\_is\_result\_sent}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a906c6c2a52142ed08470e91ec371ff2a}{\_header\_sent}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00119\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_row_descriptor}{RowDescriptor}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a7ec59c61f5da5769f1ecd047a34a3e61}{\_output\_row\_descriptor}};}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{comment}{//\ parquet/orc\ file\ writer}}
\DoxyCodeLine{00121\ \ \ \ \ std::unique\_ptr<VFileWriterWrapper>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_file_result_writer_a12c773f20d60cc4c91e56cd0432ae79f}{\_vfile\_writer}};}
\DoxyCodeLine{00122\ \};}
\DoxyCodeLine{00123\ \}\ \textcolor{comment}{//\ namespace\ doris::vectorized}}

\end{DoxyCode}
