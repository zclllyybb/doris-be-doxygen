\hypertarget{vjdbc__connector_8cpp}{}\doxysection{/\+Users/dabowang/be\+\_\+all/vec/exec/vjdbc\+\_\+connector.cpp 文件参考}
\label{vjdbc__connector_8cpp}\index{/Users/dabowang/be\_all/vec/exec/vjdbc\_connector.cpp@{/Users/dabowang/be\_all/vec/exec/vjdbc\_connector.cpp}}
{\ttfamily \#include \char`\"{}vec/exec/vjdbc\+\_\+connector.\+h\char`\"{}}\newline
{\ttfamily \#include $<$cstring$>$}\newline
{\ttfamily \#include \char`\"{}common/status.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}exec/table\+\_\+connector.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}gen\+\_\+cpp/\+Types\+\_\+types.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}gutil/strings/substitute.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}jni.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}runtime/define\+\_\+primitive\+\_\+type.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}runtime/user\+\_\+function\+\_\+cache.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}util/jni-\/util.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}util/runtime\+\_\+profile.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}vec/columns/column\+\_\+array.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}vec/columns/column\+\_\+nullable.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}vec/columns/column\+\_\+string.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}vec/data\+\_\+types/data\+\_\+type\+\_\+factory.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}vec/data\+\_\+types/data\+\_\+type\+\_\+string.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}vec/exec/scan/new\+\_\+jdbc\+\_\+scanner.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}vec/functions/simple\+\_\+function\+\_\+factory.\+h\char`\"{}}\newline
vjdbc\+\_\+connector.\+cpp 的引用(Include)关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/d8c/vjdbc__connector_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{命名空间}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespacedoris}{doris}}
\begin{DoxyCompactList}\small\item\em Utilities for collecting timings. \end{DoxyCompactList}\item 
namespace \mbox{\hyperlink{namespacedoris_1_1vectorized}{doris\+::vectorized}}
\begin{DoxyCompactList}\small\item\em Common helper methods for implementation of different columns. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{vjdbc__connector_8cpp_a0cd6e51e7925bc0f35ebe73ad90d9b00}{GET\+\_\+\+BASIC\+\_\+\+JAVA\+\_\+\+CLAZZ}}(JAVA\+\_\+\+TYPE,  CPP\+\_\+\+TYPE)~    \mbox{\hyperlink{status_8h_a85f7d0e774e15eb35b74f53264305e16}{RETURN\+\_\+\+IF\+\_\+\+ERROR}}(Jni\+Util\+::\+Get\+Global\+Class\+Ref(env, JAVA\+\_\+\+TYPE, \&\+\_\+executor\+\_\+\#\#CPP\+\_\+\+TYPE\#\#\+\_\+clazz));
\item 
\#define \mbox{\hyperlink{vjdbc__connector_8cpp_af078848e85f7822c3928207dbe6277c6}{DELETE\+\_\+\+BASIC\+\_\+\+JAVA\+\_\+\+CLAZZ\+\_\+\+REF}}(CPP\+\_\+\+TYPE)~env-\/$>$Delete\+Global\+Ref(\+\_\+executor\+\_\+\#\#CPP\+\_\+\+TYPE\#\#\+\_\+clazz);
\item 
\#define \mbox{\hyperlink{vjdbc__connector_8cpp_a94db2aa7c4bd7eb658fcf023706ff4c3}{M}}(TYPE,  CPP\+\_\+\+TYPE,  COLUMN\+\_\+\+TYPE)
\item 
\#define \mbox{\hyperlink{vjdbc__connector_8cpp_aa5be5a0c212360e254af9485bbdb20d0}{FUNC\+\_\+\+IMPL\+\_\+\+TO\+\_\+\+CONVERT\+\_\+\+DATA}}(cpp\+\_\+return\+\_\+type,  java\+\_\+type,  sig,  java\+\_\+return\+\_\+type)
\end{DoxyCompactItemize}
\doxysubsection*{变量}
\begin{DoxyCompactItemize}
\item 
const char $\ast$ \mbox{\hyperlink{namespacedoris_1_1vectorized_a4659c98396be78af8e79038a1ec388c5}{JDBC\+\_\+\+EXECUTOR\+\_\+\+CLASS}} = \char`\"{}org/apache/doris/udf/Jdbc\+Executor\char`\"{}
\item 
const char $\ast$ \mbox{\hyperlink{namespacedoris_1_1vectorized_ab4128dbdc65a97daaf39c110c3ac7e99}{JDBC\+\_\+\+EXECUTOR\+\_\+\+CTOR\+\_\+\+SIGNATURE}} = \char`\"{}(\mbox{[}B)V\char`\"{}
\item 
const char $\ast$ \mbox{\hyperlink{namespacedoris_1_1vectorized_a5c566fc8d83915129e108dd0cce96cad}{JDBC\+\_\+\+EXECUTOR\+\_\+\+WRITE\+\_\+\+SIGNATURE}} = \char`\"{}(Ljava/lang/String;)I\char`\"{}
\item 
const char $\ast$ \mbox{\hyperlink{namespacedoris_1_1vectorized_a295bc29a5c5aedfa8ffda1121f838cdf}{JDBC\+\_\+\+EXECUTOR\+\_\+\+HAS\+\_\+\+NEXT\+\_\+\+SIGNATURE}} = \char`\"{}()Z\char`\"{}
\item 
const char $\ast$ \mbox{\hyperlink{namespacedoris_1_1vectorized_afa5322d5d4da9ad47fcac3546309cf31}{JDBC\+\_\+\+EXECUTOR\+\_\+\+GET\+\_\+\+BLOCK\+\_\+\+SIGNATURE}} = \char`\"{}(I)Ljava/util/List;\char`\"{}
\item 
const char $\ast$ \mbox{\hyperlink{namespacedoris_1_1vectorized_a2cc394307d1ae89e9fbbcdfbbd0c371d}{JDBC\+\_\+\+EXECUTOR\+\_\+\+GET\+\_\+\+TYPES\+\_\+\+SIGNATURE}} = \char`\"{}()Ljava/util/List;\char`\"{}
\item 
const char $\ast$ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac5aafa0a708f7de9ef4b9af9c218db12}{JDBC\+\_\+\+EXECUTOR\+\_\+\+GET\+\_\+\+ARR\+\_\+\+LIST\+\_\+\+SIGNATURE}} = \char`\"{}(Ljava/lang/Object;)Ljava/util/List;\char`\"{}
\item 
const char $\ast$ \mbox{\hyperlink{namespacedoris_1_1vectorized_afb74d052808eaf83c6c4ea5cd84ca0ff}{JDBC\+\_\+\+EXECUTOR\+\_\+\+GET\+\_\+\+ARR\+\_\+\+TYPE\+\_\+\+SIGNATURE}} = \char`\"{}()I\char`\"{}
\item 
const char $\ast$ \mbox{\hyperlink{namespacedoris_1_1vectorized_a0b54d8e9aa1bb8bdae0bff26dee03b5e}{JDBC\+\_\+\+EXECUTOR\+\_\+\+CLOSE\+\_\+\+SIGNATURE}} = \char`\"{}()V\char`\"{}
\item 
const char $\ast$ \mbox{\hyperlink{namespacedoris_1_1vectorized_ab5325267eabbca3f8dfcffde0292bcc1}{JDBC\+\_\+\+EXECUTOR\+\_\+\+CONVERT\+\_\+\+DATE\+\_\+\+SIGNATURE}} = \char`\"{}(Ljava/lang/Object;Z)J\char`\"{}
\item 
const char $\ast$ \mbox{\hyperlink{namespacedoris_1_1vectorized_ae7d7e7faf81d851fc328b23f6172afd4}{JDBC\+\_\+\+EXECUTOR\+\_\+\+CONVERT\+\_\+\+DATETIME\+\_\+\+SIGNATURE}} = \char`\"{}(Ljava/lang/Object;Z)J\char`\"{}
\item 
const char $\ast$ \mbox{\hyperlink{namespacedoris_1_1vectorized_a656d8ec14f832dd6a07d4a875cc7fc56}{JDBC\+\_\+\+EXECUTOR\+\_\+\+TRANSACTION\+\_\+\+SIGNATURE}} = \char`\"{}()V\char`\"{}
\item 
const char $\ast$ \mbox{\hyperlink{namespacedoris_1_1vectorized_a6f3bfff8c90d9700e12658a86e0354f4}{JDBC\+\_\+\+EXECUTOR\+\_\+\+COPY\+\_\+\+BATCH\+\_\+\+SIGNATURE}} = \char`\"{}(Ljava/lang/Object;ZIJJ)V\char`\"{}
\end{DoxyCompactItemize}


\doxysubsection{宏定义说明}
\mbox{\Hypertarget{vjdbc__connector_8cpp_a0cd6e51e7925bc0f35ebe73ad90d9b00}\label{vjdbc__connector_8cpp_a0cd6e51e7925bc0f35ebe73ad90d9b00}} 
\index{vjdbc\_connector.cpp@{vjdbc\_connector.cpp}!GET\_BASIC\_JAVA\_CLAZZ@{GET\_BASIC\_JAVA\_CLAZZ}}
\index{GET\_BASIC\_JAVA\_CLAZZ@{GET\_BASIC\_JAVA\_CLAZZ}!vjdbc\_connector.cpp@{vjdbc\_connector.cpp}}
\doxysubsubsection{\texorpdfstring{GET\_BASIC\_JAVA\_CLAZZ}{GET\_BASIC\_JAVA\_CLAZZ}}
{\footnotesize\ttfamily \#define GET\+\_\+\+BASIC\+\_\+\+JAVA\+\_\+\+CLAZZ(\begin{DoxyParamCaption}\item[{}]{JAVA\+\_\+\+TYPE,  }\item[{}]{CPP\+\_\+\+TYPE }\end{DoxyParamCaption})~    \mbox{\hyperlink{status_8h_a85f7d0e774e15eb35b74f53264305e16}{RETURN\+\_\+\+IF\+\_\+\+ERROR}}(Jni\+Util\+::\+Get\+Global\+Class\+Ref(env, JAVA\+\_\+\+TYPE, \&\+\_\+executor\+\_\+\#\#CPP\+\_\+\+TYPE\#\#\+\_\+clazz));}

\mbox{\Hypertarget{vjdbc__connector_8cpp_af078848e85f7822c3928207dbe6277c6}\label{vjdbc__connector_8cpp_af078848e85f7822c3928207dbe6277c6}} 
\index{vjdbc\_connector.cpp@{vjdbc\_connector.cpp}!DELETE\_BASIC\_JAVA\_CLAZZ\_REF@{DELETE\_BASIC\_JAVA\_CLAZZ\_REF}}
\index{DELETE\_BASIC\_JAVA\_CLAZZ\_REF@{DELETE\_BASIC\_JAVA\_CLAZZ\_REF}!vjdbc\_connector.cpp@{vjdbc\_connector.cpp}}
\doxysubsubsection{\texorpdfstring{DELETE\_BASIC\_JAVA\_CLAZZ\_REF}{DELETE\_BASIC\_JAVA\_CLAZZ\_REF}}
{\footnotesize\ttfamily \#define DELETE\+\_\+\+BASIC\+\_\+\+JAVA\+\_\+\+CLAZZ\+\_\+\+REF(\begin{DoxyParamCaption}\item[{}]{CPP\+\_\+\+TYPE }\end{DoxyParamCaption})~env-\/$>$Delete\+Global\+Ref(\+\_\+executor\+\_\+\#\#CPP\+\_\+\+TYPE\#\#\+\_\+clazz);}

\mbox{\Hypertarget{vjdbc__connector_8cpp_a94db2aa7c4bd7eb658fcf023706ff4c3}\label{vjdbc__connector_8cpp_a94db2aa7c4bd7eb658fcf023706ff4c3}} 
\index{vjdbc\_connector.cpp@{vjdbc\_connector.cpp}!M@{M}}
\index{M@{M}!vjdbc\_connector.cpp@{vjdbc\_connector.cpp}}
\doxysubsubsection{\texorpdfstring{M}{M}}
{\footnotesize\ttfamily \#define M(\begin{DoxyParamCaption}\item[{}]{TYPE,  }\item[{}]{CPP\+\_\+\+TYPE,  }\item[{}]{COLUMN\+\_\+\+TYPE }\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{case}\ TYPE:\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ CPP\_TYPE\ num\ =\ \_jobject\_to\_\#\#CPP\_TYPE(env,\ jobj);\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ reinterpret\_cast<COLUMN\_TYPE*>(col\_ptr)-\/>insert\_value(num);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}
\mbox{\Hypertarget{vjdbc__connector_8cpp_aa5be5a0c212360e254af9485bbdb20d0}\label{vjdbc__connector_8cpp_aa5be5a0c212360e254af9485bbdb20d0}} 
\index{vjdbc\_connector.cpp@{vjdbc\_connector.cpp}!FUNC\_IMPL\_TO\_CONVERT\_DATA@{FUNC\_IMPL\_TO\_CONVERT\_DATA}}
\index{FUNC\_IMPL\_TO\_CONVERT\_DATA@{FUNC\_IMPL\_TO\_CONVERT\_DATA}!vjdbc\_connector.cpp@{vjdbc\_connector.cpp}}
\doxysubsubsection{\texorpdfstring{FUNC\_IMPL\_TO\_CONVERT\_DATA}{FUNC\_IMPL\_TO\_CONVERT\_DATA}}
{\footnotesize\ttfamily \#define FUNC\+\_\+\+IMPL\+\_\+\+TO\+\_\+\+CONVERT\+\_\+\+DATA(\begin{DoxyParamCaption}\item[{}]{cpp\+\_\+return\+\_\+type,  }\item[{}]{java\+\_\+type,  }\item[{}]{sig,  }\item[{}]{java\+\_\+return\+\_\+type }\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ cpp\_return\_type\ JdbcConnector::\_jobject\_to\_\#\#cpp\_return\_type(JNIEnv*\ env,\ jobject\ jobj)\ \{\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ jmethodID\ method\_id\_\#\#cpp\_return\_type\ =\ env-\/>GetMethodID(\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_executor\_\#\#cpp\_return\_type\#\#\_clazz,\ \#java\_type\ \textcolor{stringliteral}{"{}Value"{}},\ \textcolor{stringliteral}{"{}()"{}}\ \#sig);\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ env-\/>Call\#\#java\_return\_type\#\#Method(jobj,\ method\_id\_\#\#cpp\_return\_type);\ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}
