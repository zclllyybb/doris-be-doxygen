\hypertarget{classdoris_1_1_s3_reader}{}\doxysection{S3\+Reader类 参考}
\label{classdoris_1_1_s3_reader}\index{S3Reader@{S3Reader}}


{\ttfamily \#include $<$s3\+\_\+reader.\+h$>$}



类 S3\+Reader 继承关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=144pt]{da/d8d/classdoris_1_1_s3_reader__inherit__graph}
\end{center}
\end{figure}


S3\+Reader 的协作图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=275pt]{da/d0c/classdoris_1_1_s3_reader__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdoris_1_1_s3_reader_a1972188b2aceff7d4109d4db437d7ec0}{S3\+Reader}} (const std\+::map$<$ std\+::string, std\+::string $>$ \&properties, const std\+::string \&path, int64\+\_\+t start\+\_\+offset)
\item 
\mbox{\hyperlink{classdoris_1_1_s3_reader_a1700926b0c432cc70100cd77a1e82cfe}{$\sim$\+S3\+Reader}} ()
\item 
virtual \mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_s3_reader_a9226d1cc21f91bcd9ef7c05d6115cc73}{open}} () override
\item 
virtual \mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_s3_reader_a07ab2523592b883f746d81aee1854f1b}{read}} (uint8\+\_\+t $\ast$buf, int64\+\_\+t buf\+\_\+len, int64\+\_\+t $\ast$bytes\+\_\+read, bool $\ast$eof) override
\item 
virtual \mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_s3_reader_a9a159c330c6168c28332c8f21f5e55c8}{readat}} (int64\+\_\+t position, int64\+\_\+t nbytes, int64\+\_\+t $\ast$bytes\+\_\+read, void $\ast$out) override
\item 
virtual \mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_s3_reader_a80615b9ec53e3e87b75a6ed49265b776}{read\+\_\+one\+\_\+message}} (std\+::unique\+\_\+ptr$<$ uint8\+\_\+t\mbox{[}$\,$\mbox{]}$>$ $\ast$buf, int64\+\_\+t $\ast$length) override
\item 
virtual int64\+\_\+t \mbox{\hyperlink{classdoris_1_1_s3_reader_ac124e6c091283607b5a4804eb2a37268}{size}} () override
\item 
virtual \mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_s3_reader_a4c31acaafc342e916d211eb797d74c0e}{seek}} (int64\+\_\+t position) override
\item 
virtual \mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_s3_reader_aba58f2bee27ad02d61c9054c0b6104c3}{tell}} (int64\+\_\+t $\ast$position) override
\item 
virtual void \mbox{\hyperlink{classdoris_1_1_s3_reader_a7008bca493d69ea65f12e0940f3a6886}{close}} () override
\item 
virtual bool \mbox{\hyperlink{classdoris_1_1_s3_reader_a3ca56674c5971726e3fe7641482fc164}{closed}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
const std\+::map$<$ std\+::string, std\+::string $>$ \& \mbox{\hyperlink{classdoris_1_1_s3_reader_a0dd93d4fc9c5e6f85e52a594f464ea2a}{\+\_\+properties}}
\item 
std\+::string \mbox{\hyperlink{classdoris_1_1_s3_reader_a18564f99a748f8daffbf8f5ffaa2a0cb}{\+\_\+path}}
\item 
\mbox{\hyperlink{classdoris_1_1_s3_u_r_i}{S3\+URI}} \mbox{\hyperlink{classdoris_1_1_s3_reader_aaeda883a9fb59560ef0b300c5b4b3013}{\+\_\+uri}}
\item 
int64\+\_\+t \mbox{\hyperlink{classdoris_1_1_s3_reader_a2ef710295a111c48c3afa966adf8cf3c}{\+\_\+cur\+\_\+offset}}
\item 
int64\+\_\+t \mbox{\hyperlink{classdoris_1_1_s3_reader_a5d4a74a898a9007f3088c6bc2ffc1351}{\+\_\+file\+\_\+size}}
\item 
bool \mbox{\hyperlink{classdoris_1_1_s3_reader_af4a8be523945fd0c4187dddbbc732d87}{\+\_\+closed}}
\item 
std\+::shared\+\_\+ptr$<$ Aws\+::\+S3\+::\+S3\+Client $>$ \mbox{\hyperlink{classdoris_1_1_s3_reader_aaecd6b779def39569db466473bd76dc1}{\+\_\+client}}
\end{DoxyCompactItemize}


\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{classdoris_1_1_s3_reader_a1972188b2aceff7d4109d4db437d7ec0}\label{classdoris_1_1_s3_reader_a1972188b2aceff7d4109d4db437d7ec0}} 
\index{S3Reader@{S3Reader}!S3Reader@{S3Reader}}
\index{S3Reader@{S3Reader}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{S3Reader()}{S3Reader()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_s3_reader}{S3\+Reader}} (\begin{DoxyParamCaption}\item[{const std\+::map$<$ std\+::string, std\+::string $>$ \&}]{properties,  }\item[{const std\+::string \&}]{path,  }\item[{int64\+\_\+t}]{start\+\_\+offset }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classdoris_1_1_s3_reader_a1700926b0c432cc70100cd77a1e82cfe}\label{classdoris_1_1_s3_reader_a1700926b0c432cc70100cd77a1e82cfe}} 
\index{S3Reader@{S3Reader}!````~S3Reader@{$\sim$S3Reader}}
\index{````~S3Reader@{$\sim$S3Reader}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{$\sim$S3Reader()}{~S3Reader()}}
{\footnotesize\ttfamily $\sim$\mbox{\hyperlink{classdoris_1_1_s3_reader}{S3\+Reader}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\doxysubsection{成员函数说明}
\mbox{\Hypertarget{classdoris_1_1_s3_reader_a9226d1cc21f91bcd9ef7c05d6115cc73}\label{classdoris_1_1_s3_reader_a9226d1cc21f91bcd9ef7c05d6115cc73}} 
\index{S3Reader@{S3Reader}!open@{open}}
\index{open@{open}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{open()}{open()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} open (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_file_reader_a8674dd7db03bb4e22ca805ab9674dcb2}{File\+Reader}}.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/d23/classdoris_1_1_s3_reader_a9226d1cc21f91bcd9ef7c05d6115cc73_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_s3_reader_a07ab2523592b883f746d81aee1854f1b}\label{classdoris_1_1_s3_reader_a07ab2523592b883f746d81aee1854f1b}} 
\index{S3Reader@{S3Reader}!read@{read}}
\index{read@{read}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} read (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{buf,  }\item[{int64\+\_\+t}]{buf\+\_\+len,  }\item[{int64\+\_\+t $\ast$}]{bytes\+\_\+read,  }\item[{bool $\ast$}]{eof }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_file_reader_ac43c3830f59c89d7b27504b54187ac93}{File\+Reader}}.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/d23/classdoris_1_1_s3_reader_a07ab2523592b883f746d81aee1854f1b_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{d1/d23/classdoris_1_1_s3_reader_a07ab2523592b883f746d81aee1854f1b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_s3_reader_a9a159c330c6168c28332c8f21f5e55c8}\label{classdoris_1_1_s3_reader_a9a159c330c6168c28332c8f21f5e55c8}} 
\index{S3Reader@{S3Reader}!readat@{readat}}
\index{readat@{readat}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{readat()}{readat()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} readat (\begin{DoxyParamCaption}\item[{int64\+\_\+t}]{position,  }\item[{int64\+\_\+t}]{nbytes,  }\item[{int64\+\_\+t $\ast$}]{bytes\+\_\+read,  }\item[{void $\ast$}]{out }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_file_reader_ab1bc3510524b9620525d1aba61648a5a}{File\+Reader}}.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/d23/classdoris_1_1_s3_reader_a9a159c330c6168c28332c8f21f5e55c8_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=332pt]{d1/d23/classdoris_1_1_s3_reader_a9a159c330c6168c28332c8f21f5e55c8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_s3_reader_a80615b9ec53e3e87b75a6ed49265b776}\label{classdoris_1_1_s3_reader_a80615b9ec53e3e87b75a6ed49265b776}} 
\index{S3Reader@{S3Reader}!read\_one\_message@{read\_one\_message}}
\index{read\_one\_message@{read\_one\_message}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{read\_one\_message()}{read\_one\_message()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} read\+\_\+one\+\_\+message (\begin{DoxyParamCaption}\item[{std\+::unique\+\_\+ptr$<$ uint8\+\_\+t\mbox{[}$\,$\mbox{]}$>$ $\ast$}]{buf,  }\item[{int64\+\_\+t $\ast$}]{length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

This interface is used read a whole message, For example\+: read a message from kafka.

if read eof then return \mbox{\hyperlink{classdoris_1_1_status_a6ec1a217f203269ab53d2290d602db24}{Status\+::\+OK}} and length is set 0 and buf is set nullptr, other return readed bytes. 

实现了 \mbox{\hyperlink{classdoris_1_1_file_reader_abeb305e9526e2cc3c1581bed2369f0cd}{File\+Reader}}.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/d23/classdoris_1_1_s3_reader_a80615b9ec53e3e87b75a6ed49265b776_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_s3_reader_ac124e6c091283607b5a4804eb2a37268}\label{classdoris_1_1_s3_reader_ac124e6c091283607b5a4804eb2a37268}} 
\index{S3Reader@{S3Reader}!size@{size}}
\index{size@{size}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily int64\+\_\+t size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_file_reader_a55c95c2827d97f6a8eb53b55261ab261}{File\+Reader}}.

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{d1/d23/classdoris_1_1_s3_reader_ac124e6c091283607b5a4804eb2a37268_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_s3_reader_a4c31acaafc342e916d211eb797d74c0e}\label{classdoris_1_1_s3_reader_a4c31acaafc342e916d211eb797d74c0e}} 
\index{S3Reader@{S3Reader}!seek@{seek}}
\index{seek@{seek}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{seek()}{seek()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} seek (\begin{DoxyParamCaption}\item[{int64\+\_\+t}]{position }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_file_reader_a63002e1d424b4e755533acd774951dbf}{File\+Reader}}.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/d23/classdoris_1_1_s3_reader_a4c31acaafc342e916d211eb797d74c0e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_s3_reader_aba58f2bee27ad02d61c9054c0b6104c3}\label{classdoris_1_1_s3_reader_aba58f2bee27ad02d61c9054c0b6104c3}} 
\index{S3Reader@{S3Reader}!tell@{tell}}
\index{tell@{tell}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{tell()}{tell()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} tell (\begin{DoxyParamCaption}\item[{int64\+\_\+t $\ast$}]{position }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_file_reader_a709ac18ac7fee692bf41b3bf3c9afa5f}{File\+Reader}}.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/d23/classdoris_1_1_s3_reader_aba58f2bee27ad02d61c9054c0b6104c3_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_s3_reader_a7008bca493d69ea65f12e0940f3a6886}\label{classdoris_1_1_s3_reader_a7008bca493d69ea65f12e0940f3a6886}} 
\index{S3Reader@{S3Reader}!close@{close}}
\index{close@{close}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{close()}{close()}}
{\footnotesize\ttfamily void close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_file_reader_af6ee7eacbde6b379b68d954e44f6e549}{File\+Reader}}.

\mbox{\Hypertarget{classdoris_1_1_s3_reader_a3ca56674c5971726e3fe7641482fc164}\label{classdoris_1_1_s3_reader_a3ca56674c5971726e3fe7641482fc164}} 
\index{S3Reader@{S3Reader}!closed@{closed}}
\index{closed@{closed}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{closed()}{closed()}}
{\footnotesize\ttfamily bool closed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_file_reader_a8cfbe8d5e4e766657d53f59fd97db971}{File\+Reader}}.



\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{classdoris_1_1_s3_reader_a0dd93d4fc9c5e6f85e52a594f464ea2a}\label{classdoris_1_1_s3_reader_a0dd93d4fc9c5e6f85e52a594f464ea2a}} 
\index{S3Reader@{S3Reader}!\_properties@{\_properties}}
\index{\_properties@{\_properties}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{\_properties}{\_properties}}
{\footnotesize\ttfamily const std\+::map$<$std\+::string, std\+::string$>$\& \+\_\+properties\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_s3_reader_a18564f99a748f8daffbf8f5ffaa2a0cb}\label{classdoris_1_1_s3_reader_a18564f99a748f8daffbf8f5ffaa2a0cb}} 
\index{S3Reader@{S3Reader}!\_path@{\_path}}
\index{\_path@{\_path}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{\_path}{\_path}}
{\footnotesize\ttfamily std\+::string \+\_\+path\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_s3_reader_aaeda883a9fb59560ef0b300c5b4b3013}\label{classdoris_1_1_s3_reader_aaeda883a9fb59560ef0b300c5b4b3013}} 
\index{S3Reader@{S3Reader}!\_uri@{\_uri}}
\index{\_uri@{\_uri}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{\_uri}{\_uri}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_s3_u_r_i}{S3\+URI}} \+\_\+uri\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_s3_reader_a2ef710295a111c48c3afa966adf8cf3c}\label{classdoris_1_1_s3_reader_a2ef710295a111c48c3afa966adf8cf3c}} 
\index{S3Reader@{S3Reader}!\_cur\_offset@{\_cur\_offset}}
\index{\_cur\_offset@{\_cur\_offset}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{\_cur\_offset}{\_cur\_offset}}
{\footnotesize\ttfamily int64\+\_\+t \+\_\+cur\+\_\+offset\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_s3_reader_a5d4a74a898a9007f3088c6bc2ffc1351}\label{classdoris_1_1_s3_reader_a5d4a74a898a9007f3088c6bc2ffc1351}} 
\index{S3Reader@{S3Reader}!\_file\_size@{\_file\_size}}
\index{\_file\_size@{\_file\_size}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{\_file\_size}{\_file\_size}}
{\footnotesize\ttfamily int64\+\_\+t \+\_\+file\+\_\+size\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_s3_reader_af4a8be523945fd0c4187dddbbc732d87}\label{classdoris_1_1_s3_reader_af4a8be523945fd0c4187dddbbc732d87}} 
\index{S3Reader@{S3Reader}!\_closed@{\_closed}}
\index{\_closed@{\_closed}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{\_closed}{\_closed}}
{\footnotesize\ttfamily bool \+\_\+closed\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_s3_reader_aaecd6b779def39569db466473bd76dc1}\label{classdoris_1_1_s3_reader_aaecd6b779def39569db466473bd76dc1}} 
\index{S3Reader@{S3Reader}!\_client@{\_client}}
\index{\_client@{\_client}!S3Reader@{S3Reader}}
\doxysubsubsection{\texorpdfstring{\_client}{\_client}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$Aws\+::\+S3\+::\+S3\+Client$>$ \+\_\+client\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/be\+\_\+all/io/\mbox{\hyperlink{s3__reader_8h}{s3\+\_\+reader.\+h}}\item 
/\+Users/dabowang/be\+\_\+all/io/\mbox{\hyperlink{s3__reader_8cpp}{s3\+\_\+reader.\+cpp}}\end{DoxyCompactItemize}
