\hypertarget{doris__metrics_8h}{}\doxysection{/\+Users/dabowang/doris/be/src/util/doris\+\_\+metrics.h 文件参考}
\label{doris__metrics_8h}\index{/Users/dabowang/doris/be/src/util/doris\_metrics.h@{/Users/dabowang/doris/be/src/util/doris\_metrics.h}}
{\ttfamily \#include $<$set$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$unordered\+\_\+map$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include \char`\"{}util/metrics.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}util/system\+\_\+metrics.\+h\char`\"{}}\newline
doris\+\_\+metrics.\+h 的引用(Include)关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dd/d0b/doris__metrics_8h__incl}
\end{center}
\end{figure}
此图展示该文件直接或间接的被哪些文件引用了\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dc/dec/doris__metrics_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{类}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classdoris_1_1_doris_metrics}{Doris\+Metrics}}
\end{DoxyCompactItemize}
\doxysubsection*{命名空间}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespacedoris}{doris}}
\begin{DoxyCompactList}\small\item\em Utilities for collecting timings. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{doris__metrics_8h_a265034e27c932f83687f08708e9ec652}{REGISTER\+\_\+\+ENTITY\+\_\+\+HOOK\+\_\+\+METRIC}}(entity,  owner,  metric,  func)
\item 
\#define \mbox{\hyperlink{doris__metrics_8h_a9e33832d0bd9f6cf8f797e28ba05171b}{REGISTER\+\_\+\+HOOK\+\_\+\+METRIC}}(metric,  func)
\item 
\#define \mbox{\hyperlink{doris__metrics_8h_a2dc8833b7c64696c3a7a8cabf6a08abc}{DEREGISTER\+\_\+\+ENTITY\+\_\+\+HOOK\+\_\+\+METRIC}}(entity,  \mbox{\hyperlink{signal__handler_8h_a8f8f80d37794cde9472343e4487ba3eb}{name}})
\item 
\#define \mbox{\hyperlink{doris__metrics_8h_a87a05101524aef7d503c647d83a24a56}{DEREGISTER\+\_\+\+HOOK\+\_\+\+METRIC}}(\mbox{\hyperlink{signal__handler_8h_a8f8f80d37794cde9472343e4487ba3eb}{name}})~    \mbox{\hyperlink{doris__metrics_8h_a2dc8833b7c64696c3a7a8cabf6a08abc}{DEREGISTER\+\_\+\+ENTITY\+\_\+\+HOOK\+\_\+\+METRIC}}(Doris\+Metrics\+::instance()-\/$>$server\+\_\+entity(), \mbox{\hyperlink{signal__handler_8h_a8f8f80d37794cde9472343e4487ba3eb}{name}})
\end{DoxyCompactItemize}


\doxysubsection{宏定义说明}
\mbox{\Hypertarget{doris__metrics_8h_a265034e27c932f83687f08708e9ec652}\label{doris__metrics_8h_a265034e27c932f83687f08708e9ec652}} 
\index{doris\_metrics.h@{doris\_metrics.h}!REGISTER\_ENTITY\_HOOK\_METRIC@{REGISTER\_ENTITY\_HOOK\_METRIC}}
\index{REGISTER\_ENTITY\_HOOK\_METRIC@{REGISTER\_ENTITY\_HOOK\_METRIC}!doris\_metrics.h@{doris\_metrics.h}}
\doxysubsubsection{\texorpdfstring{REGISTER\_ENTITY\_HOOK\_METRIC}{REGISTER\_ENTITY\_HOOK\_METRIC}}
{\footnotesize\ttfamily \#define REGISTER\+\_\+\+ENTITY\+\_\+\+HOOK\+\_\+\+METRIC(\begin{DoxyParamCaption}\item[{}]{entity,  }\item[{}]{owner,  }\item[{}]{metric,  }\item[{}]{func }\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ owner-\/>metric\ =\ (UIntGauge*)(entity-\/>register\_metric<UIntGauge>(\&METRIC\_\#\#metric));\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ entity-\/>register\_hook(\#metric,\ [\&]()\ \{\ owner-\/>metric-\/>set\_value(func());\ \});}

\end{DoxyCode}
\mbox{\Hypertarget{doris__metrics_8h_a9e33832d0bd9f6cf8f797e28ba05171b}\label{doris__metrics_8h_a9e33832d0bd9f6cf8f797e28ba05171b}} 
\index{doris\_metrics.h@{doris\_metrics.h}!REGISTER\_HOOK\_METRIC@{REGISTER\_HOOK\_METRIC}}
\index{REGISTER\_HOOK\_METRIC@{REGISTER\_HOOK\_METRIC}!doris\_metrics.h@{doris\_metrics.h}}
\doxysubsubsection{\texorpdfstring{REGISTER\_HOOK\_METRIC}{REGISTER\_HOOK\_METRIC}}
{\footnotesize\ttfamily \#define REGISTER\+\_\+\+HOOK\+\_\+\+METRIC(\begin{DoxyParamCaption}\item[{}]{metric,  }\item[{}]{func }\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{doris__metrics_8h_a265034e27c932f83687f08708e9ec652}{REGISTER\_ENTITY\_HOOK\_METRIC}}(DorisMetrics::instance()-\/>server\_entity(),\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DorisMetrics::instance(),\ metric,\ func)}

\end{DoxyCode}
\mbox{\Hypertarget{doris__metrics_8h_a2dc8833b7c64696c3a7a8cabf6a08abc}\label{doris__metrics_8h_a2dc8833b7c64696c3a7a8cabf6a08abc}} 
\index{doris\_metrics.h@{doris\_metrics.h}!DEREGISTER\_ENTITY\_HOOK\_METRIC@{DEREGISTER\_ENTITY\_HOOK\_METRIC}}
\index{DEREGISTER\_ENTITY\_HOOK\_METRIC@{DEREGISTER\_ENTITY\_HOOK\_METRIC}!doris\_metrics.h@{doris\_metrics.h}}
\doxysubsubsection{\texorpdfstring{DEREGISTER\_ENTITY\_HOOK\_METRIC}{DEREGISTER\_ENTITY\_HOOK\_METRIC}}
{\footnotesize\ttfamily \#define DEREGISTER\+\_\+\+ENTITY\+\_\+\+HOOK\+\_\+\+METRIC(\begin{DoxyParamCaption}\item[{}]{entity,  }\item[{}]{\mbox{\hyperlink{signal__handler_8h_a8f8f80d37794cde9472343e4487ba3eb}{name}} }\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ entity-\/>deregister\_metric(\&METRIC\_\#\#\mbox{\hyperlink{signal__handler_8h_a8f8f80d37794cde9472343e4487ba3eb}{name}});\ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ entity-\/>deregister\_hook(\#\mbox{\hyperlink{signal__handler_8h_a8f8f80d37794cde9472343e4487ba3eb}{name}});}

\end{DoxyCode}
\mbox{\Hypertarget{doris__metrics_8h_a87a05101524aef7d503c647d83a24a56}\label{doris__metrics_8h_a87a05101524aef7d503c647d83a24a56}} 
\index{doris\_metrics.h@{doris\_metrics.h}!DEREGISTER\_HOOK\_METRIC@{DEREGISTER\_HOOK\_METRIC}}
\index{DEREGISTER\_HOOK\_METRIC@{DEREGISTER\_HOOK\_METRIC}!doris\_metrics.h@{doris\_metrics.h}}
\doxysubsubsection{\texorpdfstring{DEREGISTER\_HOOK\_METRIC}{DEREGISTER\_HOOK\_METRIC}}
{\footnotesize\ttfamily \#define DEREGISTER\+\_\+\+HOOK\+\_\+\+METRIC(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{signal__handler_8h_a8f8f80d37794cde9472343e4487ba3eb}{name}} }\end{DoxyParamCaption})~    \mbox{\hyperlink{doris__metrics_8h_a2dc8833b7c64696c3a7a8cabf6a08abc}{DEREGISTER\+\_\+\+ENTITY\+\_\+\+HOOK\+\_\+\+METRIC}}(Doris\+Metrics\+::instance()-\/$>$server\+\_\+entity(), \mbox{\hyperlink{signal__handler_8h_a8f8f80d37794cde9472343e4487ba3eb}{name}})}

