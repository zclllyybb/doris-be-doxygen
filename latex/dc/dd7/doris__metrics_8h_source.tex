\hypertarget{doris__metrics_8h_source}{}\doxysection{doris\+\_\+metrics.\+h}
\label{doris__metrics_8h_source}\index{/Users/dabowang/doris/be/src/util/doris\_metrics.h@{/Users/dabowang/doris/be/src/util/doris\_metrics.h}}
\mbox{\hyperlink{doris__metrics_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <set>}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{metrics_8h}{util/metrics.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{system__metrics_8h}{util/system\_metrics.h}}"{}}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris}{doris}}\ \{}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#define\ REGISTER\_ENTITY\_HOOK\_METRIC(entity,\ owner,\ metric,\ func)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\ \ \ \ owner-\/>metric\ =\ (UIntGauge*)(entity-\/>register\_metric<UIntGauge>(\&METRIC\_\#\#metric));\ \(\backslash\)}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\ \ \ \ entity-\/>register\_hook(\#metric,\ [\&]()\ \{\ owner-\/>metric-\/>set\_value(func());\ \});}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#define\ REGISTER\_HOOK\_METRIC(metric,\ func)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\ \ \ \ REGISTER\_ENTITY\_HOOK\_METRIC(DorisMetrics::instance()-\/>server\_entity(),\ \(\backslash\)}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DorisMetrics::instance(),\ metric,\ func)}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#define\ DEREGISTER\_ENTITY\_HOOK\_METRIC(entity,\ name)\ \(\backslash\)}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\ \ \ \ entity-\/>deregister\_metric(\&METRIC\_\#\#name);\ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\ \ \ \ entity-\/>deregister\_hook(\#name);}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#define\ DEREGISTER\_HOOK\_METRIC(name)\ \(\backslash\)}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\ \ \ \ DEREGISTER\_ENTITY\_HOOK\_METRIC(DorisMetrics::instance()-\/>server\_entity(),\ name)}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_doris_metrics}{DorisMetrics}}\ \{}
\DoxyCodeLine{00046\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ac6607d85f67bf23dbc2b8252a6bffea8}{fragment\_requests\_total}};}
\DoxyCodeLine{00048\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a9ea13b3d9a207917b0f09c62cbc9a8ab}{fragment\_request\_duration\_us}};}
\DoxyCodeLine{00049\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a35aac1faeda7d35ebbf27e9d0dbb754b}{query\_scan\_bytes}};}
\DoxyCodeLine{00050\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a5375d3d2d9102b78109a1e357e9cfff7}{query\_scan\_rows}};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_abf96ed5299e06eed44d21adfe115e3d0}{push\_requests\_success\_total}};}
\DoxyCodeLine{00053\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a5e0924245a9267ecf0b57ee55ff41573}{push\_requests\_fail\_total}};}
\DoxyCodeLine{00054\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a3c6a8ef2ded909e2f080ca88711ebd13}{push\_request\_duration\_us}};}
\DoxyCodeLine{00055\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ae24d9690bc5aed31c7f4e77e1ee1bb2f}{push\_request\_write\_bytes}};}
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a3b5918d4d7a20595ebd56a31e5068c5e}{push\_request\_write\_rows}};}
\DoxyCodeLine{00057\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ae1070099d57bd89af2f9bddcb5f4d550}{create\_tablet\_requests\_total}};}
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ab7eb3d802e74fd99e5028382f6dcf8f7}{create\_tablet\_requests\_failed}};}
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ab43d24f7fee4a40a2a075013471d763b}{drop\_tablet\_requests\_total}};}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a7388501ee326958666b47ccbd0916c42}{report\_all\_tablets\_requests\_total}};}
\DoxyCodeLine{00062\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a7dd409c66062d70194796a5254903cb4}{report\_all\_tablets\_requests\_failed}};}
\DoxyCodeLine{00063\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a3da6e43e7cba8fa3b2c6896537f7f1d8}{report\_tablet\_requests\_total}};}
\DoxyCodeLine{00064\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_af88e65aee8a78d20bb2516df3212bafe}{report\_tablet\_requests\_failed}};}
\DoxyCodeLine{00065\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a6de464e9198a569be4e61eee165d0f22}{report\_all\_tablets\_requests\_skip}};}
\DoxyCodeLine{00066\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a3f5074f91f9482409e40987531c03f3e}{report\_disk\_requests\_total}};}
\DoxyCodeLine{00067\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_af73ed240b15addef46afac03a11a7005}{report\_disk\_requests\_failed}};}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a4e5e26e9768e7e5b2ca924bf5c5d6f5f}{report\_task\_requests\_total}};}
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a9f94ee50d83f354c40de35f8191a0958}{report\_task\_requests\_failed}};}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_af1c76eee3ac9c00cc7ad45b72417d7b6}{schema\_change\_requests\_total}};}
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ad73377810d78e34a3c5dae690999b03c}{schema\_change\_requests\_failed}};}
\DoxyCodeLine{00073\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a1f13b489339b05976a6c2e863783648a}{create\_rollup\_requests\_total}};}
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a8afa4aee6aa14ee63c8a7444ed0d06f7}{create\_rollup\_requests\_failed}};}
\DoxyCodeLine{00075\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a9040e8362fe75c6f1a1c41ce136c2d85}{storage\_migrate\_requests\_total}};}
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a0f5f03dc782b56716872f5dd6d21a7f1}{storage\_migrate\_v2\_requests\_total}};}
\DoxyCodeLine{00077\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_abbd6a303f323a0f8a989eead271fc95d}{storage\_migrate\_v2\_requests\_failed}};}
\DoxyCodeLine{00078\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ad5e8f06354e5a313e13524e8e76b97ee}{delete\_requests\_total}};}
\DoxyCodeLine{00079\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aa0475c103d1739881a405e965e32cf49}{delete\_requests\_failed}};}
\DoxyCodeLine{00080\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aa031b5815e8d4ef4c92f9abfe680562a}{clone\_requests\_total}};}
\DoxyCodeLine{00081\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ab7d18c80a848dc92e2512c3edb8195ad}{clone\_requests\_failed}};}
\DoxyCodeLine{00082\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_af0f4073671e30fb6632ee3b13c936cb7}{alter\_inverted\_index\_requests\_total}};}
\DoxyCodeLine{00083\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a0cad46aaa7e10d7fe1a284d6921ad407}{alter\_inverted\_index\_requests\_failed}};}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a426ccd2c2946452569954279c8e8d529}{finish\_task\_requests\_total}};}
\DoxyCodeLine{00086\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a8d63251887a7ffcbdcdc7872e014b839}{finish\_task\_requests\_failed}};}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a87bcf4533f460d65b0b657017f7d3489}{base\_compaction\_request\_total}};}
\DoxyCodeLine{00089\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ae0a48ac26ca81d6800841ad4cfb86007}{base\_compaction\_request\_failed}};}
\DoxyCodeLine{00090\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_afd3c6c77991eb6ce932e97e3cf224ead}{cumulative\_compaction\_request\_total}};}
\DoxyCodeLine{00091\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a6aee5b0d373c298cef43346989f849b6}{cumulative\_compaction\_request\_failed}};}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aa130d11d5e9802de76e1cee2e4837b0d}{base\_compaction\_deltas\_total}};}
\DoxyCodeLine{00094\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a7d382ec470e6c723238a2924a8b43970}{base\_compaction\_bytes\_total}};}
\DoxyCodeLine{00095\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aba0d57ffb8d1bb809fe72ca94df3b587}{cumulative\_compaction\_deltas\_total}};}
\DoxyCodeLine{00096\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ab76855a30eea4bbe3d0604e1aecc4534}{cumulative\_compaction\_bytes\_total}};}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a72eaf08dfbdbfaf3521d24c4756602aa}{publish\_task\_request\_total}};}
\DoxyCodeLine{00099\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_afdab4ad5ce40aaafc2b430e45c330d89}{publish\_task\_failed\_total}};}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a1b5bf8beb166033eaeb3e1db552678b0}{meta\_write\_request\_total}};}
\DoxyCodeLine{00102\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a2b9f36c5200d1dd5809a9a25f3684b65}{meta\_write\_request\_duration\_us}};}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aafa0e95b956be6bdf75dd7ce4767ad97}{meta\_read\_request\_total}};}
\DoxyCodeLine{00104\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_abf215733b8bb7756c4d856059f3fd755}{meta\_read\_request\_duration\_us}};}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{comment}{//\ Counters\ for\ segment\_v2}}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{comment}{//\ total\ number\ of\ segments\ read}}
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a39a7c8f4315fdd33dbafa199a656a3f4}{segment\_read\_total}};}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{comment}{//\ total\ number\ of\ rows\ in\ queried\ segments\ (before\ index\ pruning)}}
\DoxyCodeLine{00111\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a769582134f169861f5cb3a3711bf2a50}{segment\_row\_total}};}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ab7b19ac161b0e5a6fae2f5e1ee6f956c}{stream\_load\_txn\_begin\_request\_total}};}
\DoxyCodeLine{00114\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a2943fcc0c108432b5bb75f36ed904820}{stream\_load\_txn\_commit\_request\_total}};}
\DoxyCodeLine{00115\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_add5694f0d3c5ec0d0455dd6faacfbce5}{stream\_load\_txn\_rollback\_request\_total}};}
\DoxyCodeLine{00116\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ae3ed94c636d620ddf6b0624c34c911d6}{stream\_receive\_bytes\_total}};}
\DoxyCodeLine{00117\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aa4ddc652a874f02a1359c1a306322ba0}{stream\_load\_rows\_total}};}
\DoxyCodeLine{00118\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a0dac91624ab262a173f4ff6c1d7c4a75}{load\_rows}};}
\DoxyCodeLine{00119\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aee2b6a1729c2230872d59b67d3a37f24}{load\_bytes}};}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a5a36aef84ea3b96a355083c3aab14c6a}{memtable\_flush\_total}};}
\DoxyCodeLine{00122\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_abb5bc473f5c22fff8be2e297e64d4965}{memtable\_flush\_duration\_us}};}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a0b6d72e63e53cef81b9a90be541ea60c}{attach\_task\_thread\_count}};}
\DoxyCodeLine{00125\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_af73aab4223e7ec33f3e7d1713fae2c1a}{add\_thread\_mem\_tracker\_consumer\_count}};}
\DoxyCodeLine{00126\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_abcc37b1091e600ae6bf274f2c7c5fda7}{thread\_mem\_tracker\_exceed\_call\_back\_count}};}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{comment}{//\ brpc\ server\ response\ count}}
\DoxyCodeLine{00128\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aac09153022d7b6345b17ffbf7dc45726}{switch\_bthread\_count}};}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a150e1a6f1f8570707a522b18e6e736f1}{memory\_pool\_bytes\_total}};}
\DoxyCodeLine{00131\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a09f2851baa7f5b61c03b672e2e3a2551}{process\_thread\_num}};}
\DoxyCodeLine{00132\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a3a1c223d606afc8ae3e4ff6946d7cb7e}{process\_fd\_num\_used}};}
\DoxyCodeLine{00133\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aff07b20a9519c882b20b7b83454618fb}{process\_fd\_num\_limit\_soft}};}
\DoxyCodeLine{00134\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ad1ea0a46f7a6adbb14e6ebf7b056c14e}{process\_fd\_num\_limit\_hard}};}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{comment}{//\ the\ max\ compaction\ score\ of\ all\ tablets.}}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{comment}{//\ Record\ base\ and\ cumulative\ scores\ separately,\ because}}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{comment}{//\ we\ need\ to\ get\ the\ larger\ of\ the\ two.}}
\DoxyCodeLine{00139\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_af967869e9fffbda99ca1dc3c5a1f2bf4}{tablet\_cumulative\_max\_compaction\_score}};}
\DoxyCodeLine{00140\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aac98a36d31dc1d486f82eaab72692db0}{tablet\_base\_max\_compaction\_score}};}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a7817f46abb148aa3c9d8794ae02dece7}{all\_rowsets\_num}};}
\DoxyCodeLine{00143\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a413c914df33f16177933f1143650977a}{all\_segments\_num}};}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{comment}{//\ permits\ have\ been\ used\ for\ all\ compaction\ tasks}}
\DoxyCodeLine{00146\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_af6090788c06698b2ad7b80f56af61cca}{compaction\_used\_permits}};}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{comment}{//\ permits\ required\ by\ the\ compaction\ task\ which\ is\ waiting\ for\ permits}}
\DoxyCodeLine{00148\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ac67138d73dff072f8aa39b0d9b70a4ac}{compaction\_waitting\_permits}};}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_histogram_metric}{HistogramMetric}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a4db604438743becd144ef5008aa07195}{tablet\_version\_num\_distribution}};}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{comment}{//\ The\ following\ metrics\ will\ be\ calculated}}
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{comment}{//\ by\ metric\ calculator}}
\DoxyCodeLine{00154\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a38bb72ed8276338aaf4b3b04060b37af}{query\_scan\_bytes\_per\_second}};}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{comment}{//\ Metrics\ related\ with\ file\ reader/writer}}
\DoxyCodeLine{00157\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ae9e5914e633d1a69b345fa63881d991c}{local\_file\_reader\_total}};}
\DoxyCodeLine{00158\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_afd870bcd7955742304cd9d24a4ba5a58}{s3\_file\_reader\_total}};}
\DoxyCodeLine{00159\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ada835e751bd82962bfa3a67b23a586be}{hdfs\_file\_reader\_total}};}
\DoxyCodeLine{00160\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a44b1cca2d5c67cf2658f987616ad0f86}{broker\_file\_reader\_total}};}
\DoxyCodeLine{00161\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a1e4762e21bc98dc0e365d55f7b8f280d}{local\_file\_writer\_total}};}
\DoxyCodeLine{00162\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a84f3b1bd968779ce7a94e2930573b0cc}{s3\_file\_writer\_total}};}
\DoxyCodeLine{00163\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aebd5dcbe14ebd792a68f6c9dafe74def}{file\_created\_total}};}
\DoxyCodeLine{00164\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a5f15f18dfa0f6eff59deb1c8c199ade4}{s3\_file\_created\_total}};}
\DoxyCodeLine{00165\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a3d792087a59c999ca693d9dfe242ffff}{local\_bytes\_read\_total}};}
\DoxyCodeLine{00166\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aec201aec94ec8b3aa9f456c24f485eb3}{s3\_bytes\_read\_total}};}
\DoxyCodeLine{00167\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ab85cf2eb5c4ff3e2a39fe31c7403af1c}{local\_bytes\_written\_total}};}
\DoxyCodeLine{00168\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aa8a1670ea7e9b855506d3c0d64c75df1}{s3\_bytes\_written\_total}};}
\DoxyCodeLine{00169\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a77f7dd5160dcb7e63b9b95b326361891}{local\_file\_open\_reading}};}
\DoxyCodeLine{00170\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a0e7a04a435fc73a452054ed80d0602d9}{s3\_file\_open\_reading}};}
\DoxyCodeLine{00171\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a510f7f48fe29a353b5338ad43711e285}{hdfs\_file\_open\_reading}};}
\DoxyCodeLine{00172\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ae31d4f248d419d05dfb53a254d757cd0}{broker\_file\_open\_reading}};}
\DoxyCodeLine{00173\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aeab88e4d5a8d00219b77a0c71f81a1c9}{local\_file\_open\_writing}};}
\DoxyCodeLine{00174\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a880919b8b3a18c3a8eac1eb3b5ed5a50}{s3\_file\_open\_writing}};}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{comment}{//\ Size\ of\ some\ global\ containers}}
\DoxyCodeLine{00177\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a222f180cd84ff8776bef29891980450b}{rowset\_count\_generated\_and\_in\_use}};}
\DoxyCodeLine{00178\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ac707b62c2dd7dfcfec0b7c2d35402bb8}{unused\_rowsets\_count}};}
\DoxyCodeLine{00179\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a7aadbd9b5cce86528d9b531394609f52}{broker\_count}};}
\DoxyCodeLine{00180\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a7472b879660f39353c24fad82e3f17e6}{data\_stream\_receiver\_count}};}
\DoxyCodeLine{00181\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a47f6eaa88804eabec8bc33a08ad6b234}{fragment\_endpoint\_count}};}
\DoxyCodeLine{00182\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a8e293c3584ccf32f820e936af0ad37de}{active\_scan\_context\_count}};}
\DoxyCodeLine{00183\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a2ec64e518b2c08ceea5e2a817ec92f38}{plan\_fragment\_count}};}
\DoxyCodeLine{00184\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aa221dca518675bfd665505c096c45936}{load\_channel\_count}};}
\DoxyCodeLine{00185\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_af489034e5b852c5b7d36f1914a0ad50c}{result\_buffer\_block\_count}};}
\DoxyCodeLine{00186\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ad290798eee1e08ddf8a31452bdbdc85e}{result\_block\_queue\_count}};}
\DoxyCodeLine{00187\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_abd6109c6a241b2cab028f630a7e1066d}{routine\_load\_task\_count}};}
\DoxyCodeLine{00188\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_afa275a1459c2a55a3576c2e93aa9d4e1}{small\_file\_cache\_count}};}
\DoxyCodeLine{00189\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aa56ee5611ba21186ab2eef6126588487}{stream\_load\_pipe\_count}};}
\DoxyCodeLine{00190\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a72553307613d5d5d3a7e1a3ce3696f00}{new\_stream\_load\_pipe\_count}};}
\DoxyCodeLine{00191\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a84828add53ebfe49a8702547bc238007}{brpc\_endpoint\_stub\_count}};}
\DoxyCodeLine{00192\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a3841d8a2276170c3ad21cdf561ec544f}{brpc\_function\_endpoint\_stub\_count}};}
\DoxyCodeLine{00193\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a6ae192a186485689102a423fbf2e379d}{tablet\_writer\_count}};}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a414cc179c769519c4e3f5da3aab3e2b2}{segcompaction\_mem\_consumption}};}
\DoxyCodeLine{00196\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a229a029227321446285222988d470ff5}{compaction\_mem\_consumption}};}
\DoxyCodeLine{00197\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a6ac3d5542412676fb02758dffd36da0a}{load\_mem\_consumption}};}
\DoxyCodeLine{00198\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a0406e827b360a41c78911a733886cfe1}{load\_channel\_mem\_consumption}};}
\DoxyCodeLine{00199\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_acdf606b12fd3ef4773cd053ec9c31d82}{query\_mem\_consumption}};}
\DoxyCodeLine{00200\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a6eadedcd4dccfc57bf66a8c9d86d02c6}{schema\_change\_mem\_consumption}};}
\DoxyCodeLine{00201\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a2cc807292b0c8606eb07b05fef831212}{storage\_migration\_mem\_consumption}};}
\DoxyCodeLine{00202\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aca23bb3076632c79e3e7bc9d0cd01c6d}{tablet\_meta\_mem\_consumption}};}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{comment}{//\ Cache\ metrics}}
\DoxyCodeLine{00205\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_af5edf9d553120dfd55ae0a42c2d5cbf4}{query\_cache\_memory\_total\_byte}};}
\DoxyCodeLine{00206\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a7533b16e2b1b2678a2bc2ed457b21927}{query\_cache\_sql\_total\_count}};}
\DoxyCodeLine{00207\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a7cf577a22e41f5f1a41c47c02f3a52c8}{query\_cache\_partition\_total\_count}};}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a3f96473efded81a9034ea01180b467f9}{tablet\_schema\_cache\_count}};}
\DoxyCodeLine{00210\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ace2848217c310b54b486dcc18b367026}{tablet\_schema\_cache\_memory\_bytes}};}
\DoxyCodeLine{00211\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{IntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a83a8d9f07034a6de2dad744a24c584c5}{lru\_cache\_memory\_bytes}};}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a248f6500e95d047686eaf775e0362b66}{scanner\_thread\_pool\_queue\_size}};}
\DoxyCodeLine{00214\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ab86a0ecb962e068b5eb41db4c5df5033}{add\_batch\_task\_queue\_size}};}
\DoxyCodeLine{00215\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aa0bb4b5161a19c8528cb658ea9964ab4}{send\_batch\_thread\_pool\_thread\_num}};}
\DoxyCodeLine{00216\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_acc1df2ef3c0f76a3cfc89807175b171d}{send\_batch\_thread\_pool\_queue\_size}};}
\DoxyCodeLine{00217\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a66c78eff6823e551ad5fe8aa9f690df6}{download\_cache\_thread\_pool\_thread\_num}};}
\DoxyCodeLine{00218\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a3ea76fb12f7648edd770aaf5b238df24}{download\_cache\_thread\_pool\_queue\_size}};}
\DoxyCodeLine{00219\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a10de2c72c3e6f8622908655ef0b3a0ff}{fragment\_thread\_pool\_queue\_size}};}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{comment}{//\ Upload\ metrics}}
\DoxyCodeLine{00222\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a7ed7e91d1632f7c896aa2c7fe18eb112}{upload\_total\_byte}};}
\DoxyCodeLine{00223\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a7de8198300a20f6f67d6f8e6c0d45f02}{upload\_rowset\_count}};}
\DoxyCodeLine{00224\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_core_local_counter}{IntCounter}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ab6b04cedb445cb77703d4d23cd762d2d}{upload\_fail\_count}};}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a6635973dbb70417489d5dad10bfd3af1}{light\_work\_pool\_queue\_size}};}
\DoxyCodeLine{00227\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a2e0c79ff007f42f27240b93bafd47152}{heavy\_work\_pool\_queue\_size}};}
\DoxyCodeLine{00228\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ab67e822760ac09e3b5c8ee495f025b5a}{heavy\_work\_active\_threads}};}
\DoxyCodeLine{00229\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a88263033cef096a86d6d7d0aaa6f2f57}{light\_work\_active\_threads}};}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00231\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aeb78345cb3aa0cdd5c122aa3e078785c}{heavy\_work\_pool\_max\_queue\_size}};}
\DoxyCodeLine{00232\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a45b0ec2b82d946feac03c4c9e8fdbc94}{light\_work\_pool\_max\_queue\_size}};}
\DoxyCodeLine{00233\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ac6898ed2ac1cac08e6a7d4fc160db66b}{heavy\_work\_max\_threads}};}
\DoxyCodeLine{00234\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_atomic_gauge}{UIntGauge}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a6edbc934ce04c70727b169d2d9cdd9ac}{light\_work\_max\_threads}};}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classdoris_1_1_doris_metrics}{DorisMetrics}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a4d0ce88513091aec833045b4eddeee8b}{instance}}()\ \{}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classdoris_1_1_doris_metrics}{DorisMetrics}}\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a4d0ce88513091aec833045b4eddeee8b}{instance}};}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{classdoris_1_1_doris_metrics_a4d0ce88513091aec833045b4eddeee8b}{instance}};}
\DoxyCodeLine{00239\ \ \ \ \ \}}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \ \ \ \ \textcolor{comment}{//\ not\ thread-\/safe,\ call\ before\ calling\ metrics}}
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ad5adb9350966c3d0f36ad9bee903d4ec}{initialize}}(}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ init\_system\_metrics\ =\ \textcolor{keyword}{false},}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::set<std::string>\&\ disk\_devices\ =\ std::set<std::string>(),}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<std::string>\&\ network\_interfaces\ =\ std::vector<std::string>());}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_metric_registry}{MetricRegistry}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ac35419b87a3fe0126cb635fb8fe889ae}{metric\_registry}}()\ \{\ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{classdoris_1_1_doris_metrics_ad928b08d50e9a80e37ad70591321c876}{\_metric\_registry}};\ \}}
\DoxyCodeLine{00248\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_system_metrics}{SystemMetrics}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aadf2386b08530c66d2cbf6c4e1125a18}{system\_metrics}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a49228ff8b162b8341f5cae5434431496}{\_system\_metrics}}.get();\ \}}
\DoxyCodeLine{00249\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_metric_entity}{MetricEntity}}*\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aabf801aea4322925112523f0d3b538f9}{server\_entity}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a4938515ca5ee30f2f431bc66f98fdfee}{\_server\_metric\_entity}}.get();\ \}}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00252\ \ \ \ \ \textcolor{comment}{//\ Don't\ allow\ constructor}}
\DoxyCodeLine{00253\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a38d78b2b217fcf77632cc273d1884242}{DorisMetrics}}();}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a96113bade59366fb630f9941533fd6d0}{\_update}}();}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ad1b2d9b34b3d27ffde903e0b22b6b74d}{\_update\_process\_thread\_num}}();}
\DoxyCodeLine{00257\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a952b7345bfe8e94ccdeb1ad85109bb72}{\_update\_process\_fd\_num}}();}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00259\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ std::string\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ad02547721d7e386091711c42a07c0cb0}{\_s\_registry\_name}};}
\DoxyCodeLine{00261\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ std::string\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_aad29892d3a75c7549d9ff826d304f097}{\_s\_hook\_name}};}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00263\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_metric_registry}{MetricRegistry}}\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_ad928b08d50e9a80e37ad70591321c876}{\_metric\_registry}};}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \ \ \ std::unique\_ptr<SystemMetrics>\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a49228ff8b162b8341f5cae5434431496}{\_system\_metrics}};}
\DoxyCodeLine{00266\ }
\DoxyCodeLine{00267\ \ \ \ \ std::shared\_ptr<MetricEntity>\ \mbox{\hyperlink{classdoris_1_1_doris_metrics_a4938515ca5ee30f2f431bc66f98fdfee}{\_server\_metric\_entity}};}
\DoxyCodeLine{00268\ \};}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \};\ \textcolor{comment}{//\ namespace\ doris}}

\end{DoxyCode}
