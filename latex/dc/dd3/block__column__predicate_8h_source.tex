\hypertarget{block__column__predicate_8h_source}{}\doxysection{block\+\_\+column\+\_\+predicate.\+h}
\label{block__column__predicate_8h_source}\index{/Users/dabowang/be\_all/olap/block\_column\_predicate.h@{/Users/dabowang/be\_all/olap/block\_column\_predicate.h}}
\mbox{\hyperlink{block__column__predicate_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{column__predicate_8h}{olap/column\_predicate.h}}"{}}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris}{doris}}\ \{}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{keyword}{namespace\ }segment\_v2\ \{}
\DoxyCodeLine{00027\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1segment__v2_1_1_bloom_filter}{BloomFilter}};}
\DoxyCodeLine{00028\ \}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{comment}{//\ Block\ Column\ Predicate\ support\ do\ column\ predicate\ and\ support\ OR\ and\ AND\ predicate}}
\DoxyCodeLine{00031\ \textcolor{comment}{//\ Block\ Column\ Predicate\ will\ replace\ column\ predicate\ as\ a\ unified\ external\ vectorized\ interface}}
\DoxyCodeLine{00032\ \textcolor{comment}{//\ in\ the\ future}}
\DoxyCodeLine{00033\ \textcolor{comment}{//\ TODO:\ support\ do\ predicate\ on\ Bitmap\ and\ ZoneMap,\ So\ we\ can\ use\ index\ of\ column\ to\ do\ predicate\ on}}
\DoxyCodeLine{00034\ \textcolor{comment}{//\ page\ and\ segment}}
\DoxyCodeLine{00035\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_block_column_predicate}{BlockColumnPredicate}}\ \{}
\DoxyCodeLine{00036\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_block_column_predicate_a7c938ff37249e0387e913ed826c02c2c}{BlockColumnPredicate}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdoris_1_1_block_column_predicate_abe777c18f90d8e6fc8f6c12e16509dad}{\string~BlockColumnPredicate}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_block_column_predicate_a7225b6d99fdb1a614c079d3459f5dbc6}{get\_all\_column\_ids}}(std::set<ColumnId>\&\ column\_id\_set)\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_block_column_predicate_a6a09eb0d50136f9597095c5fcc5ab531}{get\_all\_column\_predicate}}(}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ std::set<const\ ColumnPredicate*>\&\ predicate\_set)\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keyword}{virtual}\ uint16\_t\ \mbox{\hyperlink{classdoris_1_1_block_column_predicate_acf2b9e0d01c96adf7c43508f6121b7e9}{evaluate}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t*\ sel,}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ selected\_size)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ selected\_size;}
\DoxyCodeLine{00048\ \ \ \ \ \}}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_block_column_predicate_a57ce6ac64dd8628e3f5165a55b11d4f9}{evaluate\_and}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t*\ sel,}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ selected\_size,\ \textcolor{keywordtype}{bool}*\ flags)\textcolor{keyword}{\ const\ }\{\}}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_block_column_predicate_a8413efd7b9b8620faf50831ef023aba6}{evaluate\_or}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t*\ sel,}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ selected\_size,\ \textcolor{keywordtype}{bool}*\ flags)\textcolor{keyword}{\ const\ }\{\}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_block_column_predicate_a3a6b80830d28e13b761e11f26093b4b0}{evaluate\_vec}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t\ size,\ \textcolor{keywordtype}{bool}*\ flags)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00055\ \ \ \ \ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_block_column_predicate_a33d4f793b5437714274a71f13946d9cd}{evaluate\_and}}(\textcolor{keyword}{const}\ std::pair<WrapperField*,\ WrapperField*>\&\ statistic)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ LOG(FATAL)\ <<\ \textcolor{stringliteral}{"{}should\ not\ reach\ here"{}};}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00060\ \ \ \ \ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_block_column_predicate_a34a4b1442944a34650a5b4245a8613ea}{evaluate\_and}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1segment__v2_1_1_bloom_filter}{segment\_v2::BloomFilter}}*\ bf)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ LOG(FATAL)\ <<\ \textcolor{stringliteral}{"{}should\ not\ reach\ here"{}};}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00065\ \ \ \ \ \}}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_block_column_predicate_a0879ef79a424602db166c04d4cdb06a1}{can\_do\_bloom\_filter}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00067\ \};}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_single_column_block_predicate}{SingleColumnBlockPredicate}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdoris_1_1_block_column_predicate}{BlockColumnPredicate}}\ \{}
\DoxyCodeLine{00070\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_adfcd89d528297d69bbeffbedc31cad0c}{SingleColumnBlockPredicate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_column_predicate}{ColumnPredicate}}*\ pre)\ :\ \mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_a4f0ec5f737c98a96eaf29cff6216a0e0}{\_predicate}}(pre)\ \{\}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_a4677340f6aa1b1c04ec38bd2b8df4f7a}{get\_all\_column\_ids}}(std::set<ColumnId>\&\ column\_id\_set)\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ column\_id\_set.insert(\mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_a4f0ec5f737c98a96eaf29cff6216a0e0}{\_predicate}}-\/>\mbox{\hyperlink{classdoris_1_1_column_predicate_a1dc741e0ee4ae02d671b288213c01fc3}{column\_id}}());}
\DoxyCodeLine{00075\ \ \ \ \ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_a23aa75f9e795195ebf8a09ba490ad4c3}{get\_all\_column\_predicate}}(std::set<const\ ColumnPredicate*>\&\ predicate\_set)\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ predicate\_set.insert(\mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_a4f0ec5f737c98a96eaf29cff6216a0e0}{\_predicate}});}
\DoxyCodeLine{00079\ \ \ \ \ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ uint16\_t\ \mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_aa5116dae0fe56d23ada26f1d6b7bdae1}{evaluate}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t*\ sel,}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ selected\_size)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_a01efa250768b0ec37e9709a49654a60d}{evaluate\_and}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t*\ sel,\ uint16\_t\ selected\_size,}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}*\ flags)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_a01efa250768b0ec37e9709a49654a60d}{evaluate\_and}}(\textcolor{keyword}{const}\ std::pair<WrapperField*,\ WrapperField*>\&\ statistic)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_a01efa250768b0ec37e9709a49654a60d}{evaluate\_and}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1segment__v2_1_1_bloom_filter}{segment\_v2::BloomFilter}}*\ bf)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_a01df8d412e121ef695e49f6b4bc29ff0}{evaluate\_or}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t*\ sel,\ uint16\_t\ selected\_size,}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}*\ flags)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_a22bcfaa53dd660a4d7773e055775cbb8}{evaluate\_vec}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t\ size,\ \textcolor{keywordtype}{bool}*\ flags)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_a36554c6b452251bb0ae9417226ba0c67}{can\_do\_bloom\_filter}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_a4f0ec5f737c98a96eaf29cff6216a0e0}{\_predicate}}-\/>\mbox{\hyperlink{classdoris_1_1_column_predicate_a0879ef79a424602db166c04d4cdb06a1}{can\_do\_bloom\_filter}}();\ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_column_predicate}{ColumnPredicate}}*\ \mbox{\hyperlink{classdoris_1_1_single_column_block_predicate_a4f0ec5f737c98a96eaf29cff6216a0e0}{\_predicate}};}
\DoxyCodeLine{00096\ \};}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate}{MutilColumnBlockPredicate}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdoris_1_1_block_column_predicate}{BlockColumnPredicate}}\ \{}
\DoxyCodeLine{00099\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00100\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate_a2e33654e61184b9c524db1d72f01b8b1}{MutilColumnBlockPredicate}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate_ac46ea06a530e8c702177d52a5af3498a}{\string~MutilColumnBlockPredicate}}()\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ ptr\ :\ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate_adeadffcf08ea5b92a653399924dbb60f}{\_block\_column\_predicate\_vec}})\ \{}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ ptr;}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00106\ \ \ \ \ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate_a968d2745b342e7c8dbf41e7d0ddfecad}{add\_column\_predicate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_block_column_predicate}{BlockColumnPredicate}}*\ column\_predicate)\ \{}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate_adeadffcf08ea5b92a653399924dbb60f}{\_block\_column\_predicate\_vec}}.push\_back(column\_predicate);}
\DoxyCodeLine{00110\ \ \ \ \ \}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate_ae08a9a652a585eb3e2a792c6e9128bae}{num\_of\_column\_predicate}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate_adeadffcf08ea5b92a653399924dbb60f}{\_block\_column\_predicate\_vec}}.size();\ \}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate_a4677340f6aa1b1c04ec38bd2b8df4f7a}{get\_all\_column\_ids}}(std::set<ColumnId>\&\ column\_id\_set)\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ child\_block\_predicate\ :\ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate_adeadffcf08ea5b92a653399924dbb60f}{\_block\_column\_predicate\_vec}})\ \{}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ child\_block\_predicate-\/>get\_all\_column\_ids(column\_id\_set);}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00118\ \ \ \ \ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate_a23aa75f9e795195ebf8a09ba490ad4c3}{get\_all\_column\_predicate}}(std::set<const\ ColumnPredicate*>\&\ predicate\_set)\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ child\_block\_predicate\ :\ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate_adeadffcf08ea5b92a653399924dbb60f}{\_block\_column\_predicate\_vec}})\ \{}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ child\_block\_predicate-\/>get\_all\_column\_predicate(predicate\_set);}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00124\ \ \ \ \ \}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00127\ \ \ \ \ std::vector<const\ BlockColumnPredicate*>\ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate_adeadffcf08ea5b92a653399924dbb60f}{\_block\_column\_predicate\_vec}};}
\DoxyCodeLine{00128\ \};}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_or_block_column_predicate}{OrBlockColumnPredicate}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate}{MutilColumnBlockPredicate}}\ \{}
\DoxyCodeLine{00131\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00132\ \ \ \ \ uint16\_t\ \mbox{\hyperlink{classdoris_1_1_or_block_column_predicate_aa5116dae0fe56d23ada26f1d6b7bdae1}{evaluate}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t*\ sel,}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ selected\_size)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_or_block_column_predicate_a01efa250768b0ec37e9709a49654a60d}{evaluate\_and}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t*\ sel,\ uint16\_t\ selected\_size,}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}*\ flags)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_or_block_column_predicate_a01df8d412e121ef695e49f6b4bc29ff0}{evaluate\_or}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t*\ sel,\ uint16\_t\ selected\_size,}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}*\ flags)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{comment}{//\ note(wb)\ we\ didnt't\ implement\ evaluate\_vec\ method\ here,\ because\ storage\ layer\ only\ support\ AND\ predicate\ now;}}
\DoxyCodeLine{00140\ \};}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_and_block_column_predicate}{AndBlockColumnPredicate}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate}{MutilColumnBlockPredicate}}\ \{}
\DoxyCodeLine{00143\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00144\ \ \ \ \ uint16\_t\ \mbox{\hyperlink{classdoris_1_1_and_block_column_predicate_aa5116dae0fe56d23ada26f1d6b7bdae1}{evaluate}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t*\ sel,}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ selected\_size)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_and_block_column_predicate_a01efa250768b0ec37e9709a49654a60d}{evaluate\_and}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t*\ sel,\ uint16\_t\ selected\_size,}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}*\ flags)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_and_block_column_predicate_a01df8d412e121ef695e49f6b4bc29ff0}{evaluate\_or}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t*\ sel,\ uint16\_t\ selected\_size,}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}*\ flags)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_and_block_column_predicate_a22bcfaa53dd660a4d7773e055775cbb8}{evaluate\_vec}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{vectorized::MutableColumns}}\&\ block,\ uint16\_t\ size,\ \textcolor{keywordtype}{bool}*\ flags)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_and_block_column_predicate_a01efa250768b0ec37e9709a49654a60d}{evaluate\_and}}(\textcolor{keyword}{const}\ std::pair<WrapperField*,\ WrapperField*>\&\ statistic)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_and_block_column_predicate_a01efa250768b0ec37e9709a49654a60d}{evaluate\_and}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1segment__v2_1_1_bloom_filter}{segment\_v2::BloomFilter}}*\ bf)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_and_block_column_predicate_a36554c6b452251bb0ae9417226ba0c67}{can\_do\_bloom\_filter}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ pred\ :\ \mbox{\hyperlink{classdoris_1_1_mutil_column_block_predicate_adeadffcf08ea5b92a653399924dbb60f}{\_block\_column\_predicate\_vec}})\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!pred-\/>can\_do\_bloom\_filter())\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00164\ \ \ \ \ \}}
\DoxyCodeLine{00165\ \};}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \}\ \textcolor{comment}{//namespace\ doris}}

\end{DoxyCode}
