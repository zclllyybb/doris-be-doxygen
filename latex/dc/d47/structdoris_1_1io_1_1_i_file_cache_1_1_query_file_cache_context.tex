\hypertarget{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context}{}\doxysection{IFile\+Cache\+::Query\+File\+Cache\+Context结构体 参考}
\label{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context}\index{IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}}


{\ttfamily \#include $<$block\+\_\+file\+\_\+cache.\+h$>$}



IFile\+Cache\+::Query\+File\+Cache\+Context 的协作图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{dd/d55/structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a3d2b2f803f42e70ffc964e04a1395012}{Query\+File\+Cache\+Context}} (size\+\_\+t \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a8b8ed8fbcca4a0698f3249fc5939cca8}{max\+\_\+cache\+\_\+size}})
\item 
void \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a1243ac0a6e6dce2773122a26f29998cc}{remove}} (const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&key, size\+\_\+t offset, bool is\+\_\+presistent, size\+\_\+t size, std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&cache\+\_\+lock)
\item 
void \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a721be532c619dcf309ce656a341167fb}{reserve}} (const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&key, size\+\_\+t offset, bool is\+\_\+presistent, size\+\_\+t size, std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&cache\+\_\+lock)
\item 
size\+\_\+t \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_acacef86c67dd590159e4836a26326c5d}{get\+\_\+max\+\_\+cache\+\_\+size}} () const
\item 
size\+\_\+t \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a67530f5e4ba9524fb096ebecb2977c8f}{get\+\_\+cache\+\_\+size}} (std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&cache\+\_\+lock) const
\item 
\mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_1_1_l_r_u_queue}{LRUQueue}} \& \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_ae68b6097d51937196176f332f45cdef3}{queue}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public 属性}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_1_1_l_r_u_queue}{LRUQueue}} \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a9ff6ea11df30a5215ddccf65fcabebce}{lru\+\_\+queue}}
\item 
\mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_adccb0504103447215380ee17166db1f7}{Access\+Record}} \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a140f4d8861b237c0c0c28713e5af3c7c}{records}}
\item 
size\+\_\+t \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a8b8ed8fbcca4a0698f3249fc5939cca8}{max\+\_\+cache\+\_\+size}} = 0
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
Used to track and control the cache access of each query. Through it, we can realize the processing of different queries by the cache layer. 

\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a3d2b2f803f42e70ffc964e04a1395012}\label{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a3d2b2f803f42e70ffc964e04a1395012}} 
\index{IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}!QueryFileCacheContext@{QueryFileCacheContext}}
\index{QueryFileCacheContext@{QueryFileCacheContext}!IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}}
\doxysubsubsection{\texorpdfstring{QueryFileCacheContext()}{QueryFileCacheContext()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context}{Query\+File\+Cache\+Context}} (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{max\+\_\+cache\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{成员函数说明}
\mbox{\Hypertarget{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a1243ac0a6e6dce2773122a26f29998cc}\label{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a1243ac0a6e6dce2773122a26f29998cc}} 
\index{IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}!remove@{remove}}
\index{remove@{remove}!IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}}
\doxysubsubsection{\texorpdfstring{remove()}{remove()}}
{\footnotesize\ttfamily void remove (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&}]{key,  }\item[{size\+\_\+t}]{offset,  }\item[{bool}]{is\+\_\+presistent,  }\item[{size\+\_\+t}]{size,  }\item[{std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&}]{cache\+\_\+lock }\end{DoxyParamCaption})}

\mbox{\Hypertarget{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a721be532c619dcf309ce656a341167fb}\label{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a721be532c619dcf309ce656a341167fb}} 
\index{IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}!reserve@{reserve}}
\index{reserve@{reserve}!IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}}
\doxysubsubsection{\texorpdfstring{reserve()}{reserve()}}
{\footnotesize\ttfamily void reserve (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&}]{key,  }\item[{size\+\_\+t}]{offset,  }\item[{bool}]{is\+\_\+presistent,  }\item[{size\+\_\+t}]{size,  }\item[{std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&}]{cache\+\_\+lock }\end{DoxyParamCaption})}

\mbox{\Hypertarget{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_acacef86c67dd590159e4836a26326c5d}\label{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_acacef86c67dd590159e4836a26326c5d}} 
\index{IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}!get\_max\_cache\_size@{get\_max\_cache\_size}}
\index{get\_max\_cache\_size@{get\_max\_cache\_size}!IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}}
\doxysubsubsection{\texorpdfstring{get\_max\_cache\_size()}{get\_max\_cache\_size()}}
{\footnotesize\ttfamily size\+\_\+t get\+\_\+max\+\_\+cache\+\_\+size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a67530f5e4ba9524fb096ebecb2977c8f}\label{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a67530f5e4ba9524fb096ebecb2977c8f}} 
\index{IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}!get\_cache\_size@{get\_cache\_size}}
\index{get\_cache\_size@{get\_cache\_size}!IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}}
\doxysubsubsection{\texorpdfstring{get\_cache\_size()}{get\_cache\_size()}}
{\footnotesize\ttfamily size\+\_\+t get\+\_\+cache\+\_\+size (\begin{DoxyParamCaption}\item[{std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&}]{cache\+\_\+lock }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=316pt]{dc/d47/structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a67530f5e4ba9524fb096ebecb2977c8f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_ae68b6097d51937196176f332f45cdef3}\label{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_ae68b6097d51937196176f332f45cdef3}} 
\index{IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}!queue@{queue}}
\index{queue@{queue}!IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}}
\doxysubsubsection{\texorpdfstring{queue()}{queue()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_1_1_l_r_u_queue}{LRUQueue}} \& queue (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a9ff6ea11df30a5215ddccf65fcabebce}\label{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a9ff6ea11df30a5215ddccf65fcabebce}} 
\index{IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}!lru\_queue@{lru\_queue}}
\index{lru\_queue@{lru\_queue}!IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}}
\doxysubsubsection{\texorpdfstring{lru\_queue}{lru\_queue}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_1_1_l_r_u_queue}{LRUQueue}} lru\+\_\+queue}

\mbox{\Hypertarget{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a140f4d8861b237c0c0c28713e5af3c7c}\label{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a140f4d8861b237c0c0c28713e5af3c7c}} 
\index{IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}!records@{records}}
\index{records@{records}!IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}}
\doxysubsubsection{\texorpdfstring{records}{records}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_adccb0504103447215380ee17166db1f7}{Access\+Record}} records}

\mbox{\Hypertarget{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a8b8ed8fbcca4a0698f3249fc5939cca8}\label{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_a8b8ed8fbcca4a0698f3249fc5939cca8}} 
\index{IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}!max\_cache\_size@{max\_cache\_size}}
\index{max\_cache\_size@{max\_cache\_size}!IFileCache::QueryFileCacheContext@{IFileCache::QueryFileCacheContext}}
\doxysubsubsection{\texorpdfstring{max\_cache\_size}{max\_cache\_size}}
{\footnotesize\ttfamily size\+\_\+t max\+\_\+cache\+\_\+size = 0}



该结构体的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/be\+\_\+all/io/cache/block/\mbox{\hyperlink{block__file__cache_8h}{block\+\_\+file\+\_\+cache.\+h}}\item 
/\+Users/dabowang/be\+\_\+all/io/cache/block/\mbox{\hyperlink{block__file__cache_8cpp}{block\+\_\+file\+\_\+cache.\+cpp}}\end{DoxyCompactItemize}
