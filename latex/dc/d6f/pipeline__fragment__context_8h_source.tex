\hypertarget{pipeline__fragment__context_8h_source}{}\doxysection{pipeline\+\_\+fragment\+\_\+context.\+h}
\label{pipeline__fragment__context_8h_source}\index{/Users/dabowang/be\_all/pipeline/pipeline\_fragment\_context.h@{/Users/dabowang/be\_all/pipeline/pipeline\_fragment\_context.h}}
\mbox{\hyperlink{pipeline__fragment__context_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{io_2fs_2stream__load__pipe_8h}{io/fs/stream\_load\_pipe.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pipeline_8h}{pipeline/pipeline.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pipeline__task_8h}{pipeline/pipeline\_task.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{runtime__state_8h}{runtime/runtime\_state.h}}"{}}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris}{doris}}\ \{}
\DoxyCodeLine{00026\ \textcolor{keyword}{class\ }ExecNode;}
\DoxyCodeLine{00027\ \textcolor{keyword}{class\ }DataSink;}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{keyword}{namespace\ }vectorized\ \{}
\DoxyCodeLine{00030\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ is\_\textcolor{keywordtype}{int}ersect>}
\DoxyCodeLine{00031\ \textcolor{keyword}{class\ }VSetOperationNode;}
\DoxyCodeLine{00032\ \}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{namespace\ }pipeline\ \{}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{class\ }PipelineTask;}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context}{PipelineFragmentContext}}\ :\ \textcolor{keyword}{public}\ std::enable\_shared\_from\_this<PipelineFragmentContext>\ \{}
\DoxyCodeLine{00039\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context}{PipelineFragmentContext}}(\textcolor{keyword}{const}\ TUniqueId\&\ query\_id,\ \textcolor{keyword}{const}\ TUniqueId\&\ instance\_id,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ backend\_num,\ std::shared\_ptr<QueryFragmentsCtx>\ query\_ctx,}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_exec_env}{ExecEnv}}*\ exec\_env,}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::function<\textcolor{keywordtype}{void}(\mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*,\ \mbox{\hyperlink{classdoris_1_1_status}{Status}}*)>\ call\_back);}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_adf924159dc3fe9d5211deb8007d9405a}{\string~PipelineFragmentContext}}();}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1pipeline_a498463505b8f460b544619427ac78aab}{PipelinePtr}}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_ae605319290f8801e07e0f27bcc16eb23}{add\_pipeline}}();}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ TUniqueId\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a17123f8382612de239d56f13574626dc}{get\_fragment\_id}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a78a6f9d7ceea6b4580a3e14b2e98b10d}{\_fragment\_id}};\ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a8ff97432def92da4e40ec39fe874d7f2}{get\_runtime\_state}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a46170bcb9a55ad401f8f75781afc1544}{\_runtime\_state}}.get();\ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{comment}{//\ should\ be\ protected\ by\ lock?}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_aaaf2606f70dfd8c73ac687d73366c0f0}{is\_canceled}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a46170bcb9a55ad401f8f75781afc1544}{\_runtime\_state}}-\/>is\_cancelled();\ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a339ca013cabf6c6629888158c597a41c}{next\_operator\_builder\_id}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a7b59f66dfef274e753343e7f5dd4d694}{\_next\_operator\_builder\_id}}++;\ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a937b93054aec142f72416481e641c0cb}{prepare}}(\textcolor{keyword}{const}\ doris::TExecPlanFragmentParams\&\ request);}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_ac4a97b2560eb66274a1fe91558af10e4}{submit}}();}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a7b1bd3ef3f2ad70629f0bbd1ddb404f2}{close\_if\_prepare\_failed}}();}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a84f7c414eb44322e3ea8756da70d3ad0}{set\_is\_report\_success}}(\textcolor{keywordtype}{bool}\ is\_report\_success)\ \{\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a70cede923313c14029f44d1a83a003b1}{\_is\_report\_success}}\ =\ is\_report\_success;\ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_exec_node}{ExecNode}}*\&\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_afb6a3e521cbed70e23c6fb302c08267d}{plan}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a02558cadae064c92e2329d23f3700eb5}{\_root\_plan}};\ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a2adecd1cba710d804a74fb2ec9f36c93}{set\_need\_wait\_execution\_trigger}}()\ \{\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_aff4898baee83ad5e4ef205a8c4dc58aa}{\_need\_wait\_execution\_trigger}}\ =\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a841e14442a392f25bb8f4f77ba832999}{cancel}}(\textcolor{keyword}{const}\ PPlanFragmentCancelReason\&\ reason\ =\ PPlanFragmentCancelReason::INTERNAL\_ERROR,}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\&\ msg\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{comment}{//\ TODO:\ Support\ pipeline\ runtime\ filter}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_query_fragments_ctx}{QueryFragmentsCtx}}*\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_abcb487eb1ca583589237fe35c82be70f}{get\_query\_context}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_adab86ff63642348d2d96980bf95deb81}{\_query\_ctx}}.get();\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ TUniqueId\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a337653ddeb3626bc9d3ca47adf5c88e9}{get\_query\_id}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_ac2bc236893fc726dd0f12dcd7cafab3c}{\_query\_id}};\ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a359b2ea23c0b59ccc470e31af687734a}{close\_a\_pipeline}}();}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_abaff7e2f002c112a2dbae3a87c3e4f8e}{to\_http\_path}}(\textcolor{keyword}{const}\ std::string\&\ file\_name);}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a6cffa8c855f593f2e381cd2a1ab82861}{set\_merge\_controller\_handler}}(}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ std::shared\_ptr<RuntimeFilterMergeControllerEntity>\&\ handler)\ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_ac5b9fa3b07ea1549befc41c907abdb9e}{\_merge\_controller\_handler}}\ =\ handler;}
\DoxyCodeLine{00086\ \ \ \ \ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_aa281e7b97b54f3a89dbe0b01bad4a1ec}{send\_report}}(\textcolor{keywordtype}{bool});}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a60d5616f068016611b1eb032bf8500c3}{set\_pipe}}(std::shared\_ptr<io::StreamLoadPipe>\ pipe)\ \{\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a7c703eb72ad1138d3c974b02857f5747}{\_pipe}}\ =\ pipe;\ \}}
\DoxyCodeLine{00091\ \ \ \ \ std::shared\_ptr<io::StreamLoadPipe>\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a90eceea3409a274f87c230ac3d095d95}{get\_pipe}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a7c703eb72ad1138d3c974b02857f5747}{\_pipe}};\ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{//\ Id\ of\ this\ query}}
\DoxyCodeLine{00095\ \ \ \ \ TUniqueId\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_ac2bc236893fc726dd0f12dcd7cafab3c}{\_query\_id}};}
\DoxyCodeLine{00096\ \ \ \ \ TUniqueId\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a78a6f9d7ceea6b4580a3e14b2e98b10d}{\_fragment\_id}};}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_afd227f9b531b8a2030f63754001b9cca}{\_backend\_num}};}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_exec_env}{ExecEnv}}*\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a1597f639b99219fa0b93e8ca8c9e5f3a}{\_exec\_env}};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a172dfd8fdb71d5342bea7ab847110cdb}{\_prepared}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a294e7b4f6dd0bded0e1ff7df62a88582}{\_submitted}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ std::mutex\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_aa9c9b5347d15af23481a7f2583b5b69b}{\_status\_lock}};}
\DoxyCodeLine{00106\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_aad5471eb5c31c55ac0309589e1e8f4fd}{\_exec\_status}};}
\DoxyCodeLine{00107\ \ \ \ \ PPlanFragmentCancelReason\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_aa508f3cd3a6cd1287a6ad6920c8f5ba1}{\_cancel\_reason}};}
\DoxyCodeLine{00108\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a93c1a2e56335774be22ff19c5efac081}{\_cancel\_msg}};}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1pipeline_ac3d951bbf025d831077bd567d8b4bf87}{Pipelines}}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a6f78bc02dc9c7aeec321c523b4f813ba}{\_pipelines}};}
\DoxyCodeLine{00111\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1pipeline_aaec249c4ccb957ad0d7f4665029044f9}{PipelineId}}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_ae429da24bd9b932e513a8879bf65d07c}{\_next\_pipeline\_id}}\ =\ 0;}
\DoxyCodeLine{00112\ \ \ \ \ std::atomic\_int\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_ae7e53cbc68227bf1b1150c43d62d143a}{\_closed\_tasks}}\ =\ 0;}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{comment}{//\ After\ prepared,\ `\_total\_tasks`\ is\ equal\ to\ the\ size\ of\ `\_tasks`.}}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{comment}{//\ When\ submit\ fail,\ `\_total\_tasks`\ is\ equal\ to\ the\ number\ of\ tasks\ submitted.}}
\DoxyCodeLine{00115\ \ \ \ \ std::atomic\_int\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_ab7ab4f5716077a94c18b05db10739c74}{\_total\_tasks}}\ =\ 0;}
\DoxyCodeLine{00116\ \ \ \ \ std::vector<std::unique\_ptr<PipelineTask>>\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a963e70282de6f6e7db3ba49ceed1f81f}{\_tasks}};}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a7b59f66dfef274e753343e7f5dd4d694}{\_next\_operator\_builder\_id}}\ =\ 10000;}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1pipeline_a498463505b8f460b544619427ac78aab}{PipelinePtr}}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a1fa6014b3786c7648e173e6a7a343bb3}{\_root\_pipeline}};}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ std::unique\_ptr<RuntimeProfile>\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a3de8e991ff5f2cc0fe039a43d0d12330}{\_runtime\_profile}};}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a70cede923313c14029f44d1a83a003b1}{\_is\_report\_success}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \ \ std::unique\_ptr<RuntimeState>\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a46170bcb9a55ad401f8f75781afc1544}{\_runtime\_state}};}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_exec_node}{ExecNode}}*\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a02558cadae064c92e2329d23f3700eb5}{\_root\_plan}}\ =\ \textcolor{keyword}{nullptr};\ \textcolor{comment}{//\ lives\ in\ \_runtime\_state-\/>obj\_pool()}}
\DoxyCodeLine{00128\ \ \ \ \ std::unique\_ptr<DataSink>\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_acb8d89b2fd8cdccdaa8872d1554593a3}{\_sink}};}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ std::shared\_ptr<QueryFragmentsCtx>\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_adab86ff63642348d2d96980bf95deb81}{\_query\_ctx}};}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{comment}{//\ If\ set\ the\ true,\ this\ plan\ fragment\ will\ be\ executed\ only\ after\ FE\ send\ execution\ start\ rpc.}}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_aff4898baee83ad5e4ef205a8c4dc58aa}{\_need\_wait\_execution\_trigger}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00134\ \ \ \ \ std::shared\_ptr<RuntimeFilterMergeControllerEntity>\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_ac5b9fa3b07ea1549befc41c907abdb9e}{\_merge\_controller\_handler}};}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_custom_stop_watch}{MonotonicStopWatch}}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a3580fbee62fe50316fb583da3d6935a4}{\_fragment\_watcher}};}
\DoxyCodeLine{00137\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a3c8ab1a52d7d7f164c3a38b350846870}{\_start\_timer}};}
\DoxyCodeLine{00138\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a48b07b657e2fe267da15e3d75c179af3}{\_prepare\_timer}};}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \ \ std::shared\_ptr<io::StreamLoadPipe>\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a7c703eb72ad1138d3c974b02857f5747}{\_pipe}};}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_aedeeb101fdc095a192d7ca3f94b7fd10}{\_create\_sink}}(\textcolor{keyword}{const}\ TDataSink\&\ t\_data\_sink);}
\DoxyCodeLine{00143\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_ae26df05798dc4ba4bfc8fd2c472ad3f5}{\_build\_pipelines}}(\mbox{\hyperlink{classdoris_1_1_exec_node}{ExecNode}}*,\ \mbox{\hyperlink{namespacedoris_1_1pipeline_a498463505b8f460b544619427ac78aab}{PipelinePtr}});}
\DoxyCodeLine{00144\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a7776bba9fa0e6d02eef499d694c64e8b}{\_build\_pipeline\_tasks}}(\textcolor{keyword}{const}\ doris::TExecPlanFragmentParams\&\ request);}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ is\_\textcolor{keywordtype}{int}ersect>}
\DoxyCodeLine{00147\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_ac8cb153f9184ab2a3cd8670cb7db3cdb}{\_build\_operators\_for\_set\_operation\_node}}(\mbox{\hyperlink{classdoris_1_1_exec_node}{ExecNode}}*,\ \mbox{\hyperlink{namespacedoris_1_1pipeline_a498463505b8f460b544619427ac78aab}{PipelinePtr}});}
\DoxyCodeLine{00148\ \ \ \ \ std::function<void(\mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*,\ \mbox{\hyperlink{classdoris_1_1_status}{Status}}*)>\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a6dcfa02fbe862a6ba7619c80b729022b}{\_call\_back}};}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a4e1ff7d46110f328533c9463615eec02}{\_close\_action}}();}
\DoxyCodeLine{00150\ \ \ \ \ std::once\_flag\ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_fragment_context_a6dba36d8cbcb08f560109cdd9623445e}{\_close\_once\_flag}};}
\DoxyCodeLine{00151\ \};}
\DoxyCodeLine{00152\ \}\ \textcolor{comment}{//\ namespace\ pipeline}}
\DoxyCodeLine{00153\ \}\ \textcolor{comment}{//\ namespace\ doris}}

\end{DoxyCode}
