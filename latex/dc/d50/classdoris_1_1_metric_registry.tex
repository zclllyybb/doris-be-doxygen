\hypertarget{classdoris_1_1_metric_registry}{}\doxysection{Metric\+Registry类 参考}
\label{classdoris_1_1_metric_registry}\index{MetricRegistry@{MetricRegistry}}


{\ttfamily \#include $<$metrics.\+h$>$}



Metric\+Registry 的协作图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=160pt]{de/d16/classdoris_1_1_metric_registry__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdoris_1_1_metric_registry_ac8eab0478fb9e7a6d0c88e04ff4247a0}{Metric\+Registry}} (const std\+::string \&\mbox{\hyperlink{namespacedoris_a8ccf841cb59e451791bcb2e1ac4f1edc}{name}})
\item 
\mbox{\hyperlink{classdoris_1_1_metric_registry_a3f601e1750613d5871f9edfb4c1bac04}{$\sim$\+Metric\+Registry}} ()
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classdoris_1_1_metric_entity}{Metric\+Entity}} $>$ \mbox{\hyperlink{classdoris_1_1_metric_registry_a84422b81e94a09645aa9a6ce2b45dedb}{register\+\_\+entity}} (const std\+::string \&\mbox{\hyperlink{namespacedoris_a8ccf841cb59e451791bcb2e1ac4f1edc}{name}}, const \mbox{\hyperlink{namespacedoris_a1c986529df26f73b9cbac620938c7eb3}{Labels}} \&labels=\{\}, \mbox{\hyperlink{namespacedoris_ac1275a00a8c74d3c44cea7b9d77e77b5}{Metric\+Entity\+Type}} type=\mbox{\hyperlink{namespacedoris_ac1275a00a8c74d3c44cea7b9d77e77b5a715c76514601e8aea81451c7edb84c8e}{Metric\+Entity\+Type\+::k\+Server}})
\item 
void \mbox{\hyperlink{classdoris_1_1_metric_registry_aea814151e21597b5a31316959adb11d7}{deregister\+\_\+entity}} (const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classdoris_1_1_metric_entity}{Metric\+Entity}} $>$ \&entity)
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classdoris_1_1_metric_entity}{Metric\+Entity}} $>$ \mbox{\hyperlink{classdoris_1_1_metric_registry_a8a955e951cf1ed3b14e92fb2fd17743b}{get\+\_\+entity}} (const std\+::string \&\mbox{\hyperlink{namespacedoris_a8ccf841cb59e451791bcb2e1ac4f1edc}{name}}, const \mbox{\hyperlink{namespacedoris_a1c986529df26f73b9cbac620938c7eb3}{Labels}} \&labels=\{\}, \mbox{\hyperlink{namespacedoris_ac1275a00a8c74d3c44cea7b9d77e77b5}{Metric\+Entity\+Type}} type=\mbox{\hyperlink{namespacedoris_ac1275a00a8c74d3c44cea7b9d77e77b5a715c76514601e8aea81451c7edb84c8e}{Metric\+Entity\+Type\+::k\+Server}})
\item 
void \mbox{\hyperlink{classdoris_1_1_metric_registry_a1346142fa5fea74641e7c89b948035c1}{trigger\+\_\+all\+\_\+hooks}} (bool force) const
\item 
std\+::string \mbox{\hyperlink{classdoris_1_1_metric_registry_ad9a2e965a29171190142036009777d3f}{to\+\_\+prometheus}} (bool with\+\_\+tablet\+\_\+metrics=false) const
\item 
std\+::string \mbox{\hyperlink{classdoris_1_1_metric_registry_a59f889ed851fffb8d0a7f789c1ad248f}{to\+\_\+json}} (bool with\+\_\+tablet\+\_\+metrics=false) const
\item 
std\+::string \mbox{\hyperlink{classdoris_1_1_metric_registry_acbd3a6e0cf8c19db98dff97a3b517e22}{to\+\_\+core\+\_\+string}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
const std\+::string \mbox{\hyperlink{classdoris_1_1_metric_registry_a1b003dc5cfce1a4d8f9a0c4b9b589045}{\+\_\+name}}
\item 
\mbox{\hyperlink{classdoris_1_1_spin_lock}{Spin\+Lock}} \mbox{\hyperlink{classdoris_1_1_metric_registry_aaeda4b6262d10eb73734e61e27d42052}{\+\_\+lock}}
\item 
std\+::unordered\+\_\+map$<$ std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classdoris_1_1_metric_entity}{Metric\+Entity}} $>$, int32\+\_\+t, \mbox{\hyperlink{structdoris_1_1_metric_entity_hash}{Metric\+Entity\+Hash}}, \mbox{\hyperlink{structdoris_1_1_metric_entity_equal_to}{Metric\+Entity\+Equal\+To}} $>$ \mbox{\hyperlink{classdoris_1_1_metric_registry_a3f87fb939cc71fba38e063e113e71e9d}{\+\_\+entities}}
\end{DoxyCompactItemize}


\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{classdoris_1_1_metric_registry_ac8eab0478fb9e7a6d0c88e04ff4247a0}\label{classdoris_1_1_metric_registry_ac8eab0478fb9e7a6d0c88e04ff4247a0}} 
\index{MetricRegistry@{MetricRegistry}!MetricRegistry@{MetricRegistry}}
\index{MetricRegistry@{MetricRegistry}!MetricRegistry@{MetricRegistry}}
\doxysubsubsection{\texorpdfstring{MetricRegistry()}{MetricRegistry()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_metric_registry}{Metric\+Registry}} (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{classdoris_1_1_metric_registry_a3f601e1750613d5871f9edfb4c1bac04}\label{classdoris_1_1_metric_registry_a3f601e1750613d5871f9edfb4c1bac04}} 
\index{MetricRegistry@{MetricRegistry}!````~MetricRegistry@{$\sim$MetricRegistry}}
\index{````~MetricRegistry@{$\sim$MetricRegistry}!MetricRegistry@{MetricRegistry}}
\doxysubsubsection{\texorpdfstring{$\sim$MetricRegistry()}{~MetricRegistry()}}
{\footnotesize\ttfamily $\sim$\mbox{\hyperlink{classdoris_1_1_metric_registry}{Metric\+Registry}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\doxysubsection{成员函数说明}
\mbox{\Hypertarget{classdoris_1_1_metric_registry_a84422b81e94a09645aa9a6ce2b45dedb}\label{classdoris_1_1_metric_registry_a84422b81e94a09645aa9a6ce2b45dedb}} 
\index{MetricRegistry@{MetricRegistry}!register\_entity@{register\_entity}}
\index{register\_entity@{register\_entity}!MetricRegistry@{MetricRegistry}}
\doxysubsubsection{\texorpdfstring{register\_entity()}{register\_entity()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classdoris_1_1_metric_entity}{Metric\+Entity}} $>$ register\+\_\+entity (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{const \mbox{\hyperlink{namespacedoris_a1c986529df26f73b9cbac620938c7eb3}{Labels}} \&}]{labels = {\ttfamily \{\}},  }\item[{\mbox{\hyperlink{namespacedoris_ac1275a00a8c74d3c44cea7b9d77e77b5}{Metric\+Entity\+Type}}}]{type = {\ttfamily \mbox{\hyperlink{namespacedoris_ac1275a00a8c74d3c44cea7b9d77e77b5a715c76514601e8aea81451c7edb84c8e}{Metric\+Entity\+Type\+::k\+Server}}} }\end{DoxyParamCaption})}

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{dc/d50/classdoris_1_1_metric_registry_a84422b81e94a09645aa9a6ce2b45dedb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_metric_registry_aea814151e21597b5a31316959adb11d7}\label{classdoris_1_1_metric_registry_aea814151e21597b5a31316959adb11d7}} 
\index{MetricRegistry@{MetricRegistry}!deregister\_entity@{deregister\_entity}}
\index{deregister\_entity@{deregister\_entity}!MetricRegistry@{MetricRegistry}}
\doxysubsubsection{\texorpdfstring{deregister\_entity()}{deregister\_entity()}}
{\footnotesize\ttfamily void deregister\+\_\+entity (\begin{DoxyParamCaption}\item[{const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classdoris_1_1_metric_entity}{Metric\+Entity}} $>$ \&}]{entity }\end{DoxyParamCaption})}

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=333pt]{dc/d50/classdoris_1_1_metric_registry_aea814151e21597b5a31316959adb11d7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_metric_registry_a8a955e951cf1ed3b14e92fb2fd17743b}\label{classdoris_1_1_metric_registry_a8a955e951cf1ed3b14e92fb2fd17743b}} 
\index{MetricRegistry@{MetricRegistry}!get\_entity@{get\_entity}}
\index{get\_entity@{get\_entity}!MetricRegistry@{MetricRegistry}}
\doxysubsubsection{\texorpdfstring{get\_entity()}{get\_entity()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classdoris_1_1_metric_entity}{Metric\+Entity}} $>$ get\+\_\+entity (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{const \mbox{\hyperlink{namespacedoris_a1c986529df26f73b9cbac620938c7eb3}{Labels}} \&}]{labels = {\ttfamily \{\}},  }\item[{\mbox{\hyperlink{namespacedoris_ac1275a00a8c74d3c44cea7b9d77e77b5}{Metric\+Entity\+Type}}}]{type = {\ttfamily \mbox{\hyperlink{namespacedoris_ac1275a00a8c74d3c44cea7b9d77e77b5a715c76514601e8aea81451c7edb84c8e}{Metric\+Entity\+Type\+::k\+Server}}} }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classdoris_1_1_metric_registry_a1346142fa5fea74641e7c89b948035c1}\label{classdoris_1_1_metric_registry_a1346142fa5fea74641e7c89b948035c1}} 
\index{MetricRegistry@{MetricRegistry}!trigger\_all\_hooks@{trigger\_all\_hooks}}
\index{trigger\_all\_hooks@{trigger\_all\_hooks}!MetricRegistry@{MetricRegistry}}
\doxysubsubsection{\texorpdfstring{trigger\_all\_hooks()}{trigger\_all\_hooks()}}
{\footnotesize\ttfamily void trigger\+\_\+all\+\_\+hooks (\begin{DoxyParamCaption}\item[{bool}]{force }\end{DoxyParamCaption}) const}

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dc/d50/classdoris_1_1_metric_registry_a1346142fa5fea74641e7c89b948035c1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_metric_registry_ad9a2e965a29171190142036009777d3f}\label{classdoris_1_1_metric_registry_ad9a2e965a29171190142036009777d3f}} 
\index{MetricRegistry@{MetricRegistry}!to\_prometheus@{to\_prometheus}}
\index{to\_prometheus@{to\_prometheus}!MetricRegistry@{MetricRegistry}}
\doxysubsubsection{\texorpdfstring{to\_prometheus()}{to\_prometheus()}}
{\footnotesize\ttfamily std\+::string to\+\_\+prometheus (\begin{DoxyParamCaption}\item[{bool}]{with\+\_\+tablet\+\_\+metrics = {\ttfamily false} }\end{DoxyParamCaption}) const}

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=301pt]{dc/d50/classdoris_1_1_metric_registry_ad9a2e965a29171190142036009777d3f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_metric_registry_a59f889ed851fffb8d0a7f789c1ad248f}\label{classdoris_1_1_metric_registry_a59f889ed851fffb8d0a7f789c1ad248f}} 
\index{MetricRegistry@{MetricRegistry}!to\_json@{to\_json}}
\index{to\_json@{to\_json}!MetricRegistry@{MetricRegistry}}
\doxysubsubsection{\texorpdfstring{to\_json()}{to\_json()}}
{\footnotesize\ttfamily std\+::string to\+\_\+json (\begin{DoxyParamCaption}\item[{bool}]{with\+\_\+tablet\+\_\+metrics = {\ttfamily false} }\end{DoxyParamCaption}) const}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{dc/d50/classdoris_1_1_metric_registry_a59f889ed851fffb8d0a7f789c1ad248f_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=268pt]{dc/d50/classdoris_1_1_metric_registry_a59f889ed851fffb8d0a7f789c1ad248f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_metric_registry_acbd3a6e0cf8c19db98dff97a3b517e22}\label{classdoris_1_1_metric_registry_acbd3a6e0cf8c19db98dff97a3b517e22}} 
\index{MetricRegistry@{MetricRegistry}!to\_core\_string@{to\_core\_string}}
\index{to\_core\_string@{to\_core\_string}!MetricRegistry@{MetricRegistry}}
\doxysubsubsection{\texorpdfstring{to\_core\_string()}{to\_core\_string()}}
{\footnotesize\ttfamily std\+::string to\+\_\+core\+\_\+string (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=298pt]{dc/d50/classdoris_1_1_metric_registry_acbd3a6e0cf8c19db98dff97a3b517e22_icgraph}
\end{center}
\end{figure}


\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{classdoris_1_1_metric_registry_a1b003dc5cfce1a4d8f9a0c4b9b589045}\label{classdoris_1_1_metric_registry_a1b003dc5cfce1a4d8f9a0c4b9b589045}} 
\index{MetricRegistry@{MetricRegistry}!\_name@{\_name}}
\index{\_name@{\_name}!MetricRegistry@{MetricRegistry}}
\doxysubsubsection{\texorpdfstring{\_name}{\_name}}
{\footnotesize\ttfamily const std\+::string \+\_\+name\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_metric_registry_aaeda4b6262d10eb73734e61e27d42052}\label{classdoris_1_1_metric_registry_aaeda4b6262d10eb73734e61e27d42052}} 
\index{MetricRegistry@{MetricRegistry}!\_lock@{\_lock}}
\index{\_lock@{\_lock}!MetricRegistry@{MetricRegistry}}
\doxysubsubsection{\texorpdfstring{\_lock}{\_lock}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_spin_lock}{Spin\+Lock}} \+\_\+lock\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_metric_registry_a3f87fb939cc71fba38e063e113e71e9d}\label{classdoris_1_1_metric_registry_a3f87fb939cc71fba38e063e113e71e9d}} 
\index{MetricRegistry@{MetricRegistry}!\_entities@{\_entities}}
\index{\_entities@{\_entities}!MetricRegistry@{MetricRegistry}}
\doxysubsubsection{\texorpdfstring{\_entities}{\_entities}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classdoris_1_1_metric_entity}{Metric\+Entity}}$>$, int32\+\_\+t, \mbox{\hyperlink{structdoris_1_1_metric_entity_hash}{Metric\+Entity\+Hash}}, \mbox{\hyperlink{structdoris_1_1_metric_entity_equal_to}{Metric\+Entity\+Equal\+To}}$>$ \+\_\+entities\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/be\+\_\+all/util/\mbox{\hyperlink{metrics_8h}{metrics.\+h}}\item 
/\+Users/dabowang/be\+\_\+all/util/\mbox{\hyperlink{metrics_8cpp}{metrics.\+cpp}}\end{DoxyCompactItemize}
