\hypertarget{classdoris_1_1_compaction_action}{}\doxysection{Compaction\+Action类 参考}
\label{classdoris_1_1_compaction_action}\index{CompactionAction@{CompactionAction}}


{\ttfamily \#include $<$compaction\+\_\+action.\+h$>$}



类 Compaction\+Action 继承关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=177pt]{db/d7d/classdoris_1_1_compaction_action__inherit__graph}
\end{center}
\end{figure}


Compaction\+Action 的协作图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=177pt]{d4/da9/classdoris_1_1_compaction_action__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdoris_1_1_compaction_action_a60ee0746e7b19dda847b847d4f638a82}{Compaction\+Action}} (\mbox{\hyperlink{namespacedoris_ab853fce427f8206ef2ec1dca0d9ca547}{Compaction\+Action\+Type}} type)
\item 
\mbox{\hyperlink{classdoris_1_1_compaction_action_a5981030ad3e1968301e5a47dc5a587ff}{$\sim$\+Compaction\+Action}} () override=default
\item 
void \mbox{\hyperlink{classdoris_1_1_compaction_action_ac19cf1dfbfc14c0169018218471fd806}{handle}} (\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$req) override
\item 
virtual bool \mbox{\hyperlink{classdoris_1_1_http_handler_a7f9438808dc7de22cb39bcaadd0faeac}{request\+\_\+will\+\_\+be\+\_\+read\+\_\+progressively}} ()
\item 
virtual int \mbox{\hyperlink{classdoris_1_1_http_handler_ac62f4166c99faa854c7dbb7a85ddf84a}{on\+\_\+header}} (\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$req)
\item 
virtual void \mbox{\hyperlink{classdoris_1_1_http_handler_ab9238fed1b0f393be690ce38b281f25f}{on\+\_\+chunk\+\_\+data}} (\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$req)
\item 
virtual void \mbox{\hyperlink{classdoris_1_1_http_handler_a6443aa83204f12a19e4671b04d29073b}{free\+\_\+handler\+\_\+ctx}} (std\+::shared\+\_\+ptr$<$ void $>$ handler\+\_\+ctx)
\end{DoxyCompactItemize}
\doxysubsection*{Private 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_compaction_action_a40770378f153acd54e61e79e7906a745}{\+\_\+handle\+\_\+show\+\_\+compaction}} (\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$req, std\+::string $\ast$json\+\_\+result)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_compaction_action_a71d881e22e511a5d854bea57dc87fcbb}{\+\_\+handle\+\_\+run\+\_\+compaction}} (\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$req, std\+::string $\ast$json\+\_\+result)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_compaction_action_a7145ae67b997e5c0629c3317948d6f66}{\+\_\+execute\+\_\+compaction\+\_\+callback}} (\mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} tablet, const std\+::string \&compaction\+\_\+type)
\begin{DoxyCompactList}\small\item\em thread callback function for the tablet to do compaction \end{DoxyCompactList}\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_compaction_action_a81cd5238c43305b35f10a6551e69e5f8}{\+\_\+handle\+\_\+run\+\_\+status\+\_\+compaction}} (\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$req, std\+::string $\ast$json\+\_\+result)
\begin{DoxyCompactList}\small\item\em fetch compaction running status \end{DoxyCompactList}\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_compaction_action_a2afbb30c7e81c6d42ccbf4b6d8cac083}{\+\_\+check\+\_\+param}} (\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$req, uint64\+\_\+t $\ast$tablet\+\_\+id)
\begin{DoxyCompactList}\small\item\em check param and fetch tablet\+\_\+id from req \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedoris_ab853fce427f8206ef2ec1dca0d9ca547}{Compaction\+Action\+Type}} \mbox{\hyperlink{classdoris_1_1_compaction_action_a0e0bcd309b9d01f4448ec191250e8fb5}{\+\_\+type}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
This action is used for viewing the compaction status. See compaction-\/action.\+md for details. 

\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{classdoris_1_1_compaction_action_a60ee0746e7b19dda847b847d4f638a82}\label{classdoris_1_1_compaction_action_a60ee0746e7b19dda847b847d4f638a82}} 
\index{CompactionAction@{CompactionAction}!CompactionAction@{CompactionAction}}
\index{CompactionAction@{CompactionAction}!CompactionAction@{CompactionAction}}
\doxysubsubsection{\texorpdfstring{CompactionAction()}{CompactionAction()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_compaction_action}{Compaction\+Action}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedoris_ab853fce427f8206ef2ec1dca0d9ca547}{Compaction\+Action\+Type}}}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{classdoris_1_1_compaction_action_a5981030ad3e1968301e5a47dc5a587ff}\label{classdoris_1_1_compaction_action_a5981030ad3e1968301e5a47dc5a587ff}} 
\index{CompactionAction@{CompactionAction}!````~CompactionAction@{$\sim$CompactionAction}}
\index{````~CompactionAction@{$\sim$CompactionAction}!CompactionAction@{CompactionAction}}
\doxysubsubsection{\texorpdfstring{$\sim$CompactionAction()}{~CompactionAction()}}
{\footnotesize\ttfamily $\sim$\mbox{\hyperlink{classdoris_1_1_compaction_action}{Compaction\+Action}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [default]}}



\doxysubsection{成员函数说明}
\mbox{\Hypertarget{classdoris_1_1_compaction_action_ac19cf1dfbfc14c0169018218471fd806}\label{classdoris_1_1_compaction_action_ac19cf1dfbfc14c0169018218471fd806}} 
\index{CompactionAction@{CompactionAction}!handle@{handle}}
\index{handle@{handle}!CompactionAction@{CompactionAction}}
\doxysubsubsection{\texorpdfstring{handle()}{handle()}}
{\footnotesize\ttfamily void handle (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_http_handler_a6f5154b627191b7aceea434ebb9c02bf}{Http\+Handler}}.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d78/classdoris_1_1_compaction_action_ac19cf1dfbfc14c0169018218471fd806_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_compaction_action_a40770378f153acd54e61e79e7906a745}\label{classdoris_1_1_compaction_action_a40770378f153acd54e61e79e7906a745}} 
\index{CompactionAction@{CompactionAction}!\_handle\_show\_compaction@{\_handle\_show\_compaction}}
\index{\_handle\_show\_compaction@{\_handle\_show\_compaction}!CompactionAction@{CompactionAction}}
\doxysubsubsection{\texorpdfstring{\_handle\_show\_compaction()}{\_handle\_show\_compaction()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+handle\+\_\+show\+\_\+compaction (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$}]{req,  }\item[{std\+::string $\ast$}]{json\+\_\+result }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d78/classdoris_1_1_compaction_action_a40770378f153acd54e61e79e7906a745_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=295pt]{d6/d78/classdoris_1_1_compaction_action_a40770378f153acd54e61e79e7906a745_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_compaction_action_a71d881e22e511a5d854bea57dc87fcbb}\label{classdoris_1_1_compaction_action_a71d881e22e511a5d854bea57dc87fcbb}} 
\index{CompactionAction@{CompactionAction}!\_handle\_run\_compaction@{\_handle\_run\_compaction}}
\index{\_handle\_run\_compaction@{\_handle\_run\_compaction}!CompactionAction@{CompactionAction}}
\doxysubsubsection{\texorpdfstring{\_handle\_run\_compaction()}{\_handle\_run\_compaction()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+handle\+\_\+run\+\_\+compaction (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$}]{req,  }\item[{std\+::string $\ast$}]{json\+\_\+result }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

execute compaction request to run compaction task param compact\+\_\+type in req to distinguish the task type, base or cumulative 函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d78/classdoris_1_1_compaction_action_a71d881e22e511a5d854bea57dc87fcbb_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{d6/d78/classdoris_1_1_compaction_action_a71d881e22e511a5d854bea57dc87fcbb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_compaction_action_a7145ae67b997e5c0629c3317948d6f66}\label{classdoris_1_1_compaction_action_a7145ae67b997e5c0629c3317948d6f66}} 
\index{CompactionAction@{CompactionAction}!\_execute\_compaction\_callback@{\_execute\_compaction\_callback}}
\index{\_execute\_compaction\_callback@{\_execute\_compaction\_callback}!CompactionAction@{CompactionAction}}
\doxysubsubsection{\texorpdfstring{\_execute\_compaction\_callback()}{\_execute\_compaction\_callback()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+execute\+\_\+compaction\+\_\+callback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}}}]{tablet,  }\item[{const std\+::string \&}]{compaction\+\_\+type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



thread callback function for the tablet to do compaction 

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d78/classdoris_1_1_compaction_action_a7145ae67b997e5c0629c3317948d6f66_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d78/classdoris_1_1_compaction_action_a7145ae67b997e5c0629c3317948d6f66_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_compaction_action_a81cd5238c43305b35f10a6551e69e5f8}\label{classdoris_1_1_compaction_action_a81cd5238c43305b35f10a6551e69e5f8}} 
\index{CompactionAction@{CompactionAction}!\_handle\_run\_status\_compaction@{\_handle\_run\_status\_compaction}}
\index{\_handle\_run\_status\_compaction@{\_handle\_run\_status\_compaction}!CompactionAction@{CompactionAction}}
\doxysubsubsection{\texorpdfstring{\_handle\_run\_status\_compaction()}{\_handle\_run\_status\_compaction()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+handle\+\_\+run\+\_\+status\+\_\+compaction (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$}]{req,  }\item[{std\+::string $\ast$}]{json\+\_\+result }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



fetch compaction running status 

函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d78/classdoris_1_1_compaction_action_a81cd5238c43305b35f10a6551e69e5f8_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=262pt]{d6/d78/classdoris_1_1_compaction_action_a81cd5238c43305b35f10a6551e69e5f8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_compaction_action_a2afbb30c7e81c6d42ccbf4b6d8cac083}\label{classdoris_1_1_compaction_action_a2afbb30c7e81c6d42ccbf4b6d8cac083}} 
\index{CompactionAction@{CompactionAction}!\_check\_param@{\_check\_param}}
\index{\_check\_param@{\_check\_param}!CompactionAction@{CompactionAction}}
\doxysubsubsection{\texorpdfstring{\_check\_param()}{\_check\_param()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+check\+\_\+param (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$}]{req,  }\item[{uint64\+\_\+t $\ast$}]{tablet\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



check param and fetch tablet\+\_\+id from req 

函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d78/classdoris_1_1_compaction_action_a2afbb30c7e81c6d42ccbf4b6d8cac083_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d78/classdoris_1_1_compaction_action_a2afbb30c7e81c6d42ccbf4b6d8cac083_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_http_handler_a7f9438808dc7de22cb39bcaadd0faeac}\label{classdoris_1_1_http_handler_a7f9438808dc7de22cb39bcaadd0faeac}} 
\index{CompactionAction@{CompactionAction}!request\_will\_be\_read\_progressively@{request\_will\_be\_read\_progressively}}
\index{request\_will\_be\_read\_progressively@{request\_will\_be\_read\_progressively}!CompactionAction@{CompactionAction}}
\doxysubsubsection{\texorpdfstring{request\_will\_be\_read\_progressively()}{request\_will\_be\_read\_progressively()}}
{\footnotesize\ttfamily virtual bool request\+\_\+will\+\_\+be\+\_\+read\+\_\+progressively (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [inherited]}}



被 \mbox{\hyperlink{classdoris_1_1_stream_load_action_a89b046854f4d264f5149a54f4686629f}{Stream\+Load\+Action}} 重载.

\mbox{\Hypertarget{classdoris_1_1_http_handler_ac62f4166c99faa854c7dbb7a85ddf84a}\label{classdoris_1_1_http_handler_ac62f4166c99faa854c7dbb7a85ddf84a}} 
\index{CompactionAction@{CompactionAction}!on\_header@{on\_header}}
\index{on\_header@{on\_header}!CompactionAction@{CompactionAction}}
\doxysubsubsection{\texorpdfstring{on\_header()}{on\_header()}}
{\footnotesize\ttfamily virtual int on\+\_\+header (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [inherited]}}



被 \mbox{\hyperlink{classdoris_1_1_stream_load_action_ab55c42c813043e75d66e299d76db3fc2}{Stream\+Load\+Action}} 重载.

\mbox{\Hypertarget{classdoris_1_1_http_handler_ab9238fed1b0f393be690ce38b281f25f}\label{classdoris_1_1_http_handler_ab9238fed1b0f393be690ce38b281f25f}} 
\index{CompactionAction@{CompactionAction}!on\_chunk\_data@{on\_chunk\_data}}
\index{on\_chunk\_data@{on\_chunk\_data}!CompactionAction@{CompactionAction}}
\doxysubsubsection{\texorpdfstring{on\_chunk\_data()}{on\_chunk\_data()}}
{\footnotesize\ttfamily virtual void on\+\_\+chunk\+\_\+data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [inherited]}}



被 \mbox{\hyperlink{classdoris_1_1_stream_load_action_a4cd60b32c7dac207c8a1db773696b15a}{Stream\+Load\+Action}} 重载.

这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dc/d89/classdoris_1_1_http_handler_ab9238fed1b0f393be690ce38b281f25f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_http_handler_a6443aa83204f12a19e4671b04d29073b}\label{classdoris_1_1_http_handler_a6443aa83204f12a19e4671b04d29073b}} 
\index{CompactionAction@{CompactionAction}!free\_handler\_ctx@{free\_handler\_ctx}}
\index{free\_handler\_ctx@{free\_handler\_ctx}!CompactionAction@{CompactionAction}}
\doxysubsubsection{\texorpdfstring{free\_handler\_ctx()}{free\_handler\_ctx()}}
{\footnotesize\ttfamily virtual void free\+\_\+handler\+\_\+ctx (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ void $>$}]{handler\+\_\+ctx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [inherited]}}



被 \mbox{\hyperlink{classdoris_1_1_stream_load_action_ad417a7dd1564f13d70bd59c4d4e7826a}{Stream\+Load\+Action}} 重载.

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=304pt]{dc/d89/classdoris_1_1_http_handler_a6443aa83204f12a19e4671b04d29073b_icgraph}
\end{center}
\end{figure}


\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{classdoris_1_1_compaction_action_a0e0bcd309b9d01f4448ec191250e8fb5}\label{classdoris_1_1_compaction_action_a0e0bcd309b9d01f4448ec191250e8fb5}} 
\index{CompactionAction@{CompactionAction}!\_type@{\_type}}
\index{\_type@{\_type}!CompactionAction@{CompactionAction}}
\doxysubsubsection{\texorpdfstring{\_type}{\_type}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedoris_ab853fce427f8206ef2ec1dca0d9ca547}{Compaction\+Action\+Type}} \+\_\+type\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/doris/be/src/http/action/\mbox{\hyperlink{compaction__action_8h}{compaction\+\_\+action.\+h}}\item 
/\+Users/dabowang/doris/be/src/http/action/\mbox{\hyperlink{compaction__action_8cpp}{compaction\+\_\+action.\+cpp}}\end{DoxyCompactItemize}
