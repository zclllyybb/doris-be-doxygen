\hypertarget{sip__hash_8h}{}\doxysection{/\+Users/dabowang/be\+\_\+all/vec/common/sip\+\_\+hash.h 文件参考}
\label{sip__hash_8h}\index{/Users/dabowang/be\_all/vec/common/sip\_hash.h@{/Users/dabowang/be\_all/vec/common/sip\_hash.h}}
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$type\+\_\+traits$>$}\newline
{\ttfamily \#include \char`\"{}common/compiler\+\_\+util.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}vec/common/unaligned.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}vec/core/types.\+h\char`\"{}}\newline
{\ttfamily \#include $<$cstddef$>$}\newline
sip\+\_\+hash.\+h 的引用(Include)关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d06/sip__hash_8h__incl}
\end{center}
\end{figure}
此图展示该文件直接或间接的被哪些文件引用了\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dd/dd4/sip__hash_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{类}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_sip_hash}{Sip\+Hash}}
\end{DoxyCompactItemize}
\doxysubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{sip__hash_8h_addd42b95ef425979d1d0dca095dec800}{ROTL}}(x,  b)~static\+\_\+cast$<$\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{doris\+::vectorized\+::\+UInt64}}$>$(((x) $<$$<$ (b)) $\vert$ ((x) $>$$>$ (64 -\/ (b))))
\item 
\#define \mbox{\hyperlink{sip__hash_8h_abd545ba6d36990ee5903ff4d0e6edecf}{SIPROUND}}
\end{DoxyCompactItemize}
\doxysubsection*{函数}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{sip__hash_8h_a72fd8f6c9eab7d7a495434dcfe5444bb}{sip\+\_\+hash128}} (const char $\ast$\mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}, const size\+\_\+t size, char $\ast$out)
\item 
\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{doris\+::vectorized\+::\+UInt64}} \mbox{\hyperlink{sip__hash_8h_a538a5c70354393bec1cb1475030d3095}{sip\+\_\+hash64}} (const char $\ast$\mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}}, const size\+\_\+t size)
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} $>$ }\\std\+::enable\+\_\+if\+\_\+t$<$ std\+::is\+\_\+standard\+\_\+layout\+\_\+v$<$ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} $>$, \mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{doris\+::vectorized\+::\+UInt64}} $>$ \mbox{\hyperlink{sip__hash_8h_a069d5057940a93f2bf57fdd552d898ca}{sip\+\_\+hash64}} (const \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} \&x)
\item 
\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{doris\+::vectorized\+::\+UInt64}} \mbox{\hyperlink{sip__hash_8h_a7f14239087ceb93875008ddd88e4c831}{sip\+\_\+hash64}} (const std\+::string \&s)
\end{DoxyCompactItemize}


\doxysubsection{宏定义说明}
\mbox{\Hypertarget{sip__hash_8h_addd42b95ef425979d1d0dca095dec800}\label{sip__hash_8h_addd42b95ef425979d1d0dca095dec800}} 
\index{sip\_hash.h@{sip\_hash.h}!ROTL@{ROTL}}
\index{ROTL@{ROTL}!sip\_hash.h@{sip\_hash.h}}
\doxysubsubsection{\texorpdfstring{ROTL}{ROTL}}
{\footnotesize\ttfamily \#define ROTL(\begin{DoxyParamCaption}\item[{}]{x,  }\item[{}]{b }\end{DoxyParamCaption})~static\+\_\+cast$<$\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{doris\+::vectorized\+::\+UInt64}}$>$(((x) $<$$<$ (b)) $\vert$ ((x) $>$$>$ (64 -\/ (b))))}

\mbox{\hyperlink{class_sip_hash}{Sip\+Hash}} is a fast cryptographic hash function for short strings. Taken from here\+: \href{https://www.131002.net/siphash/}{\texttt{ https\+://www.\+131002.\+net/siphash/}}

This is \mbox{\hyperlink{class_sip_hash}{Sip\+Hash}} 2-\/4 variant.

Two changes are made\+:
\begin{DoxyItemize}
\item returns also 128 bits, not only 64;
\item done streaming (can be calculated in parts).
\end{DoxyItemize}

On short strings (URL, search phrases) more than 3 times faster than MD5 from Open\+SSL. ($\sim$ 700 MB/sec, 15 million strings per second) \mbox{\Hypertarget{sip__hash_8h_abd545ba6d36990ee5903ff4d0e6edecf}\label{sip__hash_8h_abd545ba6d36990ee5903ff4d0e6edecf}} 
\index{sip\_hash.h@{sip\_hash.h}!SIPROUND@{SIPROUND}}
\index{SIPROUND@{SIPROUND}!sip\_hash.h@{sip\_hash.h}}
\doxysubsubsection{\texorpdfstring{SIPROUND}{SIPROUND}}
{\footnotesize\ttfamily \#define SIPROUND}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{do}\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ v0\ +=\ \mbox{\hyperlink{lgamma_8c_aa093742515502bf4db0682901e124460}{v1}};\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{lgamma_8c_aa093742515502bf4db0682901e124460}{v1}}\ =\ \mbox{\hyperlink{sip__hash_8h_addd42b95ef425979d1d0dca095dec800}{ROTL}}(\mbox{\hyperlink{lgamma_8c_aa093742515502bf4db0682901e124460}{v1}},\ 13);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{lgamma_8c_aa093742515502bf4db0682901e124460}{v1}}\ \string^=\ v0;\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ v0\ =\ \mbox{\hyperlink{sip__hash_8h_addd42b95ef425979d1d0dca095dec800}{ROTL}}(v0,\ 32);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{lgamma_8c_abcf7b2a7a4c5fe85992ae2378315224e}{v2}}\ +=\ \mbox{\hyperlink{lgamma_8c_a30dd7e5edc3e5c08b8527c6cd1b4bfb5}{v3}};\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{lgamma_8c_a30dd7e5edc3e5c08b8527c6cd1b4bfb5}{v3}}\ =\ \mbox{\hyperlink{sip__hash_8h_addd42b95ef425979d1d0dca095dec800}{ROTL}}(\mbox{\hyperlink{lgamma_8c_a30dd7e5edc3e5c08b8527c6cd1b4bfb5}{v3}},\ 16);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{lgamma_8c_a30dd7e5edc3e5c08b8527c6cd1b4bfb5}{v3}}\ \string^=\ \mbox{\hyperlink{lgamma_8c_abcf7b2a7a4c5fe85992ae2378315224e}{v2}};\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ v0\ +=\ \mbox{\hyperlink{lgamma_8c_a30dd7e5edc3e5c08b8527c6cd1b4bfb5}{v3}};\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{lgamma_8c_a30dd7e5edc3e5c08b8527c6cd1b4bfb5}{v3}}\ =\ \mbox{\hyperlink{sip__hash_8h_addd42b95ef425979d1d0dca095dec800}{ROTL}}(\mbox{\hyperlink{lgamma_8c_a30dd7e5edc3e5c08b8527c6cd1b4bfb5}{v3}},\ 21);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{lgamma_8c_a30dd7e5edc3e5c08b8527c6cd1b4bfb5}{v3}}\ \string^=\ v0;\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{lgamma_8c_abcf7b2a7a4c5fe85992ae2378315224e}{v2}}\ +=\ \mbox{\hyperlink{lgamma_8c_aa093742515502bf4db0682901e124460}{v1}};\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{lgamma_8c_aa093742515502bf4db0682901e124460}{v1}}\ =\ \mbox{\hyperlink{sip__hash_8h_addd42b95ef425979d1d0dca095dec800}{ROTL}}(\mbox{\hyperlink{lgamma_8c_aa093742515502bf4db0682901e124460}{v1}},\ 17);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{lgamma_8c_aa093742515502bf4db0682901e124460}{v1}}\ \string^=\ \mbox{\hyperlink{lgamma_8c_abcf7b2a7a4c5fe85992ae2378315224e}{v2}};\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{lgamma_8c_abcf7b2a7a4c5fe85992ae2378315224e}{v2}}\ =\ \mbox{\hyperlink{sip__hash_8h_addd42b95ef425979d1d0dca095dec800}{ROTL}}(\mbox{\hyperlink{lgamma_8c_abcf7b2a7a4c5fe85992ae2378315224e}{v2}},\ 32);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}\ \textcolor{keywordflow}{while}\ (0)}

\end{DoxyCode}


\doxysubsection{函数说明}
\mbox{\Hypertarget{sip__hash_8h_a72fd8f6c9eab7d7a495434dcfe5444bb}\label{sip__hash_8h_a72fd8f6c9eab7d7a495434dcfe5444bb}} 
\index{sip\_hash.h@{sip\_hash.h}!sip\_hash128@{sip\_hash128}}
\index{sip\_hash128@{sip\_hash128}!sip\_hash.h@{sip\_hash.h}}
\doxysubsubsection{\texorpdfstring{sip\_hash128()}{sip\_hash128()}}
{\footnotesize\ttfamily void sip\+\_\+hash128 (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data,  }\item[{const size\+\_\+t}]{size,  }\item[{char $\ast$}]{out }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/dfd/sip__hash_8h_a72fd8f6c9eab7d7a495434dcfe5444bb_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/dfd/sip__hash_8h_a72fd8f6c9eab7d7a495434dcfe5444bb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{sip__hash_8h_a538a5c70354393bec1cb1475030d3095}\label{sip__hash_8h_a538a5c70354393bec1cb1475030d3095}} 
\index{sip\_hash.h@{sip\_hash.h}!sip\_hash64@{sip\_hash64}}
\index{sip\_hash64@{sip\_hash64}!sip\_hash.h@{sip\_hash.h}}
\doxysubsubsection{\texorpdfstring{sip\_hash64()}{sip\_hash64()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{doris\+::vectorized\+::\+UInt64}} sip\+\_\+hash64 (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data,  }\item[{const size\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/dfd/sip__hash_8h_a538a5c70354393bec1cb1475030d3095_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=248pt]{d6/dfd/sip__hash_8h_a538a5c70354393bec1cb1475030d3095_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{sip__hash_8h_a069d5057940a93f2bf57fdd552d898ca}\label{sip__hash_8h_a069d5057940a93f2bf57fdd552d898ca}} 
\index{sip\_hash.h@{sip\_hash.h}!sip\_hash64@{sip\_hash64}}
\index{sip\_hash64@{sip\_hash64}!sip\_hash.h@{sip\_hash.h}}
\doxysubsubsection{\texorpdfstring{sip\_hash64()}{sip\_hash64()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily std\+::enable\+\_\+if\+\_\+t$<$ std\+::is\+\_\+standard\+\_\+layout\+\_\+v$<$ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} $>$, \mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{doris\+::vectorized\+::\+UInt64}} $>$ sip\+\_\+hash64 (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} \&}]{x }\end{DoxyParamCaption})}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/dfd/sip__hash_8h_a069d5057940a93f2bf57fdd552d898ca_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{sip__hash_8h_a7f14239087ceb93875008ddd88e4c831}\label{sip__hash_8h_a7f14239087ceb93875008ddd88e4c831}} 
\index{sip\_hash.h@{sip\_hash.h}!sip\_hash64@{sip\_hash64}}
\index{sip\_hash64@{sip\_hash64}!sip\_hash.h@{sip\_hash.h}}
\doxysubsubsection{\texorpdfstring{sip\_hash64()}{sip\_hash64()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{doris\+::vectorized\+::\+UInt64}} sip\+\_\+hash64 (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{s }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/dfd/sip__hash_8h_a7f14239087ceb93875008ddd88e4c831_cgraph}
\end{center}
\end{figure}
