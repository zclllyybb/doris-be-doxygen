\hypertarget{column__dummy_8h_source}{}\doxysection{column\+\_\+dummy.\+h}
\label{column__dummy_8h_source}\index{/Users/dabowang/be\_all/vec/columns/column\_dummy.h@{/Users/dabowang/be\_all/vec/columns/column\_dummy.h}}
\mbox{\hyperlink{column__dummy_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ \textcolor{comment}{//\ This\ file\ is\ copied\ from}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ https://github.com/ClickHouse/ClickHouse/blob/master/src/AggregateFunctions/IColumnDummy.h}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ and\ modified\ by\ Doris}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{column_8h}{vec/columns/column.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{columns__common_8h}{vec/columns/columns\_common.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{arena_8h}{vec/common/arena.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pod__array_8h}{vec/common/pod\_array.h}}"{}}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris_1_1vectorized}{doris::vectorized}}\ \{}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy}{IColumnDummy}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column}{IColumn}}\ \{}
\DoxyCodeLine{00034\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00035\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a6d145291f12ca74c5f20883fa1d45a2f}{IColumnDummy}}()\ :\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}}(0)\ \{\}}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_aa0a906418ac75fc092b62c3ffc15a320}{IColumnDummy}}(\textcolor{keywordtype}{size\_t}\ s\_)\ :\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}}(s\_)\ \{\}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac01d3bf9792b1f5f19e8acb2a08553a3}{MutableColumnPtr}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a5a4644bd6292cda917ecca484d5e16b9}{clone\_dummy}}(\textcolor{keywordtype}{size\_t}\ s\_)\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac01d3bf9792b1f5f19e8acb2a08553a3}{MutableColumnPtr}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_aab313e522ef8ecd822077611d6b093c4}{clone\_resized}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}})\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a5a4644bd6292cda917ecca484d5e16b9}{clone\_dummy}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}});\ \}}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_ad7701a09a964eab360a8e51fa7ad2c16}{size}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}};\ \}}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a6df2ecbab548a51440ef47a89d5950a7}{insert\_default}}()\textcolor{keyword}{\ override\ }\{\ ++\mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}};\ \}}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_ae599ccb1de56315c080bd5c6549d7cc5}{pop\_back}}(\textcolor{keywordtype}{size\_t}\ n)\textcolor{keyword}{\ override\ }\{\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}}\ -\/=\ n;\ \}}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_af162dc5402d4a8769c9e32f229b83646}{byte\_size}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a2ed9338651c69c0fe0a713351d7fec9b}{allocated\_bytes}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a5727d16efb3b0ba76f55288d575ddf98}{compare\_at}}(\textcolor{keywordtype}{size\_t},\ \textcolor{keywordtype}{size\_t},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column}{IColumn}}\&,\ \textcolor{keywordtype}{int})\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ [[noreturn]]\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_field}{Field}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_ade044cda89516b10ad108c88a6c79c01}{operator[]}}(\textcolor{keywordtype}{size\_t})\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ LOG(FATAL)\ <<\ \textcolor{stringliteral}{"{}Cannot\ get\ value\ from\ "{}}\ <<\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_a1c3f0d49bb1075004684acd250caebd4}{get\_name}}();}
\DoxyCodeLine{00051\ \ \ \ \ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a58081c4b1a05f377ed5e3569e4fcdb58}{get}}(\textcolor{keywordtype}{size\_t},\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_field}{Field}}\&)\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ LOG(FATAL)\ <<\ \textcolor{stringliteral}{"{}Cannot\ get\ value\ from\ "{}}\ <<\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_a1c3f0d49bb1075004684acd250caebd4}{get\_name}}();}
\DoxyCodeLine{00055\ \ \ \ \ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a08c6e211c87b8d376bb3e5c36d01074a}{insert}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_field}{Field}}\&)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ LOG(FATAL)\ <<\ \textcolor{stringliteral}{"{}Cannot\ insert\ element\ into\ "{}}\ <<\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_a1c3f0d49bb1075004684acd250caebd4}{get\_name}}();}
\DoxyCodeLine{00059\ \ \ \ \ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_string_ref}{StringRef}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_af625e78dad95ab2c7f3d3d5805d6b299}{get\_data\_at}}(\textcolor{keywordtype}{size\_t})\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \{\};\ \}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_abdc5837d679b79aec0b28c87423f4890}{insert\_data}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*,\ \textcolor{keywordtype}{size\_t})\textcolor{keyword}{\ override\ }\{\ ++\mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}};\ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_string_ref}{StringRef}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_ace87f14ef53ecf8124d2bdfc6ad9adfd}{serialize\_value\_into\_arena}}(\textcolor{keywordtype}{size\_t}\ \textcolor{comment}{/*n*/},\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_arena}{Arena}}\&\ arena,}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ \textcolor{keyword}{const}*\&\ begin)\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{arena.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_arena_acebebc9124717f160fe71e7042dddcd2}{alloc\_continue}}(0,\ begin),\ 0\};}
\DoxyCodeLine{00068\ \ \ \ \ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_ae2a50f41f5cbdf9bafd56f997b49101b}{deserialize\_and\_insert\_from\_arena}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ pos)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}};}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pos;}
\DoxyCodeLine{00073\ \ \ \ \ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a6d13115b64ca44ea3ac7830487d94557}{insert\_from}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column}{IColumn}}\&,\ \textcolor{keywordtype}{size\_t})\textcolor{keyword}{\ override\ }\{\ ++\mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}};\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a0e1218dfb482ce19b24a08fe9e0d456e}{insert\_range\_from}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column}{IColumn}}\&\ \textcolor{comment}{/*src*/},\ \textcolor{keywordtype}{size\_t}\ \textcolor{comment}{/*start*/},\ \textcolor{keywordtype}{size\_t}\ length)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}}\ +=\ length;}
\DoxyCodeLine{00079\ \ \ \ \ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a97470f57478f61388e001c114de4793a}{insert\_indices\_from}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column}{IColumn}}\&\ src,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}*\ indices\_begin,}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}*\ indices\_end)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}}\ +=\ (indices\_end\ -\/\ indices\_begin);}
\DoxyCodeLine{00084\ \ \ \ \ \}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_aa1d7b67012985a9197efd18f7dd48e51}{ColumnPtr}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a9d470474e2f07711d6a6d473c4bf2bdc}{filter}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array}{Filter}}\&\ filt,\ ssize\_t\ \textcolor{comment}{/*result\_size\_hint*/})\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a5a4644bd6292cda917ecca484d5e16b9}{clone\_dummy}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a1952d57dfc68098f43bf4d015f74ddca}{count\_bytes\_in\_filter}}(filt));}
\DoxyCodeLine{00088\ \ \ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_aa1d7b67012985a9197efd18f7dd48e51}{ColumnPtr}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_ac6d44b9518a402b308e22ce3e776b128}{permute}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array}{Permutation}}\&\ perm,\ \textcolor{keywordtype}{size\_t}\ limit)\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}}\ !=\ perm.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array_base_a259cb5a711406a8c3e5d937eb9350cca}{size}}())\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ LOG(FATAL)\ <<\ \textcolor{stringliteral}{"{}Size\ of\ permutation\ doesn't\ match\ size\ of\ column."{}};}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a5a4644bd6292cda917ecca484d5e16b9}{clone\_dummy}}(limit\ ?\ std::min(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}},\ limit)\ :\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}});}
\DoxyCodeLine{00096\ \ \ \ \ \}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_ab8adc3004c2a884a0f159f71e59007a4}{get\_permutation}}(\textcolor{keywordtype}{bool}\ \textcolor{comment}{/*reverse*/},\ \textcolor{keywordtype}{size\_t}\ \textcolor{comment}{/*limit*/},\ \textcolor{keywordtype}{int}\ \textcolor{comment}{/*nan\_direction\_hint*/},}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array}{Permutation}}\&\ res)\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ res.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array_base_a0c895d2dd381326acf54873d9d3a5aa5}{resize}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}});}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}};\ ++i)\ res[i]\ =\ i;}
\DoxyCodeLine{00102\ \ \ \ \ \}}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_aa1d7b67012985a9197efd18f7dd48e51}{ColumnPtr}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a99b8b8e9c5ccce226c8f9c4b8301f98a}{replicate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array}{Offsets}}\&\ offsets)\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}}\ !=\ offsets.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array_base_a259cb5a711406a8c3e5d937eb9350cca}{size}}())\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ LOG(FATAL)\ <<\ \textcolor{stringliteral}{"{}Size\ of\ offsets\ doesn't\ match\ size\ of\ column."{}};}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a5a4644bd6292cda917ecca484d5e16b9}{clone\_dummy}}(offsets.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array_a4a557503c0b752dd1bd74295f499129f}{back}}());}
\DoxyCodeLine{00110\ \ \ \ \ \}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{MutableColumns}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_ac8cd1c29e5c42233874953f1b792b671}{scatter}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_ae419d76915023aa75c1be2a2fedbf1f2}{ColumnIndex}}\ num\_columns,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array}{Selector}}\&\ selector)\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}}\ !=\ selector.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array_base_a259cb5a711406a8c3e5d937eb9350cca}{size}}())\ \{}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ LOG(FATAL)\ <<\ \textcolor{stringliteral}{"{}Size\ of\ selector\ doesn't\ match\ size\ of\ column."{}};}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ std::vector<size\_t>\ counts(num\_columns);}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ \mbox{\hyperlink{rowset__tree_8cpp_ae40354a1051342eb5a9db005715dcfa9}{idx}}\ :\ selector)\ ++counts[\mbox{\hyperlink{rowset__tree_8cpp_ae40354a1051342eb5a9db005715dcfa9}{idx}}];}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a3904a5cfbe6dcfc82d31783ef44b8f9c}{MutableColumns}}\ res(num\_columns);}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ num\_columns;\ ++i)\ res[i]\ =\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_aab313e522ef8ecd822077611d6b093c4}{clone\_resized}}(counts[i]);}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00124\ \ \ \ \ \}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a202d3bdd690b0c527dbb76d86db44d43}{append\_data\_by\_selector}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_ac01d3bf9792b1f5f19e8acb2a08553a3}{MutableColumnPtr}}\&\ res,}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array}{IColumn::Selector}}\&\ selector)\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ num\_rows\ =\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_ad7701a09a964eab360a8e51fa7ad2c16}{size}}();}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_rows\ <\ selector.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array_base_a259cb5a711406a8c3e5d937eb9350cca}{size}}())\ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ LOG(FATAL)\ <<\ fmt::format(\textcolor{stringliteral}{"{}Size\ of\ selector:\ \{\},\ is\ larger\ than\ size\ of\ column:\{\}"{}},}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ selector.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array_base_a259cb5a711406a8c3e5d937eb9350cca}{size}}(),\ num\_rows);}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ res-\/>reserve(num\_rows);}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ selector.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array_base_a259cb5a711406a8c3e5d937eb9350cca}{size}}();\ ++i)\ res-\/>insert\_from(*\textcolor{keyword}{this},\ selector[i]);}
\DoxyCodeLine{00138\ \ \ \ \ \}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a768ccb967dd746e0e1d5102cf1e532c9}{get\_extremes}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_field}{Field}}\&,\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_field}{Field}}\&)\textcolor{keyword}{\ const\ override\ }\{\}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a3360640cd5d755774e7993b73ccacf29}{addSize}}(\textcolor{keywordtype}{size\_t}\ delta)\ \{\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}}\ +=\ delta;\ \}}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_aa72e5d32eedb1605f8879edb4a44c121}{is\_dummy}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a1c5438468ea609b7bd8e1c83f17311ec}{replace\_column\_data}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column}{IColumn}}\&\ rhs,\ \textcolor{keywordtype}{size\_t}\ row,\ \textcolor{keywordtype}{size\_t}\ self\_row\ =\ 0)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ LOG(FATAL)\ <<\ \textcolor{stringliteral}{"{}should\ not\ call\ the\ method\ in\ column\ dummy"{}};}
\DoxyCodeLine{00148\ \ \ \ \ \}}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a4844d8d6b1af41f9f4b10647ec8730f3}{replace\_column\_data\_default}}(\textcolor{keywordtype}{size\_t}\ self\_row\ =\ 0)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ LOG(FATAL)\ <<\ \textcolor{stringliteral}{"{}should\ not\ call\ the\ method\ in\ column\ dummy"{}};}
\DoxyCodeLine{00152\ \ \ \ \ \}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column_dummy_a8b5bcd504368d3722f5e715f66383819}{s}};}
\DoxyCodeLine{00156\ \};}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \}\ \textcolor{comment}{//\ namespace\ doris::vectorized}}

\end{DoxyCode}
