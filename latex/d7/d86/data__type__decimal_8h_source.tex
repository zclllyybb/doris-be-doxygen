\hypertarget{data__type__decimal_8h_source}{}\doxysection{data\+\_\+type\+\_\+decimal.\+h}
\label{data__type__decimal_8h_source}\index{/Users/dabowang/doris/be/src/vec/data\_types/data\_type\_decimal.h@{/Users/dabowang/doris/be/src/vec/data\_types/data\_type\_decimal.h}}
\mbox{\hyperlink{data__type__decimal_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ \textcolor{comment}{//\ This\ file\ is\ copied\ from}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ https://github.com/ClickHouse/ClickHouse/blob/master/src/DataTypes/DataTypesDecimal.h}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ and\ modified\ by\ Doris}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <cmath>}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{common_2config_8h}{common/config.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{define__primitive__type_8h}{runtime/define\_primitive\_type.h}}"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{column__decimal_8h}{vec/columns/column\_decimal.h}}"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{arithmetic__overflow_8h}{vec/common/arithmetic\_overflow.h}}"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{typeid__cast_8h}{vec/common/typeid\_cast.h}}"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{vec_2core_2types_8h}{vec/core/types.h}}"{}}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{data__type_8h}{vec/data\_types/data\_type.h}}"{}}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{data__type__number_8h}{vec/data\_types/data\_type\_number.h}}"{}}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris_1_1vectorized}{doris::vectorized}}\ \{}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a84dc146691438d02e4058ea0cdd1db19}{min\_decimal\_precision}}()\ \{}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00038\ \}}
\DoxyCodeLine{00039\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00040\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a063363b8e8a66ba219bc1af408904104}{max\_decimal\_precision}}()\ \{}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00042\ \}}
\DoxyCodeLine{00043\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00044\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac1b8103faee970032433d20d4b02a540}{max\_decimal\_precision<Decimal32>}}()\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordflow}{return}\ 9;}
\DoxyCodeLine{00046\ \}}
\DoxyCodeLine{00047\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00048\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_af9afb521d5f0ebde174b71cb17d20f97}{max\_decimal\_precision<Decimal64>}}()\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordflow}{return}\ 18;}
\DoxyCodeLine{00050\ \}}
\DoxyCodeLine{00051\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00052\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a5cff254ec7496b115da93842ab00d06a}{max\_decimal\_precision<Decimal128>}}()\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordflow}{return}\ 38;}
\DoxyCodeLine{00054\ \}}
\DoxyCodeLine{00055\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00056\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a557dc08c75b722c1c824256b8b0708f1}{max\_decimal\_precision<Decimal128I>}}()\ \{}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordflow}{return}\ 38;}
\DoxyCodeLine{00058\ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00061\ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{typename}\ T::NativeType\ \mbox{\hyperlink{namespacedoris_1_1vectorized_ae09fd734dba01510e95c578bee4882d6}{max\_decimal\_value}}()\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00063\ \}}
\DoxyCodeLine{00064\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00065\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac524bdfeb5d781872485d9321c881920}{Int32}}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a36323fbfaeb3bfd3562b00020c24b0c0}{max\_decimal\_value<Decimal32>}}()\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordflow}{return}\ 999999999;}
\DoxyCodeLine{00067\ \}}
\DoxyCodeLine{00068\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00069\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a51b4c1b67123dbb4903672fa753e6dd1}{Int64}}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a229573aeda1eb7b900a767d5e5498de2}{max\_decimal\_value<Decimal64>}}()\ \{}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordflow}{return}\ 999999999999999999;}
\DoxyCodeLine{00071\ \}}
\DoxyCodeLine{00072\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00073\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_aeaa392671300adb30bdafd242ac2d21b}{Int128}}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a6f71d8b1708f79e820332cec3cbc8c61}{max\_decimal\_value<Decimal128>}}()\ \{}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacedoris_a811ec3b3c805bfd6b8ec302d59fc5a94}{int128\_t}}\textcolor{keyword}{>}(999999999999999999ll)\ *\ 100000000000000000ll\ *\ 1000ll\ +}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacedoris_a811ec3b3c805bfd6b8ec302d59fc5a94}{int128\_t}}\textcolor{keyword}{>}(99999999999999999ll)\ *\ 1000ll\ +\ 999ll;}
\DoxyCodeLine{00076\ \}}
\DoxyCodeLine{00077\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00078\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_aeaa392671300adb30bdafd242ac2d21b}{Int128}}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_ae5d819076efb3404787f8cccaf908131}{max\_decimal\_value<Decimal128I>}}()\ \{}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacedoris_a811ec3b3c805bfd6b8ec302d59fc5a94}{int128\_t}}\textcolor{keyword}{>}(999999999999999999ll)\ *\ 100000000000000000ll\ *\ 1000ll\ +}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacedoris_a811ec3b3c805bfd6b8ec302d59fc5a94}{int128\_t}}\textcolor{keyword}{>}(99999999999999999ll)\ *\ 1000ll\ +\ 999ll;}
\DoxyCodeLine{00081\ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a160d474c1487ffb0ca43c78931aedc2a}{DataTypePtr}}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a4d695185bb08659af526093f5fdafbeb}{create\_decimal}}(\mbox{\hyperlink{namespacedoris_a81586a76c764e2556f67139907fa5440}{UInt64}}\ precision,\ \mbox{\hyperlink{namespacedoris_a81586a76c764e2556f67139907fa5440}{UInt64}}\ scale,\ \textcolor{keywordtype}{bool}\ use\_v2);}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a3ed139802d3b85dcfbdabae5f23d491b}{least\_decimal\_precision\_for}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a927ff84d34a7989fb159d63d6b4eaf04}{TypeIndex}}\ int\_type)\ \{}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordflow}{switch}\ (int\_type)\ \{}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a927ff84d34a7989fb159d63d6b4eaf04a7d839b2c12bfd40ac121b4cc9e81c539}{TypeIndex::Int8}}:}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ [[fallthrough]];}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a927ff84d34a7989fb159d63d6b4eaf04ab31df9c476d20e85ff898121efe11b5a}{TypeIndex::UInt8}}:}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 3;}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a927ff84d34a7989fb159d63d6b4eaf04a39bc2ae44b184207f560ff8619823208}{TypeIndex::Int16}}:}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ [[fallthrough]];}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a927ff84d34a7989fb159d63d6b4eaf04a8bd950a9d7779b83f5c30046c9aaf1cf}{TypeIndex::UInt16}}:}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 5;}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a927ff84d34a7989fb159d63d6b4eaf04ac06129f6e6e15c09328365e553f1dc31}{TypeIndex::Int32}}:}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ [[fallthrough]];}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a927ff84d34a7989fb159d63d6b4eaf04ae7956ed7be1c5025a27ed3cb42a396bd}{TypeIndex::UInt32}}:}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 10;}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a927ff84d34a7989fb159d63d6b4eaf04afbde23b11d7e59af7828e81144c8b487}{TypeIndex::Int64}}:}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 19;}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a927ff84d34a7989fb159d63d6b4eaf04aaf71234725f0470ccf993e263a8b820a}{TypeIndex::UInt64}}:}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 20;}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00105\ \ \ \ \ \}}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00107\ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00117\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00118\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal}{DataTypeDecimal}}\ final\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_data_type}{IDataType}}\ \{}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keyword}{static\_assert}(IsDecimalNumber<T>);}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classdoris_1_1vectorized_1_1_column_decimal}{ColumnType}}\ =\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_column_decimal}{ColumnDecimal<T>}};}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_aa82a09ab52bb1320d4f21c4ac3a06d44}{FieldType}}\ =\ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}};}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a9abf66fad1b5c196d58eb13ccad5c000}{is\_parametric}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_aedfd2a6005a3debca1d7ca1d952f3451}{max\_precision}}()\ \{\ \textcolor{keywordflow}{return}\ max\_decimal\_precision<T>();\ \}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a9e26fc13b38a277d0b32716ed5ad5795}{DataTypeDecimal}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_af408027e7ee9320e4a46c6d1d69abcd9}{precision}}\ =\ 27,\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a262da5c8d2f458b571eb120a4c26985d}{scale}}\ =\ 9)\ :\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_af408027e7ee9320e4a46c6d1d69abcd9}{precision}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_af408027e7ee9320e4a46c6d1d69abcd9}{precision}}),\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a262da5c8d2f458b571eb120a4c26985d}{scale}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a262da5c8d2f458b571eb120a4c26985d}{scale}})\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{compiler__util_8h_a9acc330d508b9a3b775cfdf7ce405e7d}{UNLIKELY}}(precision\ <\ 1\ ||\ precision\ >\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_aedfd2a6005a3debca1d7ca1d952f3451}{max\_precision}}()))\ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ LOG(FATAL)\ <<\ fmt::format(\textcolor{stringliteral}{"{}Precision\ \{\}\ is\ out\ of\ bounds"{}},\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_af408027e7ee9320e4a46c6d1d69abcd9}{precision}});}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{compiler__util_8h_a9acc330d508b9a3b775cfdf7ce405e7d}{UNLIKELY}}(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\textcolor{keyword}{>}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a262da5c8d2f458b571eb120a4c26985d}{scale}})\ >\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_aedfd2a6005a3debca1d7ca1d952f3451}{max\_precision}}()))\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ LOG(FATAL)\ <<\ fmt::format(\textcolor{stringliteral}{"{}Scale\ \{\}\ is\ out\ of\ bounds"{}},\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a262da5c8d2f458b571eb120a4c26985d}{scale}});}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00137\ \ \ \ \ \}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a0eb24d3b9a4091e8a88b5907c59110c4}{DataTypeDecimal}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal}{DataTypeDecimal}}\&\ rhs)\ :\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_af408027e7ee9320e4a46c6d1d69abcd9}{precision}}(rhs.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_af408027e7ee9320e4a46c6d1d69abcd9}{precision}}),\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a262da5c8d2f458b571eb120a4c26985d}{scale}}(rhs.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a262da5c8d2f458b571eb120a4c26985d}{scale}})\ \{\}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ae209456cce0e0d51f2f42b25ad2a9674}{get\_family\_name}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Decimal"{}};\ \}}
\DoxyCodeLine{00142\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ae760fd5aef3a4a45a7f439f25706fc3a}{do\_get\_name}}()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00143\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a927ff84d34a7989fb159d63d6b4eaf04}{TypeIndex}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a5871157af4a6fe88e828e15cec28dc00}{get\_type\_id}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_type_id}{TypeId<T>::value}};\ \}}
\DoxyCodeLine{00144\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a240c1924416689e5700ff0d9f30539d9}{PrimitiveType}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a1cc3a081058a7a9ccff4f566a30cecda}{get\_type\_as\_primitive\_type}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same\_v<TypeId<T>,\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_type_id}{TypeId<Decimal32>}}>)\ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedoris_a240c1924416689e5700ff0d9f30539d9a449da3c1bac18ee97fa7c922330f1cc2}{TYPE\_DECIMAL32}};}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same\_v<TypeId<T>,\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_type_id}{TypeId<Decimal64>}}>)\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedoris_a240c1924416689e5700ff0d9f30539d9a530c228ef71cfba79bae20817da7c364}{TYPE\_DECIMAL64}};}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same\_v<TypeId<T>,\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_type_id}{TypeId<Decimal128I>}}>)\ \{}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedoris_a240c1924416689e5700ff0d9f30539d9ab1b6cc074010fcf6eddb346ffe994e8a}{TYPE\_DECIMAL128I}};}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \_\_builtin\_unreachable();}
\DoxyCodeLine{00155\ \ \ \ \ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ TPrimitiveType::type\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a798f97c60b00fabfd47460026772d563}{get\_type\_as\_tprimitive\_type}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same\_v<TypeId<T>,\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_type_id}{TypeId<Decimal32>}}>)\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ TPrimitiveType::DECIMAL32;}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same\_v<TypeId<T>,\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_type_id}{TypeId<Decimal64>}}>)\ \{}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ TPrimitiveType::DECIMAL64;}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same\_v<TypeId<T>,\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_type_id}{TypeId<Decimal128I>}}>)\ \{}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ TPrimitiveType::DECIMAL128I;}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \_\_builtin\_unreachable();}
\DoxyCodeLine{00168\ \ \ \ \ \}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_aa0500604b29900f905e95cf1dca8d5a7}{get\_uncompressed\_serialized\_bytes}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column}{IColumn}}\&\ column,}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ be\_exec\_version)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ae06039564a24313ff22f28bd0a0e43db}{serialize}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column}{IColumn}}\&\ column,\ \textcolor{keywordtype}{char}*\ buf,\ \textcolor{keywordtype}{int}\ be\_exec\_version)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a50e282b5a8f38b0e27a8958853da3441}{deserialize}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ buf,\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column}{IColumn}}*\ column,\ \textcolor{keywordtype}{int}\ be\_exec\_version)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad8bd2ebc01890ba42f0cae99421fe0b7}{to\_pb\_column\_meta}}(PColumnMeta*\ col\_meta)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_field}{Field}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_afac95f348b27b5642cffae2c030f4a38}{get\_default}}()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a14e66552f1e70bf6f7843d846a4828b0}{can\_be\_promoted}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00179\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a160d474c1487ffb0ca43c78931aedc2a}{DataTypePtr}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a61b0d8754ad0ac50fd7dbc722a642327}{promote\_numeric\_type}}()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00180\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac01d3bf9792b1f5f19e8acb2a08553a3}{MutableColumnPtr}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3569bcf0893b5115cb9c086202ad8dba}{create\_column}}()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_aaeb0b08b5e7109010a7e963ddc559673}{equals}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_data_type}{IDataType}}\&\ rhs)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a7a49e0380cc3a2fe9c9ae3c730861549}{get\_is\_parametric}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad1f8d674bc0332b6f47c50344ad2ceb1}{have\_subtypes}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a57afcc051e59bfd7c79141fa1f98d100}{should\_align\_right\_in\_pretty\_formats}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ae441ed1af7b29eef2b610ea7c8d9aa66}{text\_can\_contain\_only\_valid\_utf8}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ae4b7b801561408762b8b56d1a8ebc764}{is\_comparable}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a946582ae0f7e471e4ef09cf290494b2a}{is\_value\_represented\_by\_number}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a309e1c3022ac9e699fd891993f613c31}{is\_value\_unambiguously\_represented\_in\_contiguous\_memory\_region}}()\textcolor{keyword}{\ const\ override\ }\{}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00191\ \ \ \ \ \}}
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a8a57fba227a2f455130d84ebcae4a5de}{have\_maximum\_size\_of\_value}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ab6db813f5b198c6156fa3581005564e9}{get\_size\_of\_value\_in\_memory}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}});\ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a0f5d2bc71cbf1be5ce604ac58408a43c}{is\_summable}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a9b3077ffec5fb8e19b8f82d1b228f224}{can\_be\_used\_in\_boolean\_context}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad3526d71a4c880fb8776f81485fb9540}{can\_be\_inside\_nullable}}()\textcolor{keyword}{\ const\ override\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00198\ \ \ \ \ std::string\ \mbox{\hyperlink{decimal12_8h_aac993ecccd3d88aafefb6b8e3caa1dee}{to\_string}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column}{IColumn}}\&\ column,\ \textcolor{keywordtype}{size\_t}\ row\_num)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{decimal12_8h_aac993ecccd3d88aafefb6b8e3caa1dee}{to\_string}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column}{IColumn}}\&\ column,\ \textcolor{keywordtype}{size\_t}\ row\_num,\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_buffer_writable}{BufferWritable}}\&\ ostr)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00200\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_addc2f14dfe9e97776f648fc98004c6d0}{from\_string}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_read_buffer}{ReadBuffer}}\&\ rb,\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column}{IColumn}}*\ column)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad1d83014c48efcc463377c8f301efaac}{get\_precision}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_af408027e7ee9320e4a46c6d1d69abcd9}{precision}};\ \}}
\DoxyCodeLine{00205\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3a8b6e26009e3ff170ccd4d0f22f3759}{get\_scale}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a262da5c8d2f458b571eb120a4c26985d}{scale}};\ \}}
\DoxyCodeLine{00206\ \ \ \ \ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad81823a1b9892feecdd74ea96bd9f85f}{get\_scale\_multiplier}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad81823a1b9892feecdd74ea96bd9f85f}{get\_scale\_multiplier}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a262da5c8d2f458b571eb120a4c26985d}{scale}});\ \}}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \ \ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a98214aa87b68de31f788ec939579de36}{whole\_part}}(\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ x)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a262da5c8d2f458b571eb120a4c26985d}{scale}}\ ==\ 0)\ \textcolor{keywordflow}{return}\ x;}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ x\ /\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad81823a1b9892feecdd74ea96bd9f85f}{get\_scale\_multiplier}}();}
\DoxyCodeLine{00211\ \ \ \ \ \}}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \ \ \ \ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ac8089a81f015f78ad1bd65f64e59f887}{fractional\_part}}(\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ x)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a262da5c8d2f458b571eb120a4c26985d}{scale}}\ ==\ 0)\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (x\ <\ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}(0))\ x\ *=\ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}(-\/1);}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ x\ \%\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad81823a1b9892feecdd74ea96bd9f85f}{get\_scale\_multiplier}}();}
\DoxyCodeLine{00217\ \ \ \ \ \}}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \ \ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3d8f2059b58d3fa402379b8f509e8abd}{max\_whole\_value}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad81823a1b9892feecdd74ea96bd9f85f}{get\_scale\_multiplier}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_aedfd2a6005a3debca1d7ca1d952f3451}{max\_precision}}()\ -\/\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a262da5c8d2f458b571eb120a4c26985d}{scale}})\ -\/\ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}(1);\ \}}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3fae7e85f98cd2410bfab80393ec7c97}{can\_store\_whole}}(\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ x)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ max\ =\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3d8f2059b58d3fa402379b8f509e8abd}{max\_whole\_value}}();}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (x\ >\ max\ ||\ x\ <\ -\/max)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00225\ \ \ \ \ \}}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00228\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00229\ \ \ \ \ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a0db4e8d6d912ffdf349ae6b102ed8fcd}{scale\_factor\_for}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal}{DataTypeDecimal<U>}}\&\ x,\ \textcolor{keywordtype}{bool})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3a8b6e26009e3ff170ccd4d0f22f3759}{get\_scale}}()\ <\ x.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3a8b6e26009e3ff170ccd4d0f22f3759}{get\_scale}}())\ \{}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ LOG(FATAL)\ <<\ \textcolor{stringliteral}{"{}Decimal\ result's\ scale\ is\ less\ then\ argiment's\ one"{}};}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ scale\_delta\ =\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3a8b6e26009e3ff170ccd4d0f22f3759}{get\_scale}}()\ -\/\ x.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3a8b6e26009e3ff170ccd4d0f22f3759}{get\_scale}}();\ }
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad81823a1b9892feecdd74ea96bd9f85f}{get\_scale\_multiplier}}(scale\_delta);}
\DoxyCodeLine{00236\ \ \ \ \ \}}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00238\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00239\ \ \ \ \ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a7bd0f885f5c0e6f4cb7718b13aff8b6d}{scale\_factor\_for}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_number}{DataTypeNumber<U>}}\&,\ \textcolor{keywordtype}{bool}\ is\_multiply\_or\_divisor)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_multiply\_or\_divisor)\ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad81823a1b9892feecdd74ea96bd9f85f}{get\_scale\_multiplier}}();}
\DoxyCodeLine{00242\ \ \ \ \ \}}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a8207a54bfd69a86dd5e76080211a9857}{get\_scale\_multiplier}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a262da5c8d2f458b571eb120a4c26985d}{scale}});}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \ \ \ \ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_acdbe18269bdbb2adefe5ea6ab43416de}{parse\_from\_string}}(\textcolor{keyword}{const}\ std::string\&\ str)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_af408027e7ee9320e4a46c6d1d69abcd9}{precision}};}
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a262da5c8d2f458b571eb120a4c26985d}{scale}};}
\DoxyCodeLine{00251\ \};}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00254\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a160d474c1487ffb0ca43c78931aedc2a}{DataTypePtr}}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_aca4a40cf7898fcf4185e9c42ba9e2aba}{decimal\_result\_type}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal}{DataTypeDecimal<T>}}\&\ tx,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal}{DataTypeDecimal<U>}}\&\ ty,}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ is\_multiply,\ \textcolor{keywordtype}{bool}\ is\_divide,\ \textcolor{keywordtype}{bool}\ is\_plus\_minus)\ \{}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keyword}{using\ }Type\ =\ std::conditional\_t<\textcolor{keyword}{sizeof}(\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}})\ >=\ \textcolor{keyword}{sizeof}(U),\ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}},\ U>;}
\DoxyCodeLine{00257\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (IsDecimalV2<T>\ \&\&\ IsDecimalV2<U>)\ \{}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_shared<DataTypeDecimal<Type>>((max\_decimal\_precision<T>(),\ 9));}
\DoxyCodeLine{00259\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ scale\ =\ std::max(tx.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3a8b6e26009e3ff170ccd4d0f22f3759}{get\_scale}}(),\ ty.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3a8b6e26009e3ff170ccd4d0f22f3759}{get\_scale}}());}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ precision\ =\ max\_decimal\_precision<Type>();}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ multiply\_precision\ =\ tx.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad1d83014c48efcc463377c8f301efaac}{get\_precision}}()\ +\ ty.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad1d83014c48efcc463377c8f301efaac}{get\_precision}}();}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ divide\_precision\ =\ tx.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad1d83014c48efcc463377c8f301efaac}{get\_precision}}()\ +\ ty.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3a8b6e26009e3ff170ccd4d0f22f3759}{get\_scale}}();}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ plus\_minus\_precision\ =}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::max(tx.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad1d83014c48efcc463377c8f301efaac}{get\_precision}}()\ -\/\ tx.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3a8b6e26009e3ff170ccd4d0f22f3759}{get\_scale}}(),\ ty.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad1d83014c48efcc463377c8f301efaac}{get\_precision}}()\ -\/\ ty.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3a8b6e26009e3ff170ccd4d0f22f3759}{get\_scale}}())\ +}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scale\ +\ 1;}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_multiply)\ \{}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ scale\ =\ tx.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3a8b6e26009e3ff170ccd4d0f22f3759}{get\_scale}}()\ +\ ty.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3a8b6e26009e3ff170ccd4d0f22f3759}{get\_scale}}();}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ precision\ =\ std::min(multiply\_precision,\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a557dc08c75b722c1c824256b8b0708f1}{max\_decimal\_precision<Decimal128I>}}());}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (is\_divide)\ \{}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \ \ \ \ scale\ =\ tx.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_a3a8b6e26009e3ff170ccd4d0f22f3759}{get\_scale}}();}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \ \ \ \ precision\ =\ std::min(divide\_precision,\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a557dc08c75b722c1c824256b8b0708f1}{max\_decimal\_precision<Decimal128I>}}());}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (is\_plus\_minus)\ \{}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ precision\ =\ std::min(plus\_minus\_precision,\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a557dc08c75b722c1c824256b8b0708f1}{max\_decimal\_precision<Decimal128I>}}());}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a4d695185bb08659af526093f5fdafbeb}{create\_decimal}}(precision,\ scale,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00278\ \ \ \ \ \}}
\DoxyCodeLine{00279\ \}}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00281\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00282\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal}{DataTypeDecimal<T>}}*\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a2c9280b9fb9cd05da4bf0c4095dc85c1}{check\_decimal}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_data_type}{IDataType}}\&\ data\_type)\ \{}
\DoxyCodeLine{00283\ \ \ \ \ \textcolor{keywordflow}{return}\ typeid\_cast<const\ DataTypeDecimal<T>*>(\&data\_type);}
\DoxyCodeLine{00284\ \}}
\DoxyCodeLine{00285\ }
\DoxyCodeLine{00286\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a3ac79e44958173974b93a162cb4150ec}{get\_decimal\_scale}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_data_type}{IDataType}}\&\ data\_type,\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ default\_value\ =\ 0)\ \{}
\DoxyCodeLine{00287\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}*\ decimal\_type\ =\ check\_decimal<Decimal32>(data\_type))\ \textcolor{keywordflow}{return}\ decimal\_type-\/>get\_scale();}
\DoxyCodeLine{00288\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}*\ decimal\_type\ =\ check\_decimal<Decimal64>(data\_type))\ \textcolor{keywordflow}{return}\ decimal\_type-\/>get\_scale();}
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}*\ decimal\_type\ =\ check\_decimal<Decimal128>(data\_type))\ \textcolor{keywordflow}{return}\ decimal\_type-\/>get\_scale();}
\DoxyCodeLine{00290\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}*\ decimal\_type\ =\ check\_decimal<Decimal128I>(data\_type))}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ decimal\_type-\/>get\_scale();}
\DoxyCodeLine{00292\ \ \ \ \ \textcolor{keywordflow}{return}\ default\_value;}
\DoxyCodeLine{00293\ \}}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ DataType>}
\DoxyCodeLine{00298\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac96ac555ef68edda44a1f8f60e4141a9}{IsDataTypeDecimal}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00299\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00300\ \textcolor{keyword}{inline}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ IsDataTypeDecimal<DataTypeDecimal<Decimal32>>\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00301\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00302\ \textcolor{keyword}{inline}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ IsDataTypeDecimal<DataTypeDecimal<Decimal64>>\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00303\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00304\ \textcolor{keyword}{inline}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ IsDataTypeDecimal<DataTypeDecimal<Decimal128>>\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00305\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00306\ \textcolor{keyword}{inline}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ IsDataTypeDecimal<DataTypeDecimal<Decimal128I>>\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00308\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ DataType>}
\DoxyCodeLine{00309\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a0e88cd3d3fe171652f375ca1e482722c}{IsDataTypeDecimalV2}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00310\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00311\ \textcolor{keyword}{inline}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ IsDataTypeDecimalV2<DataTypeDecimal<Decimal128>>\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ DataType>}
\DoxyCodeLine{00314\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a968ffc65ef5b865004bfda1b071df192}{IsDataTypeDecimal128I}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00315\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00316\ \textcolor{keyword}{inline}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ IsDataTypeDecimal128I<DataTypeDecimal<Decimal128I>>\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ DataType>}
\DoxyCodeLine{00319\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a01e8bd6a2b4cb47670716f0d5cf8730f}{IsDataTypeDecimalOrNumber}}\ =}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ IsDataTypeDecimal<DataType>\ ||\ IsDataTypeNumber<DataType>;}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FromDataType,\ \textcolor{keyword}{typename}\ ToDataType>}
\DoxyCodeLine{00323\ std::enable\_if\_t<IsDataTypeDecimal<FromDataType>\ \&\&\ IsDataTypeDecimal<ToDataType>,}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ToDataType::FieldType>}
\DoxyCodeLine{00325\ \mbox{\hyperlink{namespacedoris_1_1vectorized_ae947ab6f607083e659f7114a4dde4722}{convert\_decimals}}(\textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ FromDataType::FieldType\&\ \mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}},\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ scale\_from,\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ scale\_to,}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac82f32fb6f16dbdc32cb4076004e63c4}{UInt8}}*\ overflow\_flag\ =\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00327\ \ \ \ \ \textcolor{keyword}{using\ }FromFieldType\ =\ \textcolor{keyword}{typename}\ FromDataType::FieldType;}
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{keyword}{using\ }ToFieldType\ =\ \textcolor{keyword}{typename}\ ToDataType::FieldType;}
\DoxyCodeLine{00329\ \ \ \ \ \textcolor{keyword}{using\ }MaxFieldType\ =}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ std::conditional\_t<(\textcolor{keyword}{sizeof}(FromFieldType)\ ==\ \textcolor{keyword}{sizeof}(ToFieldType))\ \&\&}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (std::is\_same\_v<ToFieldType,\ Decimal128I>\ ||}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same\_v<FromFieldType,\ Decimal128I>),}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_aca2d7dbd57a1629ee117821c916f5d4e}{Decimal128I}},}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::conditional\_t<(\textcolor{keyword}{sizeof}(FromFieldType)\ >\ \textcolor{keyword}{sizeof}(ToFieldType)),}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FromFieldType,\ ToFieldType>>;}
\DoxyCodeLine{00336\ \ \ \ \ \textcolor{keyword}{using\ }MaxNativeType\ =\ \textcolor{keyword}{typename}\ MaxFieldType::NativeType;}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \ \ \ \ MaxNativeType\ converted\_value;}
\DoxyCodeLine{00339\ \ \ \ \ \textcolor{keywordflow}{if}\ (scale\_to\ >\ scale\_from)\ \{}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ converted\_value\ =}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad81823a1b9892feecdd74ea96bd9f85f}{DataTypeDecimal<MaxFieldType>::get\_scale\_multiplier}}(scale\_to\ -\/\ scale\_from);}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacecommon_a530f0ffd228c8e975e077e8ba25848a2}{common::mul\_overflow}}(\textcolor{keyword}{static\_cast<}MaxNativeType\textcolor{keyword}{>}(\mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}}),\ converted\_value,}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ converted\_value))\ \{}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (overflow\_flag)\ \{}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *overflow\_flag\ =\ 1;}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logging_8h_afb41b3500177100b5debd414c1effc9e}{VLOG\_DEBUG}}\ <<\ \textcolor{stringliteral}{"{}Decimal\ convert\ overflow"{}};}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ converted\_value\ <\ 0}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ std::numeric\_limits<typename\ ToFieldType::NativeType>::min()}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<typename\ ToFieldType::NativeType>::max();}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00352\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ converted\_value\ =}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}}\ /\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad81823a1b9892feecdd74ea96bd9f85f}{DataTypeDecimal<MaxFieldType>::get\_scale\_multiplier}}(scale\_from\ -\/\ scale\_to);}
\DoxyCodeLine{00355\ \ \ \ \ \}}
\DoxyCodeLine{00356\ }
\DoxyCodeLine{00357\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (\textcolor{keyword}{sizeof}(FromFieldType)\ >\ \textcolor{keyword}{sizeof}(ToFieldType))\ \{}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (converted\_value\ <\ std::numeric\_limits<typename\ ToFieldType::NativeType>::min())\ \{}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (overflow\_flag)\ \{}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *overflow\_flag\ =\ 1;}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logging_8h_afb41b3500177100b5debd414c1effc9e}{VLOG\_DEBUG}}\ <<\ \textcolor{stringliteral}{"{}Decimal\ convert\ overflow"{}};}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<typename\ ToFieldType::NativeType>::min();}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (converted\_value\ >\ std::numeric\_limits<typename\ ToFieldType::NativeType>::max())\ \{}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (overflow\_flag)\ \{}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *overflow\_flag\ =\ 1;}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logging_8h_afb41b3500177100b5debd414c1effc9e}{VLOG\_DEBUG}}\ <<\ \textcolor{stringliteral}{"{}Decimal\ convert\ overflow"{}};}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<typename\ ToFieldType::NativeType>::max();}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00372\ \ \ \ \ \}}
\DoxyCodeLine{00373\ }
\DoxyCodeLine{00374\ \ \ \ \ \textcolor{keywordflow}{return}\ converted\_value;}
\DoxyCodeLine{00375\ \}}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FromDataType,\ \textcolor{keyword}{typename}\ ToDataType>}
\DoxyCodeLine{00378\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a51e340cc973ae696d72a8023fba80f33}{convert\_decimal\_cols}}(}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_column_decimal}{ColumnDecimal}}<}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ FromDataType::FieldType>::Container::value\_type*\ \_\_restrict\ vec\_from,}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_p_o_d_array_afb9ded5f49336ae503bb9f2035ea902b}{ColumnDecimal<typename\ ToDataType::FieldType>::Container::value\_type}}*\ vec\_to,}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ scale\_from,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ scale\_to,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ sz,}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac82f32fb6f16dbdc32cb4076004e63c4}{UInt8}}*\ overflow\_flag\ =\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00384\ \ \ \ \ \textcolor{keyword}{using\ }FromFieldType\ =\ \textcolor{keyword}{typename}\ FromDataType::FieldType;}
\DoxyCodeLine{00385\ \ \ \ \ \textcolor{keyword}{using\ }ToFieldType\ =\ \textcolor{keyword}{typename}\ ToDataType::FieldType;}
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{keyword}{using\ }MaxFieldType\ =}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ std::conditional\_t<(\textcolor{keyword}{sizeof}(FromFieldType)\ ==\ \textcolor{keyword}{sizeof}(ToFieldType))\ \&\&}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (std::is\_same\_v<ToFieldType,\ Decimal128I>\ ||}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_same\_v<FromFieldType,\ Decimal128I>),}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_aca2d7dbd57a1629ee117821c916f5d4e}{Decimal128I}},}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::conditional\_t<(\textcolor{keyword}{sizeof}(FromFieldType)\ >\ \textcolor{keyword}{sizeof}(ToFieldType)),}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FromFieldType,\ ToFieldType>>;}
\DoxyCodeLine{00393\ \ \ \ \ \textcolor{keyword}{using\ }MaxNativeType\ =\ \textcolor{keyword}{typename}\ MaxFieldType::NativeType;}
\DoxyCodeLine{00394\ }
\DoxyCodeLine{00395\ \ \ \ \ \textcolor{keywordflow}{if}\ (scale\_to\ >\ scale\_from)\ \{}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ MaxNativeType\ multiplier\ =}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad81823a1b9892feecdd74ea96bd9f85f}{DataTypeDecimal<MaxFieldType>::get\_scale\_multiplier}}(scale\_to\ -\/\ scale\_from);}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ MaxNativeType\ res;}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ sz;\ i++)\ \{}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::is\_same\_v<MaxNativeType,\ Int128>)\ \{}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacecommon_a530f0ffd228c8e975e077e8ba25848a2}{common::mul\_overflow}}(\textcolor{keyword}{static\_cast<}MaxNativeType\textcolor{keyword}{>}(vec\_from[i]),\ multiplier,}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ res))\ \{}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (overflow\_flag)\ \{}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ overflow\_flag[i]\ =\ 1;}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logging_8h_afb41b3500177100b5debd414c1effc9e}{VLOG\_DEBUG}}\ <<\ \textcolor{stringliteral}{"{}Decimal\ convert\ overflow"{}};}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vec\_to[i]\ =}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ res\ <\ 0\ ?\ std::numeric\_limits<typename\ ToFieldType::NativeType>::min()}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<typename\ ToFieldType::NativeType>::max();}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vec\_to[i]\ =\ res;}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vec\_to[i]\ =\ vec\_from[i]\ *\ multiplier;}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00417\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ MaxNativeType\ multiplier\ =}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_data_type_decimal_ad81823a1b9892feecdd74ea96bd9f85f}{DataTypeDecimal<MaxFieldType>::get\_scale\_multiplier}}(scale\_from\ -\/\ scale\_to);}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ sz;\ i++)\ \{}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \ \ vec\_to[i]\ =\ vec\_from[i]\ /\ multiplier;}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00423\ \ \ \ \ \}}
\DoxyCodeLine{00424\ }
\DoxyCodeLine{00425\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (\textcolor{keyword}{sizeof}(FromFieldType)\ >\ \textcolor{keyword}{sizeof}(ToFieldType))\ \{}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ sz;\ i++)\ \{}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (vec\_to[i]\ <\ std::numeric\_limits<typename\ ToFieldType::NativeType>::min())\ \{}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (overflow\_flag)\ \{}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *overflow\_flag\ =\ 1;}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logging_8h_afb41b3500177100b5debd414c1effc9e}{VLOG\_DEBUG}}\ <<\ \textcolor{stringliteral}{"{}Decimal\ convert\ overflow"{}};}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vec\_to[i]\ =\ std::numeric\_limits<typename\ ToFieldType::NativeType>::min();}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (vec\_to[i]\ >\ std::numeric\_limits<typename\ ToFieldType::NativeType>::max())\ \{}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (overflow\_flag)\ \{}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *overflow\_flag\ =\ 1;}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logging_8h_afb41b3500177100b5debd414c1effc9e}{VLOG\_DEBUG}}\ <<\ \textcolor{stringliteral}{"{}Decimal\ convert\ overflow"{}};}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vec\_to[i]\ =\ std::numeric\_limits<typename\ ToFieldType::NativeType>::max();}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00442\ \ \ \ \ \}}
\DoxyCodeLine{00443\ \}}
\DoxyCodeLine{00444\ }
\DoxyCodeLine{00445\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FromDataType,\ \textcolor{keyword}{typename}\ ToDataType>}
\DoxyCodeLine{00446\ std::enable\_if\_t<IsDataTypeDecimal<FromDataType>\ \&\&\ IsDataTypeNumber<ToDataType>,}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ToDataType::FieldType>}
\DoxyCodeLine{00448\ \mbox{\hyperlink{namespacedoris_1_1vectorized_aa755c15097cbff446f69b195c6810e58}{convert\_from\_decimal}}(\textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ FromDataType::FieldType\&\ \mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}},\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ scale)\ \{}
\DoxyCodeLine{00449\ \ \ \ \ \textcolor{keyword}{using\ }FromFieldType\ =\ \textcolor{keyword}{typename}\ FromDataType::FieldType;}
\DoxyCodeLine{00450\ \ \ \ \ \textcolor{keyword}{using\ }ToFieldType\ =\ \textcolor{keyword}{typename}\ ToDataType::FieldType;}
\DoxyCodeLine{00451\ }
\DoxyCodeLine{00452\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_floating\_point\_v<ToFieldType>)\ \{}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (IsDecimalV2<FromFieldType>)\ \{}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ binary\_cast<int128\_t,\ DecimalV2Value>(\mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}});}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}ToFieldType\textcolor{keyword}{>}(\mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}})\ /\ FromDataType::get\_scale\_multiplier(scale);}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00458\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ FromFieldType\ converted\_value\ =}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ convert\_decimals<FromDataType,\ FromDataType>(\mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}},\ scale,\ 0);}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (\textcolor{keyword}{sizeof}(FromFieldType)\ >\ \textcolor{keyword}{sizeof}(ToFieldType)\ ||}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !std::numeric\_limits<ToFieldType>::is\_signed)\ \{}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::numeric\_limits<ToFieldType>::is\_signed)\ \{}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (converted\_value\ <\ std::numeric\_limits<ToFieldType>::min())\ \{}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logging_8h_afb41b3500177100b5debd414c1effc9e}{VLOG\_DEBUG}}\ <<\ \textcolor{stringliteral}{"{}Decimal\ convert\ overflow"{}};}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<ToFieldType>::min();}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (converted\_value\ >\ std::numeric\_limits<ToFieldType>::max())\ \{}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logging_8h_afb41b3500177100b5debd414c1effc9e}{VLOG\_DEBUG}}\ <<\ \textcolor{stringliteral}{"{}Decimal\ convert\ overflow"{}};}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<ToFieldType>::max();}
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }CastIntType\ =}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::conditional\_t<std::is\_same\_v<ToFieldType,\ UInt64>,\ \mbox{\hyperlink{namespacedoris_1_1vectorized_aeaa392671300adb30bdafd242ac2d21b}{Int128}},\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a51b4c1b67123dbb4903672fa753e6dd1}{Int64}}>;}
\DoxyCodeLine{00476\ }
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (converted\_value\ <\ 0\ ||}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ converted\_value\ >}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}CastIntType\textcolor{keyword}{>}(std::numeric\_limits<ToFieldType>::max()))\ \{}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logging_8h_afb41b3500177100b5debd414c1effc9e}{VLOG\_DEBUG}}\ <<\ \textcolor{stringliteral}{"{}Decimal\ convert\ overflow"{}};}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<ToFieldType>::max();}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ converted\_value;}
\DoxyCodeLine{00486\ \ \ \ \ \}}
\DoxyCodeLine{00487\ \}}
\DoxyCodeLine{00488\ }
\DoxyCodeLine{00489\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FromDataType,\ \textcolor{keyword}{typename}\ ToDataType>}
\DoxyCodeLine{00490\ std::enable\_if\_t<IsDataTypeNumber<FromDataType>\ \&\&\ IsDataTypeDecimal<ToDataType>,}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ToDataType::FieldType>}
\DoxyCodeLine{00492\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a22ddff412d4d42d6507488470fb2c7a1}{convert\_to\_decimal}}(\textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ FromDataType::FieldType\&\ \mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}},\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ scale,}
\DoxyCodeLine{00493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_ac82f32fb6f16dbdc32cb4076004e63c4}{UInt8}}*\ overflow\_flag)\ \{}
\DoxyCodeLine{00494\ \ \ \ \ \textcolor{keyword}{using\ }FromFieldType\ =\ \textcolor{keyword}{typename}\ FromDataType::FieldType;}
\DoxyCodeLine{00495\ \ \ \ \ \textcolor{keyword}{using\ }ToNativeType\ =\ \textcolor{keyword}{typename}\ ToDataType::FieldType::NativeType;}
\DoxyCodeLine{00496\ }
\DoxyCodeLine{00497\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_floating\_point\_v<FromFieldType>)\ \{}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!std::isfinite(\mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}}))\ \{}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (overflow\_flag)\ \{}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *overflow\_flag\ =\ 1;}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logging_8h_afb41b3500177100b5debd414c1effc9e}{VLOG\_DEBUG}}\ <<\ \textcolor{stringliteral}{"{}Decimal\ convert\ overflow.\ Cannot\ convert\ infinity\ or\ NaN\ to\ decimal"{}};}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ value\ <\ 0\ ?\ std::numeric\_limits<ToNativeType>::min()}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<ToNativeType>::max();}
\DoxyCodeLine{00505\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00506\ }
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ FromFieldType\ out;}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ out\ =\ \mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}}\ *\ ToDataType::get\_scale\_multiplier(scale);}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (out\ <=\ \textcolor{keyword}{static\_cast<}FromFieldType\textcolor{keyword}{>}(std::numeric\_limits<ToNativeType>::min()))\ \{}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (overflow\_flag)\ \{}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *overflow\_flag\ =\ 1;}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00513\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logging_8h_afb41b3500177100b5debd414c1effc9e}{VLOG\_DEBUG}}\ <<\ \textcolor{stringliteral}{"{}Decimal\ convert\ overflow.\ Float\ is\ out\ of\ Decimal\ range"{}};}
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<ToNativeType>::min();}
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (out\ >=\ \textcolor{keyword}{static\_cast<}FromFieldType\textcolor{keyword}{>}(std::numeric\_limits<ToNativeType>::max()))\ \{}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (overflow\_flag)\ \{}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *overflow\_flag\ =\ 1;}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logging_8h_afb41b3500177100b5debd414c1effc9e}{VLOG\_DEBUG}}\ <<\ \textcolor{stringliteral}{"{}Decimal\ convert\ overflow.\ Float\ is\ out\ of\ Decimal\ range"{}};}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::numeric\_limits<ToNativeType>::max();}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{00524\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_same\_v<FromFieldType,\ UInt64>)\ \{}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}}\ >\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\textcolor{keyword}{>}(std::numeric\_limits<Int64>::max()))\ \{}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ convert\_decimals<DataTypeDecimal<Decimal128>,\ ToDataType>(\mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}},\ 0,\ scale);}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ convert\_decimals<DataTypeDecimal<Decimal64>,\ ToDataType>(\mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}},\ 0,\ scale);}
\DoxyCodeLine{00531\ \ \ \ \ \}}
\DoxyCodeLine{00532\ \}}
\DoxyCodeLine{00533\ }
\DoxyCodeLine{00534\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00535\ \textcolor{keyword}{typename}\ T::NativeType\ \mbox{\hyperlink{namespacedoris_1_1vectorized_ae09fd734dba01510e95c578bee4882d6}{max\_decimal\_value}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ precision);}
\DoxyCodeLine{00536\ }
\DoxyCodeLine{00537\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00538\ \textcolor{keyword}{typename}\ T::NativeType\ \mbox{\hyperlink{namespacedoris_1_1vectorized_ae96fc01999cf82b05baf525eb166a40e}{min\_decimal\_value}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a16bda7e33183fb876dbb944cbb556702}{UInt32}}\ precision);}
\DoxyCodeLine{00539\ }
\DoxyCodeLine{00540\ \}\ \textcolor{comment}{//\ namespace\ doris::vectorized}}

\end{DoxyCode}
