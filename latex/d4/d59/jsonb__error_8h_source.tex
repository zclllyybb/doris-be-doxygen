\hypertarget{jsonb__error_8h_source}{}\doxysection{jsonb\+\_\+error.\+h}
\label{jsonb__error_8h_source}\index{/Users/dabowang/be\_all/util/jsonb\_error.h@{/Users/dabowang/be\_all/util/jsonb\_error.h}}
\mbox{\hyperlink{jsonb__error_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ \ Copyright\ (c)\ 2014,\ Facebook,\ Inc.}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ \ All\ rights\ reserved.}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ \ This\ source\ code\ is\ licensed\ under\ the\ BSD-\/style\ license\ found\ in\ the}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *\ \ LICENSE\ file\ in\ the\ root\ directory\ of\ this\ source\ tree.\ An\ additional\ grant}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ \ of\ patent\ rights\ can\ be\ found\ in\ the\ PATENTS\ file\ in\ the\ same\ directory.}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ \ this\ file\ is\ copied\ from\ }}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ \ https://github.com/facebook/mysql-\/5.6/blob/fb-\/mysql-\/5.6.35/fbson/FbsonError.h}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *\ \ and\ modified\ by\ Doris}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifndef\ JSONB\_JSONBERROR\_H}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ JSONB\_JSONBERROR\_H}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris}{doris}}\ \{}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{comment}{/*}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ Error\ codes}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ *\ When\ adding\ a\ new\ error\ code,\ you\ also\ must\ add\ a\ corresponding\ error}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ *\ message\ in\ JsonbErrMsg::getErrMsg()}}
\DoxyCodeLine{00026\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00027\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000}{JsonbErrType}}\ \{}
\DoxyCodeLine{00028\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a60880a7ff476d1de07c31261d81d4100}{E\_NONE}}\ =\ 0,}
\DoxyCodeLine{00029\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a105fe4d85e95bbcae6513ee7cf724344}{E\_INVALID\_VER}},}
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a4dc2155d703840e9ce110d1e69ede7b7}{E\_EMPTY\_DOCUMENT}},}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a689bda2239faf95eac5504dede120a4b}{E\_OUTPUT\_FAIL}},}
\DoxyCodeLine{00032\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a00f8f6c697ed099062dd601509c2983f}{E\_INVALID\_DOCU}},}
\DoxyCodeLine{00033\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a592c76c16ebc325610364c8fa0217794}{E\_INVALID\_TYPE}},}
\DoxyCodeLine{00034\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a857fac620aadaf799dc4dbb60bd2f58e}{E\_INVALID\_SCALAR\_VALUE}},}
\DoxyCodeLine{00035\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a39ac4da080a4c33b21b1eed8aee676e2}{E\_INVALID\_KEY\_STRING}},}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000afd9bce38f1341a8793790cedd0f12628}{E\_INVALID\_KEY\_LENGTH}},}
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a10e77263726e1f1024288f3383e98701}{E\_INVALID\_STR}},}
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a007c74e43b423704e03054bfca6c3db0}{E\_INVALID\_OBJ}},}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a71bb6600a1773d1ebfebe18c6268c58e}{E\_INVALID\_ARR}},}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000aedfc8fa1e720f3a786f7d14cd3d9445e}{E\_INVALID\_NUMBER}},}
\DoxyCodeLine{00041\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a4417d907f23c25a4b043d3e42f715167}{E\_INVALID\_HEX}},}
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a9052e9ee34d20f1aaa474119c0cad2a1}{E\_INVALID\_OCTAL}},}
\DoxyCodeLine{00043\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a747005401d93f1dca952aca128f8b373}{E\_INVALID\_DECIMAL}},}
\DoxyCodeLine{00044\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a52bcbf0d8dd311ee7f277714692aafbe}{E\_INVALID\_EXPONENT}},}
\DoxyCodeLine{00045\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a2d7b3c05c3c9101feadc292b2a2e93c7}{E\_HEX\_OVERFLOW}},}
\DoxyCodeLine{00046\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a00c2a0a38c92ec51728733c47984ee50}{E\_OCTAL\_OVERFLOW}},}
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000ac79ec1b0c1550bc86df1634afdf4e319}{E\_DECIMAL\_OVERFLOW}},}
\DoxyCodeLine{00048\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a117abcf05c971c8802710de8954d8004}{E\_DOUBLE\_OVERFLOW}},}
\DoxyCodeLine{00049\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000ac66e2b8a6b3b05a318f396dfb2ac7ad8}{E\_OUTOFMEMORY}},}
\DoxyCodeLine{00050\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000aa7378195cba5164d93eb119a9ea7c898}{E\_OUTOFBOUNDARY}},}
\DoxyCodeLine{00051\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a312c74badfbec0dca6c25a0d761e6486}{E\_KEYNOTEXIST}},}
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000ac797c32fbf0e08675de810be79988a1e}{E\_NOTARRAY}},}
\DoxyCodeLine{00053\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000aa72bdb08a7e98d4287e9fda196fe5e2e}{E\_NOTOBJ}},}
\DoxyCodeLine{00054\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a9445bf231942c2bdd284553744cebd6c}{E\_INVALID\_OPER}},}
\DoxyCodeLine{00055\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000ae7ecdb66083c43fccd4b1a81b4b4c274}{E\_INVALID\_JSONB\_OBJ}},}
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a53f1fec215a54315b07a11852f5e1bdc}{E\_NESTING\_LVL\_OVERFLOW}},}
\DoxyCodeLine{00057\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000aceed686e18680e2cf56378d7887827f5}{E\_INVALID\_DOCU\_COMPAT}},}
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000aceac92e50163848733e8aafce144b550}{E\_EXCEPTION}},}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{comment}{//\ new\ error\ code\ should\ always\ be\ added\ above}}
\DoxyCodeLine{00061\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a5e2e4b0d1596ff500d50be53de535850}{E\_NUM\_ERRORS}}}
\DoxyCodeLine{00062\ \};}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \textcolor{comment}{/*}}
\DoxyCodeLine{00065\ \textcolor{comment}{\ *\ Error\ messages}}
\DoxyCodeLine{00066\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00067\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_jsonb_err_msg}{JsonbErrMsg}}\ \{}
\DoxyCodeLine{00068\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classdoris_1_1_jsonb_err_msg_abe9ff93caa67a18a7aeead23481f16df}{getErrMsg}}(\mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000}{JsonbErrType}}\ err\_code)\ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{classdoris_1_1_jsonb_err_msg_a6721d749f13ac3469ce8792168240a7f}{err\_msg\_}})\ /\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}*)\ ==\ (unsigned)\mbox{\hyperlink{namespacedoris_a2473630e7241377e8d5557fa9a866000a5e2e4b0d1596ff500d50be53de535850}{JsonbErrType::E\_NUM\_ERRORS}}\ +\ 1,}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}JsonbErrMsg::err\_msg\_\ array\ doesn't\ match\ the\ number\ of\ error\ types"{}});}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_jsonb_err_msg_a6721d749f13ac3469ce8792168240a7f}{err\_msg\_}}[(unsigned)err\_code];}
\DoxyCodeLine{00074\ \ \ \ \ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{char}*\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_jsonb_err_msg_a6721d749f13ac3469ce8792168240a7f}{err\_msg\_}}[]\ =\ \{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}OK"{}},\ \textcolor{comment}{/*\ E\_NONE\ */}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ document\ version"{}},}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Empty\ document"{}},}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fatal\ error\ in\ writing\ JSONB"{}},}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ document"{}},}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ json\ value\ type"{}},}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ scalar\ value"{}},}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ key\ string"{}},}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Key\ length\ exceeds\ maximum\ size\ allowed\ (64\ bytes)"{}},}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ string\ value"{}},}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ JSON\ object"{}},}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ JSON\ array"{}},}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ number"{}},}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ HEX\ number"{}},}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ octal\ number"{}},}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ decimal\ number"{}},}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ exponent\ part\ of\ a\ number\ value"{}},}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}HEX\ number\ overflow"{}},}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Octal\ number\ overflow"{}},}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Decimal\ number\ overflow"{}},}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Double\ number\ overflow"{}},}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Fatal\ error:\ out\ of\ memory"{}},}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Out\ of\ array\ boundary"{}},}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Key\ not\ found"{}},}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Not\ a\ JSON\ array\ value"{}},}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Not\ a\ JSON\ object\ value"{}},}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ update\ operation"{}},}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ JSONB\ object\ (internal)"{}},}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Object\ or\ array\ has\ too\ many\ nesting\ levels"{}},}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Invalid\ document"{}},}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Exception\ throwed"{}},}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{nullptr}\ \textcolor{comment}{/*\ E\_NUM\_ERRORS\ */}}
\DoxyCodeLine{00112\ \ \ \ \ \};}
\DoxyCodeLine{00113\ \};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \textcolor{comment}{/*}}
\DoxyCodeLine{00116\ \textcolor{comment}{\ *\ Error\ Info\ contains\ position\ and\ message\ of\ the\ error}}
\DoxyCodeLine{00117\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00118\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_jsonb_err_info}{JsonbErrInfo}}\ \{}
\DoxyCodeLine{00119\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00120\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_jsonb_err_info_a807d06c9ecf989fcb5b2f8749a7d420a}{err\_pos}};}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classdoris_1_1_jsonb_err_info_a6397826b44f9ce0de3b7c6895e9dc4f8}{err\_msg}};}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_jsonb_err_info_a2f3205aa3d68c96217e85899e052d3dd}{JsonbErrInfo}}()\ :\ \mbox{\hyperlink{classdoris_1_1_jsonb_err_info_a807d06c9ecf989fcb5b2f8749a7d420a}{err\_pos}}(0),\ \mbox{\hyperlink{classdoris_1_1_jsonb_err_info_a6397826b44f9ce0de3b7c6895e9dc4f8}{err\_msg}}(nullptr)\ \{\}}
\DoxyCodeLine{00124\ \};}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \}\ \textcolor{comment}{//\ namespace\ doris}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ JSONB\_JSONBERROR\_H}}

\end{DoxyCode}
