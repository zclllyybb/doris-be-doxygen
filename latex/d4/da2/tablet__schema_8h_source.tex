\hypertarget{tablet__schema_8h_source}{}\doxysection{tablet\+\_\+schema.\+h}
\label{tablet__schema_8h_source}\index{/Users/dabowang/be\_all/olap/tablet\_schema.h@{/Users/dabowang/be\_all/olap/tablet\_schema.h}}
\mbox{\hyperlink{tablet__schema_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}gen\_cpp/olap\_file.pb.h"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}gen\_cpp/segment\_v2.pb.h"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{olap__define_8h}{olap/olap\_define.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{olap_2types_8h}{olap/types.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{aggregate__function_8h}{vec/aggregate\_functions/aggregate\_function.h}}"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{data__type_8h}{vec/data\_types/data\_type.h}}"{}}}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris}{doris}}\ \{}
\DoxyCodeLine{00030\ \textcolor{keyword}{namespace\ }vectorized\ \{}
\DoxyCodeLine{00031\ \textcolor{keyword}{class\ }Block;}
\DoxyCodeLine{00032\ \}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{struct\ }OlapTableIndexSchema;}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\ \{}
\DoxyCodeLine{00037\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_tablet_column_af48637c228f09d5372a969daf55bac2b}{TabletColumn}}();}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_tablet_column_af48637c228f09d5372a969daf55bac2b}{TabletColumn}}(\textcolor{keyword}{const}\ ColumnPB\&\ column);}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_tablet_column_af48637c228f09d5372a969daf55bac2b}{TabletColumn}}(\textcolor{keyword}{const}\ TColumn\&\ column);}
\DoxyCodeLine{00041\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_tablet_column_af48637c228f09d5372a969daf55bac2b}{TabletColumn}}(\mbox{\hyperlink{namespacedoris_aecc8ed602aa2086ab58fae12e354babd}{FieldAggregationMethod}}\ agg,\ \mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1da}{FieldType}}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a29dc1ff17f4954924eab0c091400af77}{type}});}
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_tablet_column_af48637c228f09d5372a969daf55bac2b}{TabletColumn}}(\mbox{\hyperlink{namespacedoris_aecc8ed602aa2086ab58fae12e354babd}{FieldAggregationMethod}}\ agg,\ \mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1da}{FieldType}}\ filed\_type,\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a383b4bf9fa5747435372f741fd1747f3}{is\_nullable}});}
\DoxyCodeLine{00043\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_tablet_column_af48637c228f09d5372a969daf55bac2b}{TabletColumn}}(\mbox{\hyperlink{namespacedoris_aecc8ed602aa2086ab58fae12e354babd}{FieldAggregationMethod}}\ agg,\ \mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1da}{FieldType}}\ filed\_type,\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a383b4bf9fa5747435372f741fd1747f3}{is\_nullable}},}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a35f8b8faec87048cd5072a673e911fd4}{unique\_id}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a71beef478599935add531a7866ad9908}{length}});}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a6158e6093d6b46e19952cf0369734f7a}{init\_from\_pb}}(\textcolor{keyword}{const}\ ColumnPB\&\ column);}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a88add8c8c06fffecdd3f4d23d738506e}{init\_from\_thrift}}(\textcolor{keyword}{const}\ TColumn\&\ column);}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a32063a0e98835ec2caa4bb9db30ce532}{to\_schema\_pb}}(ColumnPB*\ column)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a35f8b8faec87048cd5072a673e911fd4}{unique\_id}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a491f7adaba8a36d2c65504d1081837fa}{\_unique\_id}};\ \}}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a25ada72e97e7f87cda64e3164b63dd44}{set\_unique\_id}}(int32\_t\ \textcolor{keywordtype}{id})\ \{\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a491f7adaba8a36d2c65504d1081837fa}{\_unique\_id}}\ =\ id;\ \}}
\DoxyCodeLine{00051\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a1d89c28bd42ba9a52da008bb69367171}{name}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a3d0d97aaf66c9b534846adf83b44346f}{\_col\_name}};\ \}}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a8c813969491a8e7ad0b883e3135b84c6}{set\_name}}(std::string\ col\_name)\ \{\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a3d0d97aaf66c9b534846adf83b44346f}{\_col\_name}}\ =\ col\_name;\ \}}
\DoxyCodeLine{00053\ \ \ \ \ \mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1da}{FieldType}}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a29dc1ff17f4954924eab0c091400af77}{type}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a3ad8c54a4366e4165111e969c4bdb44d}{\_type}};\ \}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_ac9c5c5978e8ab56fed1b8729848aef3a}{set\_type}}(\mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1da}{FieldType}}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a29dc1ff17f4954924eab0c091400af77}{type}})\ \{\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a3ad8c54a4366e4165111e969c4bdb44d}{\_type}}\ =\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a29dc1ff17f4954924eab0c091400af77}{type}};\ \}}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_ad35228f8108d669591b071a8ba4f254f}{is\_key}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a8258b9beb061ad42026fd07251e3dc8b}{\_is\_key}};\ \}}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a383b4bf9fa5747435372f741fd1747f3}{is\_nullable}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a1a279717e7cbd0fd2f8ef16a2c82ce98}{\_is\_nullable}};\ \}}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a4e0f09f72fa646aa5efd3401beabba39}{is\_bf\_column}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a53223fdde47247df4ffb31622701984a}{\_is\_bf\_column}};\ \}}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_aabf80b702bf2286e295a897c285d3156}{has\_bitmap\_index}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_af3526134e41a3e48c5c573e74e833170}{\_has\_bitmap\_index}};\ \}}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a159a7105e668428f99419cf1ba7b0e87}{is\_array\_type}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a3ad8c54a4366e4165111e969c4bdb44d}{\_type}}\ ==\ \mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1daad9fc0555ceaf91bfc1814426a02b696b}{OLAP\_FIELD\_TYPE\_ARRAY}};\ \}}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_aefaad0279fe55433bb55bf0d59319649}{is\_length\_variable\_type}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a3ad8c54a4366e4165111e969c4bdb44d}{\_type}}\ ==\ \mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1daa9617b640db17fdbfdd8fb871e30dd3bd}{OLAP\_FIELD\_TYPE\_CHAR}}\ ||\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a3ad8c54a4366e4165111e969c4bdb44d}{\_type}}\ ==\ \mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1daae6974dbd443985ccd653599ed8101e25}{OLAP\_FIELD\_TYPE\_VARCHAR}}\ ||}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_tablet_column_a3ad8c54a4366e4165111e969c4bdb44d}{\_type}}\ ==\ \mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1daa81695ed4681aa3d0f2e70b2634f9f134}{OLAP\_FIELD\_TYPE\_STRING}}\ ||\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a3ad8c54a4366e4165111e969c4bdb44d}{\_type}}\ ==\ \mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1daa7391b8beefeff9114fc57aac946266e4}{OLAP\_FIELD\_TYPE\_HLL}}\ ||}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_tablet_column_a3ad8c54a4366e4165111e969c4bdb44d}{\_type}}\ ==\ \mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1daac9128924f73602e77682501f11329af4}{OLAP\_FIELD\_TYPE\_OBJECT}}\ ||\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a3ad8c54a4366e4165111e969c4bdb44d}{\_type}}\ ==\ \mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1daac076551385c29cb3228fc3fa46445958}{OLAP\_FIELD\_TYPE\_QUANTILE\_STATE}};}
\DoxyCodeLine{00064\ \ \ \ \ \}}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_ab25b24fd6d058b343e28f8fc070758a3}{has\_default\_value}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_ae9b0d086f199f927d34b8634c0738463}{\_has\_default\_value}};\ \}}
\DoxyCodeLine{00066\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a8c3f5d455860f83a804851cf04fdccd3}{default\_value}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a5de1142554d537e1418f043d24ab15d6}{\_default\_value}};\ \}}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a71beef478599935add531a7866ad9908}{length}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a4089789067a9541380b9ecd0e8a195cf}{\_length}};\ \}}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a6da4d6edad16dba1b05b73e7454fa997}{index\_length}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_ad64e5f0e48b8932c4ebf986e530734ea}{\_index\_length}};\ \}}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a4eef84ae9251b4f5e7300f948220a502}{set\_index\_length}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a6da4d6edad16dba1b05b73e7454fa997}{index\_length}})\ \{\ \mbox{\hyperlink{classdoris_1_1_tablet_column_ad64e5f0e48b8932c4ebf986e530734ea}{\_index\_length}}\ =\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a6da4d6edad16dba1b05b73e7454fa997}{index\_length}};\ \}}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a942efd0cc48caa56316e32074a478e27}{set\_is\_key}}(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_ad35228f8108d669591b071a8ba4f254f}{is\_key}})\ \{\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a8258b9beb061ad42026fd07251e3dc8b}{\_is\_key}}\ =\ \mbox{\hyperlink{classdoris_1_1_tablet_column_ad35228f8108d669591b071a8ba4f254f}{is\_key}};\ \}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a8f7dcaecef544d7e872f8fbb37540168}{set\_is\_nullable}}(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a383b4bf9fa5747435372f741fd1747f3}{is\_nullable}})\ \{\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a1a279717e7cbd0fd2f8ef16a2c82ce98}{\_is\_nullable}}\ =\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a383b4bf9fa5747435372f741fd1747f3}{is\_nullable}};\ \}}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a329f3b6933b1308122ebc10ebfe48803}{set\_has\_default\_value}}(\textcolor{keywordtype}{bool}\ has)\ \{\ \mbox{\hyperlink{classdoris_1_1_tablet_column_ae9b0d086f199f927d34b8634c0738463}{\_has\_default\_value}}\ =\ has;\ \}}
\DoxyCodeLine{00073\ \ \ \ \ \mbox{\hyperlink{namespacedoris_aecc8ed602aa2086ab58fae12e354babd}{FieldAggregationMethod}}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a6d71c7a4cda55f7fef5ca07603afa3d7}{aggregation}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a03aa3dd9cd08f3664ccd56556ee14862}{\_aggregation}};\ \}}
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a3f3eb346db14f97f4f56c38a29918ad6}{vectorized::AggregateFunctionPtr}}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_ab3ff41fb61a9f6baebb0f701ef739fb0}{get\_aggregate\_function}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a8af1a73e445f52cef52b8d3c12fed85e}{vectorized::DataTypes}}\ argument\_types,}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ suffix)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a74bc37758ffb63d86025a0ca596e9039}{precision}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a27f26911ea985c9457794f127989664b}{\_precision}};\ \}}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a581f30b54f3ef6173c023f469d7ff225}{frac}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a2dadf2d044791f112f158844457acbcc}{\_frac}};\ \}}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a248194586da7714dde811e0baf33b441}{visible}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a9312c72508471b7c7a87b540263e1af4}{\_visible}};\ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_adefe64fbe411d22fa068d3c4b3b50344}{set\_aggregation\_method}}(\mbox{\hyperlink{namespacedoris_aecc8ed602aa2086ab58fae12e354babd}{FieldAggregationMethod}}\ agg)\ \{\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a03aa3dd9cd08f3664ccd56556ee14862}{\_aggregation}}\ =\ agg;\ \}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a49b79d1a6cee4cd14962c4c5412cc8d4}{add\_sub\_column}}(\mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\&\ sub\_column);}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_column_afd362cd7f66cfbeb9ad46209ece55d08}{get\_subtype\_count}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a5144ec7bb0096ddd5f6347c442dda035}{\_sub\_column\_count}};\ \}}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\&\ \mbox{\hyperlink{classdoris_1_1_tablet_column_acdbfbd631f7e4a9eef2d78a72f77c7b6}{get\_sub\_column}}(uint32\_t\ i)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a1af27f4d3c180597ead0f5cdeb75e060}{\_sub\_columns}}[i];\ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_aec63b5943e38bce7d96d3a8413829a3b}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\&\ \mbox{\hyperlink{memcpy__aarch64_8cpp_a20972992d1a551bcd609cfb231f91d8a}{a}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\&\ b);}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a4640e39a96bfb9cab9d7620c73d67225}{operator!=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\&\ \mbox{\hyperlink{memcpy__aarch64_8cpp_a20972992d1a551bcd609cfb231f91d8a}{a}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\&\ b);}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keyword}{static}\ std::string\ \mbox{\hyperlink{classdoris_1_1_tablet_column_ae71f3a681d032771a15c1edda7c81ee1}{get\_string\_by\_field\_type}}(\mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1da}{FieldType}}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a29dc1ff17f4954924eab0c091400af77}{type}});}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keyword}{static}\ std::string\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a870dab3ad50b28dd12482c22057c647c}{get\_string\_by\_aggregation\_type}}(\mbox{\hyperlink{namespacedoris_aecc8ed602aa2086ab58fae12e354babd}{FieldAggregationMethod}}\ aggregation\_type);}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1da}{FieldType}}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a0ce403292f28f96d5bcb08e86a8e8a74}{get\_field\_type\_by\_string}}(\textcolor{keyword}{const}\ std::string\&\ str);}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacedoris_aecc8ed602aa2086ab58fae12e354babd}{FieldAggregationMethod}}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a98625e36cf11345f380bccbee1571e2d}{get\_aggregation\_type\_by\_string}}(\textcolor{keyword}{const}\ std::string\&\ str);}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keyword}{static}\ uint32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a82fede132c0773fa6371f8f362e3f7ee}{get\_field\_length\_by\_type}}(TPrimitiveType::type\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a29dc1ff17f4954924eab0c091400af77}{type}},\ uint32\_t\ string\_length);}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_aa30a746b4538ed46c8d93c157716db63}{is\_row\_store\_column}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00101\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a491f7adaba8a36d2c65504d1081837fa}{\_unique\_id}};}
\DoxyCodeLine{00102\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a3d0d97aaf66c9b534846adf83b44346f}{\_col\_name}};}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{namespacedoris_aa01498a3ceb2fa74dc9536c16caef1da}{FieldType}}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a3ad8c54a4366e4165111e969c4bdb44d}{\_type}};}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a8258b9beb061ad42026fd07251e3dc8b}{\_is\_key}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00105\ \ \ \ \ \mbox{\hyperlink{namespacedoris_aecc8ed602aa2086ab58fae12e354babd}{FieldAggregationMethod}}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a03aa3dd9cd08f3664ccd56556ee14862}{\_aggregation}};}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a1a279717e7cbd0fd2f8ef16a2c82ce98}{\_is\_nullable}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_ae9b0d086f199f927d34b8634c0738463}{\_has\_default\_value}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00109\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a5de1142554d537e1418f043d24ab15d6}{\_default\_value}};}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a5950ca8e28398694ddba83002a553d37}{\_is\_decimal}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00112\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a27f26911ea985c9457794f127989664b}{\_precision}};}
\DoxyCodeLine{00113\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a2dadf2d044791f112f158844457acbcc}{\_frac}};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a4089789067a9541380b9ecd0e8a195cf}{\_length}};}
\DoxyCodeLine{00116\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_column_ad64e5f0e48b8932c4ebf986e530734ea}{\_index\_length}};}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a53223fdde47247df4ffb31622701984a}{\_is\_bf\_column}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_af3526134e41a3e48c5c573e74e833170}{\_has\_bitmap\_index}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a9312c72508471b7c7a87b540263e1af4}{\_visible}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}*\ \mbox{\hyperlink{classdoris_1_1_tablet_column_ac158d55cd304ccf2d66e8d0255d9b646}{\_parent}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00124\ \ \ \ \ std::vector<TabletColumn>\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a1af27f4d3c180597ead0f5cdeb75e060}{\_sub\_columns}};}
\DoxyCodeLine{00125\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_column_a5144ec7bb0096ddd5f6347c442dda035}{\_sub\_column\_count}}\ =\ 0;}
\DoxyCodeLine{00126\ \};}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacedoris_ab33f0267de6136a1a92580b078686834}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\&\ \mbox{\hyperlink{memcpy__aarch64_8cpp_a20972992d1a551bcd609cfb231f91d8a}{a}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\&\ b);}
\DoxyCodeLine{00129\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacedoris_add089166736fe96b6cac4397c5223cfb}{operator!=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\&\ \mbox{\hyperlink{memcpy__aarch64_8cpp_a20972992d1a551bcd609cfb231f91d8a}{a}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\&\ b);}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_tablet_schema}{TabletSchema}};}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_tablet_index}{TabletIndex}}\ \{}
\DoxyCodeLine{00134\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_index_a4bc01cc4b33788e54da3b792c6afae0f}{init\_from\_thrift}}(\textcolor{keyword}{const}\ TOlapTableIndex\&\ \mbox{\hyperlink{column__vector_8cpp_a9d57133bec333a3eac9e3c1693a5ee38}{index}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema}{TabletSchema}}\&\ tablet\_schema);}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_index_a2b5a4760cccf5f136ac049406af590af}{init\_from\_pb}}(\textcolor{keyword}{const}\ TabletIndexPB\&\ \mbox{\hyperlink{column__vector_8cpp_a9d57133bec333a3eac9e3c1693a5ee38}{index}});}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_index_a40bf5627206d4dd8fb963271225e4304}{to\_schema\_pb}}(TabletIndexPB*\ \mbox{\hyperlink{column__vector_8cpp_a9d57133bec333a3eac9e3c1693a5ee38}{index}})\ \textcolor{keyword}{const};}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_index_a94fe0a62ff6bc40b5bde405234a8dc39}{index\_id}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_index_a2d83ce66781470ceb86485bf66481ad0}{\_index\_id}};\ \}}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{classdoris_1_1_tablet_index_ac0093218df89ffd5b3a5a26f4fbab0ad}{index\_name}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_index_ae16f6e8d8d0fa747f78005b764bfb5ac}{\_index\_name}};\ \}}
\DoxyCodeLine{00141\ \ \ \ \ IndexType\ \mbox{\hyperlink{classdoris_1_1_tablet_index_aee3df360b7b9cd89bf280a2df91b5664}{index\_type}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_index_a56f50a21d0872c450820970169e59df8}{\_index\_type}};\ \}}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keyword}{const}\ vector<int32\_t>\&\ \mbox{\hyperlink{classdoris_1_1_tablet_index_af82a062368ed19d27c7c3299aa7e2130}{col\_unique\_ids}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_index_af184b4a73eb8bd96f72a674a3767966d}{\_col\_unique\_ids}};\ \}}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keyword}{const}\ std::map<string,\ string>\&\ \mbox{\hyperlink{classdoris_1_1_tablet_index_aafbb362e4342668153632fd4e85e0700}{properties}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_index_a97c4637ffa0dffe7624787f124327c13}{\_properties}};\ \}}
\DoxyCodeLine{00144\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_index_a14319c13823db906a56ceaefe03f7e3d}{get\_gram\_size}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classdoris_1_1_tablet_index_a97c4637ffa0dffe7624787f124327c13}{\_properties}}.count(\textcolor{stringliteral}{"{}gram\_size"{}}))\ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::stoi(\mbox{\hyperlink{classdoris_1_1_tablet_index_a97c4637ffa0dffe7624787f124327c13}{\_properties}}.at(\textcolor{stringliteral}{"{}gram\_size"{}}));}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00150\ \ \ \ \ \}}
\DoxyCodeLine{00151\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_index_a95738c087731931a4e1f5fe91a4c2017}{get\_gram\_bf\_size}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classdoris_1_1_tablet_index_a97c4637ffa0dffe7624787f124327c13}{\_properties}}.count(\textcolor{stringliteral}{"{}bf\_size"{}}))\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::stoi(\mbox{\hyperlink{classdoris_1_1_tablet_index_a97c4637ffa0dffe7624787f124327c13}{\_properties}}.at(\textcolor{stringliteral}{"{}bf\_size"{}}));}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00157\ \ \ \ \ \}}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00160\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_index_a2d83ce66781470ceb86485bf66481ad0}{\_index\_id}};}
\DoxyCodeLine{00161\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1_tablet_index_ae16f6e8d8d0fa747f78005b764bfb5ac}{\_index\_name}};}
\DoxyCodeLine{00162\ \ \ \ \ IndexType\ \mbox{\hyperlink{classdoris_1_1_tablet_index_a56f50a21d0872c450820970169e59df8}{\_index\_type}};}
\DoxyCodeLine{00163\ \ \ \ \ std::vector<int32\_t>\ \mbox{\hyperlink{classdoris_1_1_tablet_index_af184b4a73eb8bd96f72a674a3767966d}{\_col\_unique\_ids}};}
\DoxyCodeLine{00164\ \ \ \ \ std::map<string,\ string>\ \mbox{\hyperlink{classdoris_1_1_tablet_index_a97c4637ffa0dffe7624787f124327c13}{\_properties}};}
\DoxyCodeLine{00165\ \};}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_tablet_schema}{TabletSchema}}\ \{}
\DoxyCodeLine{00168\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{comment}{//\ TODO(yingchun):\ better\ to\ make\ constructor\ as\ private\ to\ avoid}}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{comment}{//\ manually\ init\ members\ incorrectly,\ and\ define\ a\ new\ function\ like}}
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{comment}{//\ void\ create\_from\_pb(const\ TabletSchemaPB\&\ schema,\ TabletSchema*\ tablet\_schema).}}
\DoxyCodeLine{00172\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a78896bfdc7087728dbe111fd726b4c6b}{TabletSchema}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_abedcfe690276ea7b7695f0b6c8244843}{init\_from\_pb}}(\textcolor{keyword}{const}\ TabletSchemaPB\&\ schema);}
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ade39c620400698a0f2827e4b7a965df2}{to\_schema\_pb}}(TabletSchemaPB*\ tablet\_meta\_pb)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aa73c48f559fbb21769d3041ad130da66}{append\_column}}(\mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a8daecfa95e6b8c67b15fb5c6264a3af3}{column}},\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_affec2cf721c98cd3a88667724594989e}{is\_dropped\_column}}\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{comment}{//\ Must\ make\ sure\ the\ row\ column\ is\ always\ the\ last\ column}}
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a161d9e3670f17adb79136900c34db3f9}{add\_row\_column}}();}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_adc4b75ee050562a0c6a22774357b8c81}{copy\_from}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema}{TabletSchema}}\&\ tablet\_schema);}
\DoxyCodeLine{00179\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aadebbf12658060a4a3b79732e358d62e}{to\_key}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00180\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a498d38288afb78c990698f858c2e819f}{mem\_size}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a3fe7bc9634f1e7715c192b9a76f7ac02}{\_mem\_size}};\ \}}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a153aba81b7b9110fa8ca0073e1153100}{row\_size}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00183\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a0037a384e548516c32054a52c2852db4}{field\_index}}(\textcolor{keyword}{const}\ std::string\&\ field\_name)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00184\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a0037a384e548516c32054a52c2852db4}{field\_index}}(int32\_t\ col\_unique\_id)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\&\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a8daecfa95e6b8c67b15fb5c6264a3af3}{column}}(\textcolor{keywordtype}{size\_t}\ ordinal)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\&\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a8daecfa95e6b8c67b15fb5c6264a3af3}{column}}(\textcolor{keyword}{const}\ std::string\&\ field\_name)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\&\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a927376f3d65a93bed79df8fe4811c28d}{column\_by\_uid}}(int32\_t\ col\_unique\_id)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<TabletColumn>\&\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ad47c305aaa5df23626e5767c5e96ae41}{columns}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a98e2d9685769a3ebb2c0c9600a4c77b2}{num\_columns}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ac80a84e76e5445dceb7b4034562e887c}{\_num\_columns}};\ \}}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aa61c8f3d8ca82f135c0ef9a8f6193eae}{num\_key\_columns}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a89dbce910f49ee2231a3ece40e7f60e9}{\_num\_key\_columns}};\ \}}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a5604a89877cef6ce4223e3ad53ea1469}{num\_null\_columns}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a5f866bddbd593141bff885f25f06414a}{\_num\_null\_columns}};\ \}}
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aff54953390337da01f0f0531e1a9eb86}{num\_short\_key\_columns}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a73cdab764208d741982d34f6340d4142}{\_num\_short\_key\_columns}};\ \}}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ad5dca659a8f7688ab968a05ee10ef07b}{num\_rows\_per\_row\_block}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a3b549a7230600cdc9c8f6dd8323646b8}{\_num\_rows\_per\_row\_block}};\ \}}
\DoxyCodeLine{00194\ \ \ \ \ KeysType\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a3ddea02f8732dc3470c8693177b3068e}{keys\_type}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a30b58649b1b80ed51d6e98381dd1da3d}{\_keys\_type}};\ \}}
\DoxyCodeLine{00195\ \ \ \ \ SortType\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a1b29e9e0f59cf4c30b243a724a8631d9}{sort\_type}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a4e25edd6e5a68e392954f08d81a51a7c}{\_sort\_type}};\ \}}
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_af38893ccfca2880f05684db6fa7f9faa}{sort\_col\_num}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_acebf9e5eda43933dbd02df9026a52a25}{\_sort\_col\_num}};\ \}}
\DoxyCodeLine{00197\ \ \ \ \ CompressKind\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ac9af748e07590c5c763b8eeb4f95769f}{compress\_kind}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a9d57f67cedeba859f19cc2af73581f98}{\_compress\_kind}};\ \}}
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a19c501f537a3464e5f028d2f11d61095}{next\_column\_unique\_id}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a387d1d8275cbe24038bc94e2ec843944}{\_next\_column\_unique\_id}};\ \}}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a5e2b723a6c102ca8823800b481867439}{has\_bf\_fpp}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_af5fe71a628ec026175307f09d419d695}{\_has\_bf\_fpp}};\ \}}
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a40e87852d07ef1f9c57aa1131d8b3ab1}{bloom\_filter\_fpp}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a85949902ce972f5ae03ebdb010bb432b}{\_bf\_fpp}};\ \}}
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aac55e2c53cb0161823b9a45ace51b9b3}{is\_in\_memory}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aef85d3a5519168f8f85bb9f73be198c0}{\_is\_in\_memory}};\ \}}
\DoxyCodeLine{00202\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ab456d4c229319bcc169130faa6f74fb7}{set\_is\_in\_memory}}(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aac55e2c53cb0161823b9a45ace51b9b3}{is\_in\_memory}})\ \{\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aef85d3a5519168f8f85bb9f73be198c0}{\_is\_in\_memory}}\ =\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aac55e2c53cb0161823b9a45ace51b9b3}{is\_in\_memory}};\ \}}
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a3eebb7a516beb7adf95e43f68a860237}{set\_disable\_auto\_compaction}}(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ad7045f5297b6caecc23896145a001b07}{disable\_auto\_compaction}})\ \{}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a5a5e838df63fc62de30e784f0dcd9e34}{\_disable\_auto\_compaction}}\ =\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ad7045f5297b6caecc23896145a001b07}{disable\_auto\_compaction}};}
\DoxyCodeLine{00205\ \ \ \ \ \}}
\DoxyCodeLine{00206\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ad7045f5297b6caecc23896145a001b07}{disable\_auto\_compaction}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a5a5e838df63fc62de30e784f0dcd9e34}{\_disable\_auto\_compaction}};\ \}}
\DoxyCodeLine{00207\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a33569a961bcd0944bb7ce3830afb5352}{set\_store\_row\_column}}(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a86a0dc9ce170c41de8e3ccba162451f0}{store\_row\_column}})\ \{\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a45c7cf63bf2ec095eb071a34778ee2fb}{\_store\_row\_column}}\ =\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a86a0dc9ce170c41de8e3ccba162451f0}{store\_row\_column}};\ \}}
\DoxyCodeLine{00208\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a86a0dc9ce170c41de8e3ccba162451f0}{store\_row\_column}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a45c7cf63bf2ec095eb071a34778ee2fb}{\_store\_row\_column}};\ \}}
\DoxyCodeLine{00209\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a8540f276b6177081f825649f7a95f7d7}{delete\_sign\_idx}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a44a5376c7cfc8fdf1b5448e7a64c765d}{\_delete\_sign\_idx}};\ \}}
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a4fc5994d590a5ef7ed8188cad3d18461}{set\_delete\_sign\_idx}}(int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a8540f276b6177081f825649f7a95f7d7}{delete\_sign\_idx}})\ \{\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a44a5376c7cfc8fdf1b5448e7a64c765d}{\_delete\_sign\_idx}}\ =\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a8540f276b6177081f825649f7a95f7d7}{delete\_sign\_idx}};\ \}}
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a55d884401a64ebd2a513a56b01f5a7bd}{has\_sequence\_col}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ad441c645cf2448261db5817af73e968d}{\_sequence\_col\_idx}}\ !=\ -\/1;\ \}}
\DoxyCodeLine{00212\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aeeac9bb45f6fe23f4fe6f3ea987ab5e2}{sequence\_col\_idx}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ad441c645cf2448261db5817af73e968d}{\_sequence\_col\_idx}};\ \}}
\DoxyCodeLine{00213\ \ \ \ \ segment\_v2::CompressionTypePB\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a0d5bf81935e3b8d15fe75e286aa05c77}{compression\_type}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ad0dccf6ce65a54d3559a2b9f2c6c8f55}{\_compression\_type}};\ \}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<TabletIndex>\&\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ae842ca4ecf70445f551a5ae33cf34b10}{indexes}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a5e58bcc1bc64e9718dd823f8929cfbdc}{\_indexes}};\ \}}
\DoxyCodeLine{00216\ \ \ \ \ std::vector<const\ TabletIndex*>\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a303df07c1cf066d5f830c484faf0887b}{get\_indexes\_for\_column}}(int32\_t\ col\_unique\_id)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a72af8945c787703d5b45aeec0d536206}{has\_inverted\_index}}(int32\_t\ col\_unique\_id)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_index}{TabletIndex}}*\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a290d27371dfdf56cf075377e01feb4eb}{get\_inverted\_index}}(int32\_t\ col\_unique\_id)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a98133cac2d775e86cbbda3640d8dab03}{has\_ngram\_bf\_index}}(int32\_t\ col\_unique\_id)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00220\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_index}{TabletIndex}}*\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a452c8f464bd453e3eb7102ac12ee5662}{get\_ngram\_bf\_index}}(int32\_t\ col\_unique\_id)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aeeb430461bacf164a47194958e81c491}{update\_indexes\_from\_thrift}}(\textcolor{keyword}{const}\ std::vector<doris::TOlapTableIndex>\&\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ae842ca4ecf70445f551a5ae33cf34b10}{indexes}});}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_af303eff0e83ac31d5ab614f5ec33bf4f}{schema\_version}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aff7c5bf9615e3ad278dfb7253dbcfaaf}{\_schema\_version}};\ \}}
\DoxyCodeLine{00224\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_affb093f466d71b734f94fa19fcfa61c4}{clear\_columns}}();}
\DoxyCodeLine{00225\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{vectorized::Block}}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_adeff4ea757a1a5e9e229ad7079052063}{create\_block}}(}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<uint32\_t>\&\ return\_columns,}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::unordered\_set<uint32\_t>*\ tablet\_columns\_need\_convert\_null\ =\ \textcolor{keyword}{nullptr})\ \textcolor{keyword}{const};}
\DoxyCodeLine{00228\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{vectorized::Block}}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_adeff4ea757a1a5e9e229ad7079052063}{create\_block}}(\textcolor{keywordtype}{bool}\ ignore\_dropped\_col\ =\ \textcolor{keyword}{true})\ \textcolor{keyword}{const};}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a719f4ef3b2bb37ced7c0e37853e19372}{build\_current\_tablet\_schema}}(int64\_t\ index\_id,\ int32\_t\ \mbox{\hyperlink{file__helper_8h_acd99bb05ca015e7d74448acb1deba7ca}{version}},}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structdoris_1_1_olap_table_index_schema}{OlapTableIndexSchema}}*\ \mbox{\hyperlink{column__vector_8cpp_a9d57133bec333a3eac9e3c1693a5ee38}{index}},}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema}{TabletSchema}}\&\ out\_tablet\_schema);}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \ \ \ \ \textcolor{comment}{//\ Merge\ columns\ that\ not\ exit\ in\ current\ schema,\ these\ column\ is\ dropped\ in\ current\ schema}}
\DoxyCodeLine{00235\ \ \ \ \ \textcolor{comment}{//\ but\ they\ are\ useful\ in\ some\ cases.\ For\ example,}}
\DoxyCodeLine{00236\ \ \ \ \ \textcolor{comment}{//\ 1.\ origin\ schema\ is\ \ ColA,\ ColB}}
\DoxyCodeLine{00237\ \ \ \ \ \textcolor{comment}{//\ 2.\ insert\ values\ \ \ \ \ 1,\ 2}}
\DoxyCodeLine{00238\ \ \ \ \ \textcolor{comment}{//\ 3.\ delete\ where\ ColB\ =\ 2}}
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{comment}{//\ 4.\ drop\ ColB}}
\DoxyCodeLine{00240\ \ \ \ \ \textcolor{comment}{//\ 5.\ insert\ values\ \ 3}}
\DoxyCodeLine{00241\ \ \ \ \ \textcolor{comment}{//\ 6.\ add\ column\ ColB,\ although\ it\ is\ name\ ColB,\ but\ it\ is\ different\ with\ previous\ ColB,\ the\ new\ ColB\ we\ name\ could\ call\ ColB'}}
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{comment}{//\ 7.\ insert\ value\ \ 4,\ 5}}
\DoxyCodeLine{00243\ \ \ \ \ \textcolor{comment}{//\ Then\ the\ read\ schema\ should\ be\ ColA,\ ColB,\ ColB'\ because\ the\ delete\ predicate\ need\ ColB\ to\ remove\ related\ data.}}
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{comment}{//\ Because\ they\ have\ same\ name,\ so\ that\ the\ dropped\ column\ should\ not\ be\ added\ to\ the\ map,\ only\ with\ unique\ id.}}
\DoxyCodeLine{00245\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a8579c8b7e5e9aafe0f9b273146f8d128}{merge\_dropped\_columns}}(std::shared\_ptr<TabletSchema>\ src\_schema);}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_affec2cf721c98cd3a88667724594989e}{is\_dropped\_column}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_column}{TabletColumn}}\&\ col)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_af8e0d2e5030295f411ef7bbad79732d7}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema}{TabletSchema}}\&\ \mbox{\hyperlink{memcpy__aarch64_8cpp_a20972992d1a551bcd609cfb231f91d8a}{a}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema}{TabletSchema}}\&\ b);}
\DoxyCodeLine{00251\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a634d1551f25f95cd8eb912f3f5590b1c}{operator!=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema}{TabletSchema}}\&\ \mbox{\hyperlink{memcpy__aarch64_8cpp_a20972992d1a551bcd609cfb231f91d8a}{a}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema}{TabletSchema}}\&\ b);}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00254\ \ \ \ \ KeysType\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a30b58649b1b80ed51d6e98381dd1da3d}{\_keys\_type}}\ =\ DUP\_KEYS;}
\DoxyCodeLine{00255\ \ \ \ \ SortType\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a4e25edd6e5a68e392954f08d81a51a7c}{\_sort\_type}}\ =\ SortType::LEXICAL;}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_acebf9e5eda43933dbd02df9026a52a25}{\_sort\_col\_num}}\ =\ 0;}
\DoxyCodeLine{00257\ \ \ \ \ std::vector<TabletColumn>\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_adad0a5308cd525ec62500abe980b3b6c}{\_cols}};}
\DoxyCodeLine{00258\ \ \ \ \ std::vector<TabletIndex>\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a5e58bcc1bc64e9718dd823f8929cfbdc}{\_indexes}};}
\DoxyCodeLine{00259\ \ \ \ \ std::unordered\_map<std::string,\ int32\_t>\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a5b1da54b280424e494e44ce242cbf293}{\_field\_name\_to\_index}};}
\DoxyCodeLine{00260\ \ \ \ \ std::unordered\_map<int32\_t,\ int32\_t>\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aa6e342ee9798d55c7d8f6a9704cd147b}{\_field\_id\_to\_index}};}
\DoxyCodeLine{00261\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ac80a84e76e5445dceb7b4034562e887c}{\_num\_columns}}\ =\ 0;}
\DoxyCodeLine{00262\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a89dbce910f49ee2231a3ece40e7f60e9}{\_num\_key\_columns}}\ =\ 0;}
\DoxyCodeLine{00263\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a5f866bddbd593141bff885f25f06414a}{\_num\_null\_columns}}\ =\ 0;}
\DoxyCodeLine{00264\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a73cdab764208d741982d34f6340d4142}{\_num\_short\_key\_columns}}\ =\ 0;}
\DoxyCodeLine{00265\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a3b549a7230600cdc9c8f6dd8323646b8}{\_num\_rows\_per\_row\_block}}\ =\ 0;}
\DoxyCodeLine{00266\ \ \ \ \ CompressKind\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a9d57f67cedeba859f19cc2af73581f98}{\_compress\_kind}}\ =\ COMPRESS\_NONE;}
\DoxyCodeLine{00267\ \ \ \ \ segment\_v2::CompressionTypePB\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ad0dccf6ce65a54d3559a2b9f2c6c8f55}{\_compression\_type}}\ =\ segment\_v2::CompressionTypePB::LZ4F;}
\DoxyCodeLine{00268\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a387d1d8275cbe24038bc94e2ec843944}{\_next\_column\_unique\_id}}\ =\ 0;}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_af5fe71a628ec026175307f09d419d695}{\_has\_bf\_fpp}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00271\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a85949902ce972f5ae03ebdb010bb432b}{\_bf\_fpp}}\ =\ 0;}
\DoxyCodeLine{00272\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aef85d3a5519168f8f85bb9f73be198c0}{\_is\_in\_memory}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00273\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a44a5376c7cfc8fdf1b5448e7a64c765d}{\_delete\_sign\_idx}}\ =\ -\/1;}
\DoxyCodeLine{00274\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_ad441c645cf2448261db5817af73e968d}{\_sequence\_col\_idx}}\ =\ -\/1;}
\DoxyCodeLine{00275\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_aff7c5bf9615e3ad278dfb7253dbcfaaf}{\_schema\_version}}\ =\ -\/1;}
\DoxyCodeLine{00276\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a5a5e838df63fc62de30e784f0dcd9e34}{\_disable\_auto\_compaction}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00277\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a3fe7bc9634f1e7715c192b9a76f7ac02}{\_mem\_size}}\ =\ 0;}
\DoxyCodeLine{00278\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema_a45c7cf63bf2ec095eb071a34778ee2fb}{\_store\_row\_column}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00279\ \};}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00281\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacedoris_ab33f0267de6136a1a92580b078686834}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema}{TabletSchema}}\&\ \mbox{\hyperlink{memcpy__aarch64_8cpp_a20972992d1a551bcd609cfb231f91d8a}{a}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema}{TabletSchema}}\&\ b);}
\DoxyCodeLine{00282\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacedoris_add089166736fe96b6cac4397c5223cfb}{operator!=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema}{TabletSchema}}\&\ \mbox{\hyperlink{memcpy__aarch64_8cpp_a20972992d1a551bcd609cfb231f91d8a}{a}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_tablet_schema}{TabletSchema}}\&\ b);}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacedoris_a9216ba4fd9b418b8808bfb91a407ea20}{TabletSchemaSPtr}}\ =\ std::shared\_ptr<TabletSchema>;}
\DoxyCodeLine{00285\ }
\DoxyCodeLine{00286\ \}\ \textcolor{comment}{//\ namespace\ doris}}

\end{DoxyCode}
