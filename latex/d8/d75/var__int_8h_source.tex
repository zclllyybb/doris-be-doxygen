\hypertarget{var__int_8h_source}{}\doxysection{var\+\_\+int.\+h}
\label{var__int_8h_source}\index{/Users/dabowang/doris/be/src/vec/io/var\_int.h@{/Users/dabowang/doris/be/src/vec/io/var\_int.h}}
\mbox{\hyperlink{var__int_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{string__buffer_8hpp}{vec/common/string\_buffer.hpp}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{vec_2core_2types_8h}{vec/core/types.h}}"{}}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris_1_1vectorized}{doris::vectorized}}\ \{}
\DoxyCodeLine{00027\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_aea0f84880e4df4a136a12a3f01104392}{write\_var\_uint}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\ x,\ std::ostream\&\ ostr);}
\DoxyCodeLine{00028\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{namespacedoris_1_1vectorized_aea0f84880e4df4a136a12a3f01104392}{write\_var\_uint}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\ x,\ \textcolor{keywordtype}{char}*\ ostr);}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00031\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a09f41c09d98543d82de792a1f07d0f4b}{read\_var\_uint}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\&\ x,\ std::istream\&\ istr);}
\DoxyCodeLine{00032\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a09f41c09d98543d82de792a1f07d0f4b}{read\_var\_uint}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\&\ x,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ istr,\ \textcolor{keywordtype}{size\_t}\ size);}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00035\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a396a462f1b5fa6aef1f8866d84594059}{get\_length\_of\_var\_uint}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\ x);}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00038\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a4031c097a6e5f7ea8d867b86f41e57b7}{get\_length\_of\_var\_int}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a51b4c1b67123dbb4903672fa753e6dd1}{Int64}}\ x);}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00041\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OUT>}
\DoxyCodeLine{00042\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a1f2242820536c7c3a677b1a5c36b806b}{write\_var\_int}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a51b4c1b67123dbb4903672fa753e6dd1}{Int64}}\ x,\ OUT\&\ ostr)\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_aea0f84880e4df4a136a12a3f01104392}{write\_var\_uint}}(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\textcolor{keyword}{>}((x\ <<\ 1)\ \string^\ (x\ >>\ 63)),\ ostr);}
\DoxyCodeLine{00044\ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a1f2242820536c7c3a677b1a5c36b806b}{write\_var\_int}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a51b4c1b67123dbb4903672fa753e6dd1}{Int64}}\ x,\ \textcolor{keywordtype}{char}*\ ostr)\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_aea0f84880e4df4a136a12a3f01104392}{write\_var\_uint}}(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\textcolor{keyword}{>}((x\ <<\ 1)\ \string^\ (x\ >>\ 63)),\ ostr);}
\DoxyCodeLine{00048\ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00051\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ IN>}
\DoxyCodeLine{00052\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a1a08148e88c3b917dcf96e9e88138ec7}{read\_var\_int}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a51b4c1b67123dbb4903672fa753e6dd1}{Int64}}\&\ x,\ IN\&\ istr)\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a09f41c09d98543d82de792a1f07d0f4b}{read\_var\_uint}}(*\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}*\textcolor{keyword}{>}(\&x),\ istr);}
\DoxyCodeLine{00054\ \ \ \ \ x\ =\ (\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\textcolor{keyword}{>}(x)\ >>\ 1)\ \string^\ -\/(x\ \&\ 1);}
\DoxyCodeLine{00055\ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a1a08148e88c3b917dcf96e9e88138ec7}{read\_var\_int}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a51b4c1b67123dbb4903672fa753e6dd1}{Int64}}\&\ x,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ istr,\ \textcolor{keywordtype}{size\_t}\ size)\ \{}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ res\ =\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a09f41c09d98543d82de792a1f07d0f4b}{read\_var\_uint}}(*\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}*\textcolor{keyword}{>}(\&x),\ istr,\ size);}
\DoxyCodeLine{00059\ \ \ \ \ x\ =\ (\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\textcolor{keyword}{>}(x)\ >>\ 1)\ \string^\ -\/(x\ \&\ 1);}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00061\ \}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a6909e05eee7714fdbbd58490788d7605}{write\_var\_t}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\ x,\ std::ostream\&\ ostr)\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_aea0f84880e4df4a136a12a3f01104392}{write\_var\_uint}}(x,\ ostr);}
\DoxyCodeLine{00065\ \}}
\DoxyCodeLine{00066\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a6909e05eee7714fdbbd58490788d7605}{write\_var\_t}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a51b4c1b67123dbb4903672fa753e6dd1}{Int64}}\ x,\ std::ostream\&\ ostr)\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a1f2242820536c7c3a677b1a5c36b806b}{write\_var\_int}}(x,\ ostr);}
\DoxyCodeLine{00068\ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a6909e05eee7714fdbbd58490788d7605}{write\_var\_t}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\ x,\ \textcolor{keywordtype}{char}*\&\ ostr)\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_aea0f84880e4df4a136a12a3f01104392}{write\_var\_uint}}(x,\ ostr);}
\DoxyCodeLine{00072\ \}}
\DoxyCodeLine{00073\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a6909e05eee7714fdbbd58490788d7605}{write\_var\_t}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a51b4c1b67123dbb4903672fa753e6dd1}{Int64}}\ x,\ \textcolor{keywordtype}{char}*\&\ ostr)\ \{}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a1f2242820536c7c3a677b1a5c36b806b}{write\_var\_int}}(x,\ ostr);}
\DoxyCodeLine{00075\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a09dd0af84c6417afa82e16f527f6de17}{read\_var\_t}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\&\ x,\ std::istream\&\ istr)\ \{}
\DoxyCodeLine{00078\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a09f41c09d98543d82de792a1f07d0f4b}{read\_var\_uint}}(x,\ istr);}
\DoxyCodeLine{00079\ \}}
\DoxyCodeLine{00080\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a09dd0af84c6417afa82e16f527f6de17}{read\_var\_t}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a51b4c1b67123dbb4903672fa753e6dd1}{Int64}}\&\ x,\ std::istream\&\ istr)\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a1a08148e88c3b917dcf96e9e88138ec7}{read\_var\_int}}(x,\ istr);}
\DoxyCodeLine{00082\ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a09dd0af84c6417afa82e16f527f6de17}{read\_var\_t}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\&\ x,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ istr,\ \textcolor{keywordtype}{size\_t}\ size)\ \{}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a09f41c09d98543d82de792a1f07d0f4b}{read\_var\_uint}}(x,\ istr,\ size);}
\DoxyCodeLine{00086\ \}}
\DoxyCodeLine{00087\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a09dd0af84c6417afa82e16f527f6de17}{read\_var\_t}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a51b4c1b67123dbb4903672fa753e6dd1}{Int64}}\&\ x,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ istr,\ \textcolor{keywordtype}{size\_t}\ size)\ \{}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a1a08148e88c3b917dcf96e9e88138ec7}{read\_var\_int}}(x,\ istr,\ size);}
\DoxyCodeLine{00089\ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a09f41c09d98543d82de792a1f07d0f4b}{read\_var\_uint}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\&\ x,\ std::istream\&\ istr)\ \{}
\DoxyCodeLine{00092\ \ \ \ \ x\ =\ 0;}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ 9;\ ++i)\ \{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\ \textcolor{keywordtype}{byte}\ =\ istr.get();}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ x\ |=\ (\textcolor{keywordtype}{byte}\ \&\ 0x7F)\ <<\ (7\ *\ i);}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(\textcolor{keywordtype}{byte}\ \&\ 0x80))\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00097\ \ \ \ \ \}}
\DoxyCodeLine{00098\ \}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_aea0f84880e4df4a136a12a3f01104392}{write\_var\_uint}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\ x,\ std::ostream\&\ ostr)\ \{}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ 9;\ ++i)\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ uint8\_t\ \textcolor{keywordtype}{byte}\ =\ x\ \&\ 0x7F;}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (x\ >\ 0x7F)\ \textcolor{keywordtype}{byte}\ |=\ 0x80;}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ ostr.put(\textcolor{keywordtype}{byte});}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ x\ >>=\ 7;}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!x)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00109\ \ \ \ \ \}}
\DoxyCodeLine{00110\ \}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \textcolor{comment}{//\ TODO:\ do\ real\ implement\ in\ the\ future}}
\DoxyCodeLine{00113\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a09f41c09d98543d82de792a1f07d0f4b}{read\_var\_uint}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\&\ x,\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_buffer_readable}{BufferReadable}}\&\ buf)\ \{}
\DoxyCodeLine{00114\ \ \ \ \ x\ =\ 0;}
\DoxyCodeLine{00115\ \ \ \ \ uint8\_t\ len\ =\ 0;}
\DoxyCodeLine{00116\ \ \ \ \ buf.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_buffer_readable_a0c197d554d1ec940865e63fd40509f96}{read}}((\textcolor{keywordtype}{char}*)\&len,\ 1);}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keyword}{auto}\ ref\ =\ buf.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_buffer_readable_a0c197d554d1ec940865e63fd40509f96}{read}}(len);}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordtype}{char}*\ bytes\ =\ \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(ref.data);}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ 9;\ ++i)\ \{}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\ \textcolor{keywordtype}{byte}\ =\ bytes[i];}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ x\ |=\ (\textcolor{keywordtype}{byte}\ \&\ 0x7F)\ <<\ (7\ *\ i);}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(\textcolor{keywordtype}{byte}\ \&\ 0x80))\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00125\ \ \ \ \ \}}
\DoxyCodeLine{00126\ \}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_aea0f84880e4df4a136a12a3f01104392}{write\_var\_uint}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\ x,\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_buffer_writable}{BufferWritable}}\&\ ostr)\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordtype}{char}\ bytes[9];}
\DoxyCodeLine{00130\ \ \ \ \ uint8\_t\ i\ =\ 0;}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordflow}{while}\ (i\ <\ 9)\ \{}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ uint8\_t\ \textcolor{keywordtype}{byte}\ =\ x\ \&\ 0x7F;}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (x\ >\ 0x7F)\ \textcolor{keywordtype}{byte}\ |=\ 0x80;}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ bytes[i++]\ =\ byte;}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ x\ >>=\ 7;}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!x)\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00139\ \ \ \ \ \}}
\DoxyCodeLine{00140\ \ \ \ \ ostr.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_buffer_writable_a080e53a8a2f532c9ac2fb1ea9d49ab41}{write}}((\textcolor{keywordtype}{char}*)\&i,\ 1);}
\DoxyCodeLine{00141\ \ \ \ \ ostr.\mbox{\hyperlink{classdoris_1_1vectorized_1_1_buffer_writable_a080e53a8a2f532c9ac2fb1ea9d49ab41}{write}}(bytes,\ i);}
\DoxyCodeLine{00142\ \}}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{namespacedoris_1_1vectorized_aea0f84880e4df4a136a12a3f01104392}{write\_var\_uint}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\ x,\ \textcolor{keywordtype}{char}*\ ostr)\ \{}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ 9;\ ++i)\ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ uint8\_t\ \textcolor{keywordtype}{byte}\ =\ x\ \&\ 0x7F;}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (x\ >\ 0x7F)\ \textcolor{keywordtype}{byte}\ |=\ 0x80;}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ *ostr\ =\ byte;}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ ++ostr;}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ x\ >>=\ 7;}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!x)\ \textcolor{keywordflow}{return}\ ostr;}
\DoxyCodeLine{00154\ \ \ \ \ \}}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordflow}{return}\ ostr;}
\DoxyCodeLine{00157\ \}}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \textcolor{comment}{//\ clang-\/format\ off}}
\DoxyCodeLine{00160\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a396a462f1b5fa6aef1f8866d84594059}{get\_length\_of\_var\_uint}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\ x)\ \{}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{return}\ x\ <\ (1ULL\ <<\ 7)\ ?\ 1}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ :\ (x\ <\ (1ULL\ <<\ 14)\ ?\ 2}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ :\ (x\ <\ (1ULL\ <<\ 21)\ ?\ 3}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ :\ (x\ <\ (1ULL\ <<\ 28)\ ?\ 4}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ :\ (x\ <\ (1ULL\ <<\ 35)\ ?\ 5}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ :\ (x\ <\ (1ULL\ <<\ 42)\ ?\ 6}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ :\ (x\ <\ (1ULL\ <<\ 49)\ ?\ 7}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ :\ (x\ <\ (1ULL\ <<\ 56)\ ?\ 8}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ :\ 9)))))));}
\DoxyCodeLine{00170\ \}}
\DoxyCodeLine{00171\ \textcolor{comment}{//\ clang-\/format\ on}}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a4031c097a6e5f7ea8d867b86f41e57b7}{get\_length\_of\_var\_int}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a51b4c1b67123dbb4903672fa753e6dd1}{Int64}}\ x)\ \{}
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_a396a462f1b5fa6aef1f8866d84594059}{get\_length\_of\_var\_uint}}(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacedoris_1_1vectorized_a81586a76c764e2556f67139907fa5440}{UInt64}}\textcolor{keyword}{>}((x\ <<\ 1)\ \string^\ (x\ >>\ 63)));}
\DoxyCodeLine{00175\ \}}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \}\ \textcolor{comment}{//\ namespace\ doris::vectorized}}

\end{DoxyCode}
