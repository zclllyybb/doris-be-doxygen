\hypertarget{util_8h_source}{}\doxysection{util.\+h}
\label{util_8h_source}\index{/Users/dabowang/doris/be/src/gutil/strings/util.h@{/Users/dabowang/doris/be/src/gutil/strings/util.h}}
\mbox{\hyperlink{util_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Copyright\ 1999-\/2006\ and\ onwards\ Google,\ Inc.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Useful\ string\ functions\ and\ so\ forth.\ \ This\ is\ a\ grab-\/bag\ file.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ You\ might\ also\ want\ to\ look\ at\ memutil.h,\ which\ holds\ mem*()}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ equivalents\ of\ a\ lot\ of\ the\ str*()\ functions\ in\ string.h,}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ eg\ memstr,\ mempbrk,\ etc.}}
\DoxyCodeLine{00009\ \textcolor{comment}{//}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ These\ functions\ work\ fine\ for\ UTF-\/8\ strings\ as\ long\ as\ you\ can}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ consider\ them\ to\ be\ just\ byte\ strings.\ \ For\ example,\ due\ to\ the}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ design\ of\ UTF-\/8\ you\ do\ not\ need\ to\ worry\ about\ accidental\ matches,}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ as\ long\ as\ all\ your\ inputs\ are\ valid\ UTF-\/8\ (use\ \(\backslash\)uHHHH,\ not\ \(\backslash\)xHH\ or\ \(\backslash\)oOOO).}}
\DoxyCodeLine{00014\ \textcolor{comment}{//}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ Caveats:}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ *\ all\ the\ lengths\ in\ these\ routines\ refer\ to\ byte\ counts,}}
\DoxyCodeLine{00017\ \textcolor{comment}{//\ \ \ not\ character\ counts.}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ *\ case-\/insensitivity\ in\ these\ routines\ assumes\ that\ all\ the\ letters}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ \ \ in\ question\ are\ in\ the\ range\ A-\/Z\ or\ a-\/z.}}
\DoxyCodeLine{00020\ \textcolor{comment}{//}}
\DoxyCodeLine{00021\ \textcolor{comment}{//\ If\ you\ need\ Unicode\ specific\ processing\ (for\ example\ being\ aware\ of}}
\DoxyCodeLine{00022\ \textcolor{comment}{//\ Unicode\ character\ boundaries,\ or\ knowledge\ of\ Unicode\ casing\ rules,}}
\DoxyCodeLine{00023\ \textcolor{comment}{//\ or\ various\ forms\ of\ equivalence\ and\ normalization),\ take\ a\ look\ at}}
\DoxyCodeLine{00024\ \textcolor{comment}{//\ files\ in\ i18n/utf8.}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ <stddef.h>}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#ifndef\ \_MSC\_VER}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#include\ <strings.h>}\ \textcolor{comment}{//\ for\ strcasecmp,\ but\ msvc\ does\ not\ have\ this\ header}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00037\ \textcolor{keyword}{using\ }std::less;}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00039\ \textcolor{keyword}{using\ }std::string;}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00041\ \textcolor{keyword}{using\ }std::vector;}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{integral__types_8h}{gutil/integral\_types.h}}"{}}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{port_8h}{gutil/port.h}}"{}}}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{stringpiece_8h}{gutil/strings/stringpiece.h}}"{}}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{comment}{//\ Newer\ functions.}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacestrings}{strings}}\ \{}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \textcolor{comment}{//\ Finds\ the\ next\ end-\/of-\/line\ sequence.}}
\DoxyCodeLine{00052\ \textcolor{comment}{//\ An\ end-\/of-\/line\ sequence\ is\ one\ of:}}
\DoxyCodeLine{00053\ \textcolor{comment}{//\ \ \ \(\backslash\)n\ \ \ \ common\ on\ unix,\ including\ mac\ os\ x}}
\DoxyCodeLine{00054\ \textcolor{comment}{//\ \ \ \(\backslash\)r\ \ \ \ common\ on\ macos\ 9\ and\ before}}
\DoxyCodeLine{00055\ \textcolor{comment}{//\ \ \ \(\backslash\)r\(\backslash\)n\ \ common\ on\ windows}}
\DoxyCodeLine{00056\ \textcolor{comment}{//}}
\DoxyCodeLine{00057\ \textcolor{comment}{//\ Returns\ a\ StringPiece\ that\ contains\ the\ end-\/of-\/line\ sequence\ (a\ pointer\ into}}
\DoxyCodeLine{00058\ \textcolor{comment}{//\ the\ input,\ 1\ or\ 2\ characters\ long).}}
\DoxyCodeLine{00059\ \textcolor{comment}{//}}
\DoxyCodeLine{00060\ \textcolor{comment}{//\ If\ the\ input\ does\ not\ contain\ an\ end-\/of-\/line\ sequence,\ returns\ an\ empty}}
\DoxyCodeLine{00061\ \textcolor{comment}{//\ StringPiece\ located\ at\ the\ end\ of\ the\ input:}}
\DoxyCodeLine{00062\ \textcolor{comment}{//\ \ \ \ StringPiece(sp.data()\ +\ sp.length(),\ 0).}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\ \mbox{\hyperlink{namespacestrings_a6488fc159857501a136a76cc77810cd7}{FindEol}}(\mbox{\hyperlink{class_string_piece}{StringPiece}}\ sp);}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \}\ \textcolor{comment}{//\ namespace\ strings}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{comment}{//\ Older\ functions.}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{comment}{//\ Duplicates\ a\ non-\/null,\ non-\/empty\ char*\ string.\ Returns\ a\ pointer\ to\ the\ new}}
\DoxyCodeLine{00071\ \textcolor{comment}{//\ string,\ or\ NULL\ if\ the\ input\ is\ null\ or\ empty.}}
\DoxyCodeLine{00072\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_ae76b018f8308f12ac4df774fec5a3ac0}{strdup\_nonempty}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ src)\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordflow}{if}\ (src\ \&\&\ src[0])\ \textcolor{keywordflow}{return}\ strdup(src);}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{return}\ NULL;}
\DoxyCodeLine{00075\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{comment}{//\ Finds\ the\ first\ occurrence\ of\ a\ character\ in\ at\ most\ a\ given\ number\ of\ bytes}}
\DoxyCodeLine{00078\ \textcolor{comment}{//\ of\ a\ char*\ string.\ Returns\ a\ pointer\ to\ the\ first\ occurrence,\ or\ NULL\ if\ no}}
\DoxyCodeLine{00079\ \textcolor{comment}{//\ occurrence\ found\ in\ the\ first\ sz\ bytes.}}
\DoxyCodeLine{00080\ \textcolor{comment}{//\ Never\ searches\ past\ the\ first\ null\ character\ in\ the\ string;\ therefore,\ only}}
\DoxyCodeLine{00081\ \textcolor{comment}{//\ suitable\ for\ null-\/terminated\ strings.}}
\DoxyCodeLine{00082\ \textcolor{comment}{//\ WARNING:\ Removes\ const-\/ness\ of\ string\ argument!}}
\DoxyCodeLine{00083\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a408e0596d24bae720261de178bb5ca2e}{strnchr}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ buf,\ \textcolor{keywordtype}{char}\ c,\ \textcolor{keywordtype}{int}\ sz)\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ end\ =\ buf\ +\ sz;}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordflow}{while}\ (buf\ !=\ end\ \&\&\ *buf)\ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*buf\ ==\ c)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(buf);}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ ++buf;}
\DoxyCodeLine{00088\ \ \ \ \ \}}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordflow}{return}\ NULL;}
\DoxyCodeLine{00090\ \}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \textcolor{comment}{//\ Finds\ the\ first\ occurrence\ of\ the\ null-\/terminated\ needle\ in\ at\ most\ the\ first}}
\DoxyCodeLine{00093\ \textcolor{comment}{//\ haystack\_len\ bytes\ of\ haystack.\ Returns\ NULL\ if\ needle\ is\ not\ found.\ Returns}}
\DoxyCodeLine{00094\ \textcolor{comment}{//\ haystack\ if\ needle\ is\ empty.}}
\DoxyCodeLine{00095\ \textcolor{comment}{//\ WARNING:\ Removes\ const-\/ness\ of\ string\ argument!}}
\DoxyCodeLine{00096\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_afccd38401cc80654c842aa059c7ea8e1}{strnstr}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ haystack,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ needle,\ \textcolor{keywordtype}{size\_t}\ haystack\_len);}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \textcolor{comment}{//\ Matches\ a\ prefix\ (which\ must\ be\ a\ char*\ literal!)\ against\ the\ beginning\ of}}
\DoxyCodeLine{00099\ \textcolor{comment}{//\ str.\ Returns\ a\ pointer\ past\ the\ prefix,\ or\ NULL\ if\ the\ prefix\ wasn't\ matched.}}
\DoxyCodeLine{00100\ \textcolor{comment}{//\ (Like\ the\ standard\ strcasecmp(),\ but\ for\ efficiency\ doesn't\ call\ strlen()\ on}}
\DoxyCodeLine{00101\ \textcolor{comment}{//\ prefix,\ and\ returns\ a\ pointer\ rather\ than\ an\ int.)}}
\DoxyCodeLine{00102\ \textcolor{comment}{//}}
\DoxyCodeLine{00103\ \textcolor{comment}{//\ The\ "{}"{}'s\ catch\ people\ who\ don't\ pass\ in\ a\ literal\ for\ "{}prefix"{}}}
\DoxyCodeLine{00104\ \textcolor{preprocessor}{\#ifndef\ strprefix}}
\DoxyCodeLine{00105\ \textcolor{preprocessor}{\#define\ strprefix(str,\ prefix)\ \(\backslash\)}}
\DoxyCodeLine{00106\ \textcolor{preprocessor}{\ \ \ \ (strncmp(str,\ prefix,\ sizeof("{}"{}}\ prefix\ "{}"{})\ -\/\ 1)\ ==\ 0\ ?\ str\ +\ sizeof(prefix)\ -\/\ 1\ :\ NULL)}
\DoxyCodeLine{00107\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \textcolor{comment}{//\ Same\ as\ strprefix()\ (immediately\ above),\ but\ matches\ a\ case-\/insensitive}}
\DoxyCodeLine{00110\ \textcolor{comment}{//\ prefix.}}
\DoxyCodeLine{00111\ \textcolor{preprocessor}{\#ifndef\ strcaseprefix}}
\DoxyCodeLine{00112\ \textcolor{preprocessor}{\#define\ strcaseprefix(str,\ prefix)\ \(\backslash\)}}
\DoxyCodeLine{00113\ \textcolor{preprocessor}{\ \ \ \ (strncasecmp(str,\ prefix,\ sizeof("{}"{}}\ prefix\ "{}"{})\ -\/\ 1)\ ==\ 0\ ?\ str\ +\ sizeof(prefix)\ -\/\ 1\ :\ NULL)}
\DoxyCodeLine{00114\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \textcolor{comment}{//\ Matches\ a\ prefix\ (up\ to\ the\ first\ needle\_size\ bytes\ of\ needle)\ in\ the\ first}}
\DoxyCodeLine{00117\ \textcolor{comment}{//\ haystack\_size\ byte\ of\ haystack.\ Returns\ a\ pointer\ past\ the\ prefix,\ or\ NULL\ if}}
\DoxyCodeLine{00118\ \textcolor{comment}{//\ the\ prefix\ wasn't\ matched.\ (Unlike\ strprefix(),\ prefix\ doesn't\ need\ to\ be\ a}}
\DoxyCodeLine{00119\ \textcolor{comment}{//\ char*\ literal.\ Like\ the\ standard\ strncmp(),\ but\ also\ takes\ a\ haystack\_size,}}
\DoxyCodeLine{00120\ \textcolor{comment}{//\ and\ returns\ a\ pointer\ rather\ than\ an\ int.)}}
\DoxyCodeLine{00121\ \textcolor{comment}{//}}
\DoxyCodeLine{00122\ \textcolor{comment}{//\ Always\ returns\ either\ NULL\ or\ haystack\ +\ needle\_size.}}
\DoxyCodeLine{00123\ \textcolor{comment}{//}}
\DoxyCodeLine{00124\ \textcolor{comment}{//\ Some\ windows\ header\ sometimes\ \#defines\ strnprefix\ to\ something\ we}}
\DoxyCodeLine{00125\ \textcolor{comment}{//\ don't\ want.}}
\DoxyCodeLine{00126\ \textcolor{preprocessor}{\#ifdef\ strnprefix}}
\DoxyCodeLine{00127\ \textcolor{preprocessor}{\#undef\ strnprefix}}
\DoxyCodeLine{00128\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00129\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_ac0194599725cc5a069f0f8ce45fe9e7c}{strnprefix}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ haystack,\ \textcolor{keywordtype}{int}\ haystack\_size,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ needle,}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ needle\_size);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \textcolor{comment}{//\ Matches\ a\ case-\/insensitive\ prefix\ (up\ to\ the\ first\ needle\_size\ bytes\ of}}
\DoxyCodeLine{00133\ \textcolor{comment}{//\ needle)\ in\ the\ first\ haystack\_size\ byte\ of\ haystack.\ Returns\ a\ pointer\ past}}
\DoxyCodeLine{00134\ \textcolor{comment}{//\ the\ prefix,\ or\ NULL\ if\ the\ prefix\ wasn't\ matched.}}
\DoxyCodeLine{00135\ \textcolor{comment}{//}}
\DoxyCodeLine{00136\ \textcolor{comment}{//\ Always\ returns\ either\ NULL\ or\ haystack\ +\ needle\_size.}}
\DoxyCodeLine{00137\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a7657e5d923b03ecc25183e4914de8a43}{strncaseprefix}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ haystack,\ \textcolor{keywordtype}{int}\ haystack\_size,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ needle,}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ needle\_size);}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \textcolor{comment}{//\ Matches\ a\ prefix;\ returns\ a\ pointer\ past\ the\ prefix,\ or\ NULL\ if\ not\ found.}}
\DoxyCodeLine{00141\ \textcolor{comment}{//\ (Like\ strprefix()\ and\ strcaseprefix()\ but\ not\ restricted\ to\ searching\ for}}
\DoxyCodeLine{00142\ \textcolor{comment}{//\ char*\ literals).\ Templated\ so\ searching\ a\ const\ char*\ returns\ a\ const\ char*,}}
\DoxyCodeLine{00143\ \textcolor{comment}{//\ and\ searching\ a\ non-\/const\ char*\ returns\ a\ non-\/const\ char*.}}
\DoxyCodeLine{00144\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ CharStar>}
\DoxyCodeLine{00145\ CharStar\ \mbox{\hyperlink{util_8h_a95886204dcd2ad227b600c1832253160}{var\_strprefix}}(CharStar\ str,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ prefix)\ \{}
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ len\ =\ strlen(prefix);}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordflow}{return}\ strncmp(str,\ prefix,\ len)\ ==\ 0\ ?\ str\ +\ len\ :\ NULL;}
\DoxyCodeLine{00148\ \}}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \textcolor{comment}{//\ Same\ as\ var\_strprefix()\ (immediately\ above),\ but\ matches\ a\ case-\/insensitive}}
\DoxyCodeLine{00151\ \textcolor{comment}{//\ prefix.}}
\DoxyCodeLine{00152\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ CharStar>}
\DoxyCodeLine{00153\ CharStar\ \mbox{\hyperlink{util_8h_a524d5abcfaac7cf502eab5ec8a787a7c}{var\_strcaseprefix}}(CharStar\ str,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ prefix)\ \{}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ len\ =\ strlen(prefix);}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordflow}{return}\ strncasecmp(str,\ prefix,\ len)\ ==\ 0\ ?\ str\ +\ len\ :\ NULL;}
\DoxyCodeLine{00156\ \}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \textcolor{comment}{//\ Returns\ input,\ or\ "{}(null)"{}\ if\ NULL.\ (Useful\ for\ logging.)}}
\DoxyCodeLine{00159\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a5ef4e79f1ae7b2ae3cc9a62d71b61513}{GetPrintableString}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \textcolor{keyword}{const}\ in)\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keywordflow}{return}\ NULL\ ==\ in\ ?\ \textcolor{stringliteral}{"{}(null)"{}}\ :\ in;}
\DoxyCodeLine{00161\ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \textcolor{comment}{//\ Returns\ whether\ str\ begins\ with\ prefix.}}
\DoxyCodeLine{00164\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{util_8h_a42dd1552add86d9d48893a266c511408}{HasPrefixString}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ str,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ prefix)\ \{}
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keywordflow}{return}\ str.\mbox{\hyperlink{class_string_piece_a05ce2fff30e5bfc47d683a02b40d6829}{starts\_with}}(prefix);}
\DoxyCodeLine{00166\ \}}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ \textcolor{comment}{//\ Returns\ whether\ str\ ends\ with\ suffix.}}
\DoxyCodeLine{00169\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{util_8h_ae7e392d019379375af2885baf306644f}{HasSuffixString}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ str,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ suffix)\ \{}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordflow}{return}\ str.\mbox{\hyperlink{class_string_piece_a7487e6ececb6cc57698b94e97409b175}{ends\_with}}(suffix);}
\DoxyCodeLine{00171\ \}}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \textcolor{comment}{//\ Returns\ true\ if\ the\ string\ passed\ in\ matches\ the\ pattern.\ The\ pattern}}
\DoxyCodeLine{00174\ \textcolor{comment}{//\ string\ can\ contain\ wildcards\ like\ *\ and\ ?}}
\DoxyCodeLine{00175\ \textcolor{comment}{//\ The\ backslash\ character\ (\(\backslash\))\ is\ an\ escape\ character\ for\ *\ and\ ?}}
\DoxyCodeLine{00176\ \textcolor{comment}{//\ We\ limit\ the\ patterns\ to\ having\ a\ max\ of\ 16\ *\ or\ ?\ characters.}}
\DoxyCodeLine{00177\ \textcolor{comment}{//\ ?\ matches\ 0\ or\ 1\ character,\ while\ *\ matches\ 0\ or\ more\ characters.}}
\DoxyCodeLine{00178\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{util_8h_a1e75d70a35e94c88f078bc95347aa358}{MatchPattern}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ \textcolor{keywordtype}{string},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ pattern);}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \textcolor{comment}{//\ Returns\ where\ suffix\ begins\ in\ str,\ or\ NULL\ if\ str\ doesn't\ end\ with\ suffix.}}
\DoxyCodeLine{00181\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a6ca8c89785c7fb4db9cce07c6c15695b}{strsuffix}}(\textcolor{keywordtype}{char}*\ str,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ suffix)\ \{}
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ lenstr\ =\ strlen(str);}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ lensuffix\ =\ strlen(suffix);}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordtype}{char}*\ strbeginningoftheend\ =\ str\ +\ lenstr\ -\/\ lensuffix;}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keywordflow}{if}\ (lenstr\ >=\ lensuffix\ \&\&\ 0\ ==\ strcmp(strbeginningoftheend,\ suffix))\ \{}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (strbeginningoftheend);}
\DoxyCodeLine{00188\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (NULL);}
\DoxyCodeLine{00190\ \ \ \ \ \}}
\DoxyCodeLine{00191\ \}}
\DoxyCodeLine{00192\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a6ca8c89785c7fb4db9cce07c6c15695b}{strsuffix}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ suffix)\ \{}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{const\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\mbox{\hyperlink{util_8h_a6ca8c89785c7fb4db9cce07c6c15695b}{strsuffix}}(\textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(str),\ suffix));}
\DoxyCodeLine{00194\ \}}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \textcolor{comment}{//\ Same\ as\ strsuffix()\ (immediately\ above),\ but\ matches\ a\ case-\/insensitive}}
\DoxyCodeLine{00197\ \textcolor{comment}{//\ suffix.}}
\DoxyCodeLine{00198\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a01893b6aa45f6e781fe17e8b3b1ae921}{strcasesuffix}}(\textcolor{keywordtype}{char}*\ str,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ suffix);}
\DoxyCodeLine{00199\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a01893b6aa45f6e781fe17e8b3b1ae921}{strcasesuffix}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ suffix)\ \{}
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{const\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\mbox{\hyperlink{util_8h_a01893b6aa45f6e781fe17e8b3b1ae921}{strcasesuffix}}(\textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(str),\ suffix));}
\DoxyCodeLine{00201\ \}}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_abc64724c54e4e6a38eecf705225c8bbe}{strnsuffix}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ haystack,\ \textcolor{keywordtype}{int}\ haystack\_size,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ needle,}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ needle\_size);}
\DoxyCodeLine{00205\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_ace6a46a57b87765d58e9d69eae859427}{strncasesuffix}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ haystack,\ \textcolor{keywordtype}{int}\ haystack\_size,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ needle,}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ needle\_size);}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \textcolor{comment}{//\ Returns\ the\ number\ of\ times\ a\ character\ occurs\ in\ a\ string\ for\ a\ null}}
\DoxyCodeLine{00209\ \textcolor{comment}{//\ terminated\ string.}}
\DoxyCodeLine{00210\ \textcolor{keyword}{inline}\ ptrdiff\_t\ \mbox{\hyperlink{util_8h_aefc65abb5c6941ba2351a906cfb36fc2}{strcount}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ buf,\ \textcolor{keywordtype}{char}\ c)\ \{}
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{keywordflow}{if}\ (buf\ ==\ NULL)\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00212\ \ \ \ \ ptrdiff\_t\ num\ =\ 0;}
\DoxyCodeLine{00213\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ bp\ =\ buf;\ *bp\ !=\ \textcolor{charliteral}{'\(\backslash\)0'};\ bp++)\ \{}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*bp\ ==\ c)\ num++;}
\DoxyCodeLine{00215\ \ \ \ \ \}}
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keywordflow}{return}\ num;}
\DoxyCodeLine{00217\ \}}
\DoxyCodeLine{00218\ \textcolor{comment}{//\ Returns\ the\ number\ of\ times\ a\ character\ occurs\ in\ a\ string\ for\ a\ string}}
\DoxyCodeLine{00219\ \textcolor{comment}{//\ defined\ by\ a\ pointer\ to\ the\ first\ character\ and\ a\ pointer\ just\ past\ the\ last}}
\DoxyCodeLine{00220\ \textcolor{comment}{//\ character.}}
\DoxyCodeLine{00221\ \textcolor{keyword}{inline}\ ptrdiff\_t\ \mbox{\hyperlink{util_8h_aefc65abb5c6941ba2351a906cfb36fc2}{strcount}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ buf\_begin,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ buf\_end,\ \textcolor{keywordtype}{char}\ c)\ \{}
\DoxyCodeLine{00222\ \ \ \ \ \textcolor{keywordflow}{if}\ (buf\_begin\ ==\ NULL)\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{keywordflow}{if}\ (buf\_end\ <=\ buf\_begin)\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00224\ \ \ \ \ ptrdiff\_t\ num\ =\ 0;}
\DoxyCodeLine{00225\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ bp\ =\ buf\_begin;\ bp\ !=\ buf\_end;\ bp++)\ \{}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*bp\ ==\ c)\ num++;}
\DoxyCodeLine{00227\ \ \ \ \ \}}
\DoxyCodeLine{00228\ \ \ \ \ \textcolor{keywordflow}{return}\ num;}
\DoxyCodeLine{00229\ \}}
\DoxyCodeLine{00230\ \textcolor{comment}{//\ Returns\ the\ number\ of\ times\ a\ character\ occurs\ in\ a\ string\ for\ a\ string}}
\DoxyCodeLine{00231\ \textcolor{comment}{//\ defined\ by\ a\ pointer\ to\ the\ first\ char\ and\ a\ length:}}
\DoxyCodeLine{00232\ \textcolor{keyword}{inline}\ ptrdiff\_t\ \mbox{\hyperlink{util_8h_aefc65abb5c6941ba2351a906cfb36fc2}{strcount}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ buf,\ \textcolor{keywordtype}{size\_t}\ len,\ \textcolor{keywordtype}{char}\ c)\ \{}
\DoxyCodeLine{00233\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{util_8h_aefc65abb5c6941ba2351a906cfb36fc2}{strcount}}(buf,\ buf\ +\ len,\ c);}
\DoxyCodeLine{00234\ \}}
\DoxyCodeLine{00235\ \textcolor{comment}{//\ Returns\ the\ number\ of\ times\ a\ character\ occurs\ in\ a\ string\ for\ a\ C++\ string:}}
\DoxyCodeLine{00236\ \textcolor{keyword}{inline}\ ptrdiff\_t\ \mbox{\hyperlink{util_8h_aefc65abb5c6941ba2351a906cfb36fc2}{strcount}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\&\ buf,\ \textcolor{keywordtype}{char}\ c)\ \{}
\DoxyCodeLine{00237\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{util_8h_aefc65abb5c6941ba2351a906cfb36fc2}{strcount}}(buf.c\_str(),\ buf.size(),\ c);}
\DoxyCodeLine{00238\ \}}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \textcolor{comment}{//\ Returns\ a\ pointer\ to\ the\ nth\ occurrence\ of\ a\ character\ in\ a\ null-\/terminated}}
\DoxyCodeLine{00241\ \textcolor{comment}{//\ string.}}
\DoxyCodeLine{00242\ \textcolor{comment}{//\ WARNING:\ Removes\ const-\/ness\ of\ string\ argument!}}
\DoxyCodeLine{00243\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a658bf43aac17fc70050e477fb27e01c6}{strchrnth}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\&\ c,\ \textcolor{keywordtype}{int}\ n);}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \textcolor{comment}{//\ Returns\ a\ pointer\ to\ the\ nth\ occurrence\ of\ a\ character\ in\ a\ null-\/terminated}}
\DoxyCodeLine{00246\ \textcolor{comment}{//\ string,\ or\ the\ last\ occurrence\ if\ occurs\ fewer\ than\ n\ times.}}
\DoxyCodeLine{00247\ \textcolor{comment}{//\ WARNING:\ Removes\ const-\/ness\ of\ string\ argument!}}
\DoxyCodeLine{00248\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a1f5d36aa31cb2e86e72dd083fb988e22}{AdjustedLastPos}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \textcolor{keywordtype}{char}\ separator,\ \textcolor{keywordtype}{int}\ n);}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \textcolor{comment}{//\ STL-\/compatible\ function\ objects\ for\ char*\ string\ keys:}}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \textcolor{comment}{//\ Compares\ two\ char*\ strings\ for\ equality.\ (Works\ with\ NULL,\ which\ compares}}
\DoxyCodeLine{00253\ \textcolor{comment}{//\ equal\ only\ to\ another\ NULL).\ Useful\ in\ hash\ tables:}}
\DoxyCodeLine{00254\ \textcolor{comment}{//\ \ \ \ hash\_map<const\ char*,\ Value,\ hash<const\ char*>,\ streq>\ ht;}}
\DoxyCodeLine{00255\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structstreq}{streq}}\ \{}
\DoxyCodeLine{00256\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structstreq_a33ccfa851d319503af1184ec7a1e0387}{operator()}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{lgamma_8c_a1ff9ee3251659529629e761b307fada6}{s1}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{lgamma_8c_a6f99aff13f96e26313f4fdfb4fbe5b1d}{s2}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((\mbox{\hyperlink{lgamma_8c_a1ff9ee3251659529629e761b307fada6}{s1}}\ ==\ 0\ \&\&\ \mbox{\hyperlink{lgamma_8c_a6f99aff13f96e26313f4fdfb4fbe5b1d}{s2}}\ ==\ 0)\ ||\ (\mbox{\hyperlink{lgamma_8c_a1ff9ee3251659529629e761b307fada6}{s1}}\ \&\&\ \mbox{\hyperlink{lgamma_8c_a6f99aff13f96e26313f4fdfb4fbe5b1d}{s2}}\ \&\&\ *\mbox{\hyperlink{lgamma_8c_a1ff9ee3251659529629e761b307fada6}{s1}}\ ==\ *\mbox{\hyperlink{lgamma_8c_a6f99aff13f96e26313f4fdfb4fbe5b1d}{s2}}\ \&\&\ strcmp(\mbox{\hyperlink{lgamma_8c_a1ff9ee3251659529629e761b307fada6}{s1}},\ \mbox{\hyperlink{lgamma_8c_a6f99aff13f96e26313f4fdfb4fbe5b1d}{s2}})\ ==\ 0));}
\DoxyCodeLine{00258\ \ \ \ \ \}}
\DoxyCodeLine{00259\ \};}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00261\ \textcolor{comment}{//\ Compares\ two\ char*\ strings.\ (Works\ with\ NULL,\ which\ compares\ greater\ than\ any}}
\DoxyCodeLine{00262\ \textcolor{comment}{//\ non-\/NULL).\ Useful\ in\ maps:}}
\DoxyCodeLine{00263\ \textcolor{comment}{//\ \ \ \ map<const\ char*,\ Value,\ strlt>\ m;}}
\DoxyCodeLine{00264\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structstrlt}{strlt}}\ \{}
\DoxyCodeLine{00265\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structstrlt_a33ccfa851d319503af1184ec7a1e0387}{operator()}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{lgamma_8c_a1ff9ee3251659529629e761b307fada6}{s1}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{lgamma_8c_a6f99aff13f96e26313f4fdfb4fbe5b1d}{s2}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{lgamma_8c_a1ff9ee3251659529629e761b307fada6}{s1}}\ !=\ \mbox{\hyperlink{lgamma_8c_a6f99aff13f96e26313f4fdfb4fbe5b1d}{s2}})\ \&\&\ (\mbox{\hyperlink{lgamma_8c_a6f99aff13f96e26313f4fdfb4fbe5b1d}{s2}}\ ==\ 0\ ||\ (\mbox{\hyperlink{lgamma_8c_a1ff9ee3251659529629e761b307fada6}{s1}}\ !=\ 0\ \&\&\ strcmp(\mbox{\hyperlink{lgamma_8c_a1ff9ee3251659529629e761b307fada6}{s1}},\ \mbox{\hyperlink{lgamma_8c_a6f99aff13f96e26313f4fdfb4fbe5b1d}{s2}})\ <\ 0));}
\DoxyCodeLine{00267\ \ \ \ \ \}}
\DoxyCodeLine{00268\ \};}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \textcolor{comment}{//\ Returns\ whether\ str\ has\ only\ Ascii\ characters\ (as\ defined\ by\ ascii\_isascii()}}
\DoxyCodeLine{00271\ \textcolor{comment}{//\ in\ strings/ascii\_ctype.h).}}
\DoxyCodeLine{00272\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{util_8h_a7c963b4e824e08740ae8f7f34e16dc97}{IsAscii}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \textcolor{keywordtype}{int}\ len);}
\DoxyCodeLine{00273\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{util_8h_a7c963b4e824e08740ae8f7f34e16dc97}{IsAscii}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ str)\ \{}
\DoxyCodeLine{00274\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{util_8h_a7c963b4e824e08740ae8f7f34e16dc97}{IsAscii}}(str.\mbox{\hyperlink{class_string_piece_aa3affb1becdd976aba1036a161a3134d}{data}}(),\ str.\mbox{\hyperlink{class_string_piece_af9593d4a5ff4274efaf429cb4f9e57cc}{size}}());}
\DoxyCodeLine{00275\ \}}
\DoxyCodeLine{00276\ }
\DoxyCodeLine{00277\ \textcolor{comment}{//\ Returns\ the\ smallest\ lexicographically\ larger\ string\ of\ equal\ or\ smaller}}
\DoxyCodeLine{00278\ \textcolor{comment}{//\ length.\ Returns\ an\ empty\ string\ if\ there\ is\ no\ such\ successor\ (if\ the\ input}}
\DoxyCodeLine{00279\ \textcolor{comment}{//\ is\ empty\ or\ consists\ entirely\ of\ 0xff\ bytes).}}
\DoxyCodeLine{00280\ \textcolor{comment}{//\ Useful\ for\ calculating\ the\ smallest\ lexicographically\ larger\ string}}
\DoxyCodeLine{00281\ \textcolor{comment}{//\ that\ will\ not\ be\ prefixed\ by\ the\ input\ string.}}
\DoxyCodeLine{00282\ \textcolor{comment}{//}}
\DoxyCodeLine{00283\ \textcolor{comment}{//\ Examples:}}
\DoxyCodeLine{00284\ \textcolor{comment}{//\ "{}a"{}\ -\/>\ "{}b"{},\ "{}aaa"{}\ -\/>\ "{}aab"{},\ "{}aa\(\backslash\)xff"{}\ -\/>\ "{}ab"{},\ "{}\(\backslash\)xff"{}\ -\/>\ "{}"{},\ "{}"{}\ -\/>\ "{}"{}}}
\DoxyCodeLine{00285\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{util_8h_ab9c44e692d4546a5d9ef57c4d55b00b2}{PrefixSuccessor}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ prefix);}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \textcolor{comment}{//\ Returns\ the\ immediate\ lexicographically-\/following\ string.\ This\ is\ useful\ to}}
\DoxyCodeLine{00288\ \textcolor{comment}{//\ turn\ an\ inclusive\ range\ into\ something\ that\ can\ be\ used\ with\ Bigtable's}}
\DoxyCodeLine{00289\ \textcolor{comment}{//\ SetLimitRow():}}
\DoxyCodeLine{00290\ \textcolor{comment}{//}}
\DoxyCodeLine{00291\ \textcolor{comment}{//\ \ \ \ \ //\ Inclusive\ range\ [min\_element,\ max\_element].}}
\DoxyCodeLine{00292\ \textcolor{comment}{//\ \ \ \ \ string\ min\_element\ =\ ...;}}
\DoxyCodeLine{00293\ \textcolor{comment}{//\ \ \ \ \ string\ max\_element\ =\ ...;}}
\DoxyCodeLine{00294\ \textcolor{comment}{//}}
\DoxyCodeLine{00295\ \textcolor{comment}{//\ \ \ \ \ //\ Equivalent\ range\ [range\_start,\ range\_end).}}
\DoxyCodeLine{00296\ \textcolor{comment}{//\ \ \ \ \ string\ range\_start\ =\ min\_element;}}
\DoxyCodeLine{00297\ \textcolor{comment}{//\ \ \ \ \ string\ range\_end\ =\ ImmediateSuccessor(max\_element);}}
\DoxyCodeLine{00298\ \textcolor{comment}{//}}
\DoxyCodeLine{00299\ \textcolor{comment}{//\ WARNING:\ Returns\ the\ input\ string\ with\ a\ '\(\backslash\)0'\ appended;\ if\ you\ call\ c\_str()}}
\DoxyCodeLine{00300\ \textcolor{comment}{//\ on\ the\ result,\ it\ will\ compare\ equal\ to\ s.}}
\DoxyCodeLine{00301\ \textcolor{comment}{//}}
\DoxyCodeLine{00302\ \textcolor{comment}{//\ WARNING:\ Transforms\ "{}"{}\ -\/>\ "{}\(\backslash\)0"{};\ this\ doesn't\ account\ for\ Bigtable's\ special}}
\DoxyCodeLine{00303\ \textcolor{comment}{//\ treatment\ of\ "{}"{}\ as\ infinity.}}
\DoxyCodeLine{00304\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{util_8h_a2e472df84eead2a763f0dffe47e06151}{ImmediateSuccessor}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ s);}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \textcolor{comment}{//\ Fills\ in\ *separator\ with\ a\ short\ string\ less\ than\ limit\ but\ greater\ than\ or}}
\DoxyCodeLine{00307\ \textcolor{comment}{//\ equal\ to\ start.\ If\ limit\ is\ greater\ than\ start,\ *separator\ is\ the\ common}}
\DoxyCodeLine{00308\ \textcolor{comment}{//\ prefix\ of\ start\ and\ limit,\ followed\ by\ the\ successor\ to\ the\ next\ character\ in}}
\DoxyCodeLine{00309\ \textcolor{comment}{//\ start.\ Examples:}}
\DoxyCodeLine{00310\ \textcolor{comment}{//\ FindShortestSeparator("{}foobar"{},\ "{}foxhunt"{},\ \&sep)\ =>\ sep\ ==\ "{}fop"{}}}
\DoxyCodeLine{00311\ \textcolor{comment}{//\ FindShortestSeparator("{}abracadabra"{},\ "{}bacradabra"{},\ \&sep)\ =>\ sep\ ==\ "{}b"{}}}
\DoxyCodeLine{00312\ \textcolor{comment}{//\ If\ limit\ is\ less\ than\ or\ equal\ to\ start,\ fills\ in\ *separator\ with\ start.}}
\DoxyCodeLine{00313\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{util_8h_a00ca3d604c38c03f78907737e9a27bdc}{FindShortestSeparator}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ start,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ limit,\ \textcolor{keywordtype}{string}*\ separator);}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \textcolor{comment}{//\ Copies\ at\ most\ n-\/1\ bytes\ from\ src\ to\ dest,\ and\ returns\ dest.\ If\ n\ >=1,\ null}}
\DoxyCodeLine{00316\ \textcolor{comment}{//\ terminates\ dest;\ otherwise,\ returns\ dest\ unchanged.\ Unlike\ strncpy(),\ only}}
\DoxyCodeLine{00317\ \textcolor{comment}{//\ puts\ one\ null\ character\ at\ the\ end\ of\ dest.}}
\DoxyCodeLine{00318\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_ac189d901c8e0df0f9dd43ab8d718c114}{safestrncpy}}(\textcolor{keywordtype}{char}*\ dest,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ src,\ \textcolor{keywordtype}{size\_t}\ n)\ \{}
\DoxyCodeLine{00319\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 1)\ \textcolor{keywordflow}{return}\ dest;}
\DoxyCodeLine{00320\ }
\DoxyCodeLine{00321\ \ \ \ \ \textcolor{comment}{//\ Avoid\ using\ non-\/ANSI\ memccpy(),\ which\ is\ also\ deprecated\ in\ MSVC}}
\DoxyCodeLine{00322\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ n;\ ++i)\ \{}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((dest[i]\ =\ src[i])\ ==\ \textcolor{charliteral}{'\(\backslash\)0'})\ \textcolor{keywordflow}{return}\ dest;}
\DoxyCodeLine{00324\ \ \ \ \ \}}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \ \ \ \ dest[n\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00327\ \ \ \ \ \textcolor{keywordflow}{return}\ dest;}
\DoxyCodeLine{00328\ \}}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00330\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacestrings}{strings}}\ \{}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \textcolor{comment}{//\ BSD-\/style\ safe\ and\ consistent\ string\ copy\ functions.}}
\DoxyCodeLine{00333\ \textcolor{comment}{//\ Copies\ |src|\ to\ |dst|,\ where\ |dst\_size|\ is\ the\ total\ allocated\ size\ of\ |dst|.}}
\DoxyCodeLine{00334\ \textcolor{comment}{//\ Copies\ at\ most\ |dst\_size|-\/1\ characters,\ and\ always\ NULL\ terminates\ |dst|,\ as}}
\DoxyCodeLine{00335\ \textcolor{comment}{//\ long\ as\ |dst\_size|\ is\ not\ 0.\ \ Returns\ the\ length\ of\ |src|\ in\ characters.}}
\DoxyCodeLine{00336\ \textcolor{comment}{//\ If\ the\ return\ value\ is\ >=\ dst\_size,\ then\ the\ output\ was\ truncated.}}
\DoxyCodeLine{00337\ \textcolor{comment}{//\ NOTE:\ All\ sizes\ are\ in\ number\ of\ characters,\ NOT\ in\ bytes.}}
\DoxyCodeLine{00338\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespacestrings_a332cfff5203e792be88d633b3da29b9d}{strlcpy}}(\textcolor{keywordtype}{char}*\ dst,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ src,\ \textcolor{keywordtype}{size\_t}\ dst\_size);}
\DoxyCodeLine{00339\ }
\DoxyCodeLine{00340\ \}\ \textcolor{comment}{//\ namespace\ strings}}
\DoxyCodeLine{00341\ }
\DoxyCodeLine{00342\ \textcolor{comment}{//\ Replaces\ the\ first\ occurrence\ (if\ replace\_all\ is\ false)\ or\ all\ occurrences}}
\DoxyCodeLine{00343\ \textcolor{comment}{//\ (if\ replace\_all\ is\ true)\ of\ oldsub\ in\ s\ with\ newsub.\ In\ the\ second\ version,}}
\DoxyCodeLine{00344\ \textcolor{comment}{//\ *res\ must\ be\ distinct\ from\ all\ the\ other\ arguments.}}
\DoxyCodeLine{00345\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{util_8h_a38b6c1f596ee24ff046f53105eccecbc}{StringReplace}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ s,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ oldsub,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ newsub,}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ replace\_all);}
\DoxyCodeLine{00347\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{util_8h_a38b6c1f596ee24ff046f53105eccecbc}{StringReplace}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ s,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ oldsub,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ newsub,}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ replace\_all,\ \textcolor{keywordtype}{string}*\ res);}
\DoxyCodeLine{00349\ }
\DoxyCodeLine{00350\ \textcolor{comment}{//\ Replaces\ all\ occurrences\ of\ substring\ in\ s\ with\ replacement.\ Returns\ the}}
\DoxyCodeLine{00351\ \textcolor{comment}{//\ number\ of\ instances\ replaced.\ s\ must\ be\ distinct\ from\ the\ other\ arguments.}}
\DoxyCodeLine{00352\ \textcolor{comment}{//}}
\DoxyCodeLine{00353\ \textcolor{comment}{//\ Less\ flexible,\ but\ faster,\ than\ RE::GlobalReplace().}}
\DoxyCodeLine{00354\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{util_8h_a3e66df1e74c72e55143545817ff1c944}{GlobalReplaceSubstring}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ substring,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ \mbox{\hyperlink{column__object_8cpp_ab006e595394870c4056d544821e41c20}{replacement}},\ \textcolor{keywordtype}{string}*\ s);}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \textcolor{comment}{//\ Removes\ v[i]\ for\ every\ element\ i\ in\ indices.\ Does\ *not*\ preserve\ the\ order\ of}}
\DoxyCodeLine{00357\ \textcolor{comment}{//\ v.\ indices\ must\ be\ sorted\ in\ strict\ increasing\ order\ (no\ duplicates).\ Runs\ in}}
\DoxyCodeLine{00358\ \textcolor{comment}{//\ O(indices.size()).}}
\DoxyCodeLine{00359\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{util_8h_a1bffcb829616c373d6f1202768bb1b9e}{RemoveStrings}}(vector<string>*\ v,\ \textcolor{keyword}{const}\ vector<int>\&\ indices);}
\DoxyCodeLine{00360\ }
\DoxyCodeLine{00361\ \textcolor{comment}{//\ Case-\/insensitive\ strstr();\ use\ system\ strcasestr()\ instead.}}
\DoxyCodeLine{00362\ \textcolor{comment}{//\ WARNING:\ Removes\ const-\/ness\ of\ string\ argument!}}
\DoxyCodeLine{00363\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_abd43357d5ff66791218adfdbd78589bc}{gstrcasestr}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ haystack,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ needle);}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00365\ \textcolor{comment}{//\ Finds\ (case\ insensitively)\ the\ first\ occurrence\ of\ (null\ terminated)\ needle}}
\DoxyCodeLine{00366\ \textcolor{comment}{//\ in\ at\ most\ the\ first\ len\ bytes\ of\ haystack.\ Returns\ a\ pointer\ into\ haystack,}}
\DoxyCodeLine{00367\ \textcolor{comment}{//\ or\ NULL\ if\ needle\ wasn't\ found.}}
\DoxyCodeLine{00368\ \textcolor{comment}{//\ WARNING:\ Removes\ const-\/ness\ of\ haystack!}}
\DoxyCodeLine{00369\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a98798c26b5a1204d3e73eefb1b3c01d5}{gstrncasestr}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ haystack,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ needle,\ \textcolor{keywordtype}{size\_t}\ len);}
\DoxyCodeLine{00370\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a98798c26b5a1204d3e73eefb1b3c01d5}{gstrncasestr}}(\textcolor{keywordtype}{char}*\ haystack,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ needle,\ \textcolor{keywordtype}{size\_t}\ len);}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ \textcolor{comment}{//\ Finds\ (case\ insensitively),\ in\ str\ (which\ is\ a\ list\ of\ tokens\ separated\ by}}
\DoxyCodeLine{00373\ \textcolor{comment}{//\ non\_alpha),\ a\ token\ prefix\ and\ a\ token\ suffix.\ Returns\ a\ pointer\ into\ str\ of}}
\DoxyCodeLine{00374\ \textcolor{comment}{//\ the\ position\ of\ prefix,\ or\ NULL\ if\ not\ found.}}
\DoxyCodeLine{00375\ \textcolor{comment}{//\ WARNING:\ Removes\ const-\/ness\ of\ string\ argument!}}
\DoxyCodeLine{00376\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a227d5cc4be25d6a1718647b0af60bde1}{gstrncasestr\_split}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ prefix,\ \textcolor{keywordtype}{char}\ non\_alpha,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ suffix,}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ n);}
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00379\ \textcolor{comment}{//\ Finds\ (case\ insensitively)\ needle\ in\ haystack,\ paying\ attention\ only\ to}}
\DoxyCodeLine{00380\ \textcolor{comment}{//\ alphanumerics\ in\ either\ string.\ Returns\ a\ pointer\ into\ haystack,\ or\ NULL\ if}}
\DoxyCodeLine{00381\ \textcolor{comment}{//\ not\ found.}}
\DoxyCodeLine{00382\ \textcolor{comment}{//\ Example:\ strcasestr\_alnum("{}This\ is\ a\ longer\ test\ string"{},\ "{}IS-\/A-\/LONGER"{})}}
\DoxyCodeLine{00383\ \textcolor{comment}{//\ returns\ a\ pointer\ to\ "{}is\ a\ longer"{}.}}
\DoxyCodeLine{00384\ \textcolor{comment}{//\ WARNING:\ Removes\ const-\/ness\ of\ string\ argument!}}
\DoxyCodeLine{00385\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_aa5fabdfe87d4048fcd09e6786867f9c5}{strcasestr\_alnum}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ haystack,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ needle);}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ \textcolor{comment}{//\ Returns\ the\ number\ times\ substring\ appears\ in\ text.}}
\DoxyCodeLine{00388\ \textcolor{comment}{//\ Note:\ Runs\ in\ O(text.length()\ *\ substring.length()).\ Do\ *not*\ use\ on\ long}}
\DoxyCodeLine{00389\ \textcolor{comment}{//\ strings.}}
\DoxyCodeLine{00390\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{util_8h_a156fcc3de76768944b2b215f51039fa0}{CountSubstring}}(\mbox{\hyperlink{class_string_piece}{StringPiece}}\ text,\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\ substring);}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00392\ \textcolor{comment}{//\ Finds,\ in\ haystack\ (which\ is\ a\ list\ of\ tokens\ separated\ by\ delim),\ an\ token}}
\DoxyCodeLine{00393\ \textcolor{comment}{//\ equal\ to\ needle.\ Returns\ a\ pointer\ into\ haystack,\ or\ NULL\ if\ not\ found\ (or}}
\DoxyCodeLine{00394\ \textcolor{comment}{//\ either\ needle\ or\ haystack\ is\ empty).}}
\DoxyCodeLine{00395\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a822f0f52858b82af2a1cb626c281d573}{strstr\_delimited}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ haystack,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ needle,\ \textcolor{keywordtype}{char}\ delim);}
\DoxyCodeLine{00396\ }
\DoxyCodeLine{00397\ \textcolor{comment}{//\ Gets\ the\ next\ token\ from\ string\ *stringp,\ where\ tokens\ are\ strings\ separated}}
\DoxyCodeLine{00398\ \textcolor{comment}{//\ by\ characters\ from\ delim.}}
\DoxyCodeLine{00399\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_ae40083208cb8a99f757df4590827530e}{gstrsep}}(\textcolor{keywordtype}{char}**\ stringp,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ delim);}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00401\ \textcolor{comment}{//\ Appends\ StringPiece(data,\ len)\ to\ *s.}}
\DoxyCodeLine{00402\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{util_8h_ad933cba2e533bd0de3e5e1335198422d}{FastStringAppend}}(\textcolor{keywordtype}{string}*\ s,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}},\ \textcolor{keywordtype}{int}\ len);}
\DoxyCodeLine{00403\ }
\DoxyCodeLine{00404\ \textcolor{comment}{//\ Returns\ a\ duplicate\ of\ the\_string,\ with\ memory\ allocated\ by\ new[].}}
\DoxyCodeLine{00405\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a21fa0e74e1a9fc711fb9ced4fb6e4d7e}{strdup\_with\_new}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ the\_string);}
\DoxyCodeLine{00406\ }
\DoxyCodeLine{00407\ \textcolor{comment}{//\ Returns\ a\ duplicate\ of\ up\ to\ the\ first\ max\_length\ bytes\ of\ the\_string,\ with}}
\DoxyCodeLine{00408\ \textcolor{comment}{//\ memory\ allocated\ by\ new[].}}
\DoxyCodeLine{00409\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a55040a154a88ded0fed88a9bf35aff1b}{strndup\_with\_new}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ the\_string,\ \textcolor{keywordtype}{int}\ max\_length);}
\DoxyCodeLine{00410\ }
\DoxyCodeLine{00411\ \textcolor{comment}{//\ Finds,\ in\ the\_string,\ the\ first\ "{}word"{}\ (consecutive\ !ascii\_isspace()}}
\DoxyCodeLine{00412\ \textcolor{comment}{//\ characters).\ Returns\ pointer\ to\ the\ beginning\ of\ the\ word,\ and\ sets\ *end\_ptr}}
\DoxyCodeLine{00413\ \textcolor{comment}{//\ to\ the\ character\ after\ the\ word\ (which\ may\ be\ space\ or\ '\(\backslash\)0');\ returns\ NULL}}
\DoxyCodeLine{00414\ \textcolor{comment}{//\ (and\ *end\_ptr\ is\ undefined)\ if\ no\ next\ word\ found.}}
\DoxyCodeLine{00415\ \textcolor{comment}{//\ end\_ptr\ must\ not\ be\ NULL.}}
\DoxyCodeLine{00416\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a0500be8d3553a41dd44e1b489c2ccb6f}{ScanForFirstWord}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ the\_string,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}**\ end\_ptr);}
\DoxyCodeLine{00417\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_a0500be8d3553a41dd44e1b489c2ccb6f}{ScanForFirstWord}}(\textcolor{keywordtype}{char}*\ the\_string,\ \textcolor{keywordtype}{char}**\ end\_ptr)\ \{}
\DoxyCodeLine{00418\ \ \ \ \ \textcolor{comment}{//\ implicit\_cast<>\ would\ be\ more\ appropriate\ for\ casting\ to\ const,}}
\DoxyCodeLine{00419\ \ \ \ \ \textcolor{comment}{//\ but\ we\ save\ the\ inclusion\ of\ "{}base/casts.h"{}\ here\ by\ using\ const\_cast<>.}}
\DoxyCodeLine{00420\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\mbox{\hyperlink{util_8h_a0500be8d3553a41dd44e1b489c2ccb6f}{ScanForFirstWord}}(\textcolor{keyword}{const\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(the\_string),}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}**\textcolor{keyword}{>}(end\_ptr)));}
\DoxyCodeLine{00422\ \}}
\DoxyCodeLine{00423\ }
\DoxyCodeLine{00424\ \textcolor{comment}{//\ For\ the\ following\ functions,\ an\ "{}identifier"{}\ is\ a\ letter\ or\ underscore,}}
\DoxyCodeLine{00425\ \textcolor{comment}{//\ followed\ by\ letters,\ underscores,\ or\ digits.}}
\DoxyCodeLine{00426\ }
\DoxyCodeLine{00427\ \textcolor{comment}{//\ Returns\ a\ pointer\ past\ the\ end\ of\ the\ "{}identifier"{}\ (see\ above)\ beginning\ at}}
\DoxyCodeLine{00428\ \textcolor{comment}{//\ str,\ or\ NULL\ if\ str\ doesn't\ start\ with\ an\ identifier.}}
\DoxyCodeLine{00429\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_aaf7ecf50447cb693f0ed669575e35907}{AdvanceIdentifier}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str);}
\DoxyCodeLine{00430\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{util_8h_aaf7ecf50447cb693f0ed669575e35907}{AdvanceIdentifier}}(\textcolor{keywordtype}{char}*\ str)\ \{}
\DoxyCodeLine{00431\ \ \ \ \ \textcolor{comment}{//\ implicit\_cast<>\ would\ be\ more\ appropriate\ for\ casting\ to\ const,}}
\DoxyCodeLine{00432\ \ \ \ \ \textcolor{comment}{//\ but\ we\ save\ the\ inclusion\ of\ "{}base/casts.h"{}\ here\ by\ using\ const\_cast<>.}}
\DoxyCodeLine{00433\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\mbox{\hyperlink{util_8h_aaf7ecf50447cb693f0ed669575e35907}{AdvanceIdentifier}}(\textcolor{keyword}{const\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(str)));}
\DoxyCodeLine{00434\ \}}
\DoxyCodeLine{00435\ }
\DoxyCodeLine{00436\ \textcolor{comment}{//\ Returns\ whether\ str\ is\ an\ "{}identifier"{}\ (see\ above).}}
\DoxyCodeLine{00437\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{util_8h_a107d604408f496e5cacd58f34436c91c}{IsIdentifier}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str);}
\DoxyCodeLine{00438\ }
\DoxyCodeLine{00439\ \textcolor{comment}{//\ Finds\ the\ first\ tag\ and\ value\ in\ a\ string\ of\ tag/value\ pairs.}}
\DoxyCodeLine{00440\ \textcolor{comment}{//}}
\DoxyCodeLine{00441\ \textcolor{comment}{//\ The\ first\ pair\ begins\ after\ the\ first\ occurrence\ of\ attribute\_separator\ (or}}
\DoxyCodeLine{00442\ \textcolor{comment}{//\ string\_terminal,\ if\ not\ '\(\backslash\)0');\ tag\_value\_separator\ separates\ the\ tag\ and}}
\DoxyCodeLine{00443\ \textcolor{comment}{//\ value;\ and\ the\ value\ ends\ before\ the\ following\ occurrence\ of}}
\DoxyCodeLine{00444\ \textcolor{comment}{//\ attribute\_separator\ (or\ string\_terminal,\ if\ not\ '\(\backslash\)0').}}
\DoxyCodeLine{00445\ \textcolor{comment}{//}}
\DoxyCodeLine{00446\ \textcolor{comment}{//\ Returns\ true\ (and\ populates\ tag,\ tag\_len,\ value,\ and\ value\_len)\ if\ a}}
\DoxyCodeLine{00447\ \textcolor{comment}{//\ tag/value\ pair\ is\ founds;\ returns\ false\ otherwise.}}
\DoxyCodeLine{00448\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{util_8h_a837ca7337b32f87382478c1405e71bda}{FindTagValuePair}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ in\_str,\ \textcolor{keywordtype}{char}\ tag\_value\_separator,\ \textcolor{keywordtype}{char}\ attribute\_separator,}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ string\_terminal,\ \textcolor{keywordtype}{char}**\ tag,\ \textcolor{keywordtype}{int}*\ tag\_len,\ \textcolor{keywordtype}{char}**\ \mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}},\ \textcolor{keywordtype}{int}*\ value\_len);}
\DoxyCodeLine{00450\ }
\DoxyCodeLine{00451\ \textcolor{comment}{//\ Inserts\ separator\ after\ every\ interval\ characters\ in\ *s\ (but\ never\ appends\ to}}
\DoxyCodeLine{00452\ \textcolor{comment}{//\ the\ end\ of\ the\ original\ *s).}}
\DoxyCodeLine{00453\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{util_8h_a021d51a09967540c94408cc8b5f64a95}{UniformInsertString}}(\textcolor{keywordtype}{string}*\ s,\ \textcolor{keywordtype}{int}\ interval,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ separator);}
\DoxyCodeLine{00454\ }
\DoxyCodeLine{00455\ \textcolor{comment}{//\ Inserts\ separator\ into\ s\ at\ each\ specified\ index.\ indices\ must\ be\ sorted\ in}}
\DoxyCodeLine{00456\ \textcolor{comment}{//\ ascending\ order.}}
\DoxyCodeLine{00457\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{util_8h_a18139198c0dc174eb15258b8d1211160}{InsertString}}(\textcolor{keywordtype}{string}*\ s,\ \textcolor{keyword}{const}\ vector<uint32>\&\ indices,\ \textcolor{keywordtype}{char}\ \textcolor{keyword}{const}*\ separator);}
\DoxyCodeLine{00458\ }
\DoxyCodeLine{00459\ \textcolor{comment}{//\ Finds\ the\ nth\ occurrence\ of\ c\ in\ n;\ returns\ the\ index\ in\ s\ of\ that}}
\DoxyCodeLine{00460\ \textcolor{comment}{//\ occurrence,\ or\ string::npos\ if\ fewer\ than\ n\ occurrences.}}
\DoxyCodeLine{00461\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{util_8h_a2c9fe961bd298c1334cf999d3d6ef7bd}{FindNth}}(\mbox{\hyperlink{class_string_piece}{StringPiece}}\ s,\ \textcolor{keywordtype}{char}\ c,\ \textcolor{keywordtype}{int}\ n);}
\DoxyCodeLine{00462\ }
\DoxyCodeLine{00463\ \textcolor{comment}{//\ Finds\ the\ nth-\/to-\/last\ occurrence\ of\ c\ in\ s;\ returns\ the\ index\ in\ s\ of\ that}}
\DoxyCodeLine{00464\ \textcolor{comment}{//\ occurrence,\ or\ string::npos\ if\ fewer\ than\ n\ occurrences.}}
\DoxyCodeLine{00465\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{util_8h_a4f9129ce9c90c5436902cd609d801c38}{ReverseFindNth}}(\mbox{\hyperlink{class_string_piece}{StringPiece}}\ s,\ \textcolor{keywordtype}{char}\ c,\ \textcolor{keywordtype}{int}\ n);}
\DoxyCodeLine{00466\ }
\DoxyCodeLine{00467\ \textcolor{comment}{//\ Returns\ whether\ s\ contains\ only\ whitespace\ characters\ (including\ the\ case}}
\DoxyCodeLine{00468\ \textcolor{comment}{//\ where\ s\ is\ empty).}}
\DoxyCodeLine{00469\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{util_8h_a7109a9e4e317e86958febbf2c2c6ee82}{OnlyWhitespace}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_string_piece}{StringPiece}}\&\ s);}
\DoxyCodeLine{00470\ }
\DoxyCodeLine{00471\ \textcolor{comment}{//\ Formats\ a\ string\ in\ the\ same\ fashion\ as\ snprintf(),\ but\ returns\ either\ the}}
\DoxyCodeLine{00472\ \textcolor{comment}{//\ number\ of\ characters\ written,\ or\ zero\ if\ not\ enough\ space\ was\ available.}}
\DoxyCodeLine{00473\ \textcolor{comment}{//\ (snprintf()\ returns\ the\ number\ of\ characters\ that\ would\ have\ been\ written\ if}}
\DoxyCodeLine{00474\ \textcolor{comment}{//\ enough\ space\ had\ been\ available.)}}
\DoxyCodeLine{00475\ \textcolor{comment}{//}}
\DoxyCodeLine{00476\ \textcolor{comment}{//\ A\ drop-\/in\ replacement\ for\ the\ safe\_snprintf()\ macro.}}
\DoxyCodeLine{00477\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{util_8h_a7f6aa0f575848516981a3f3a54194605}{SafeSnprintf}}(\textcolor{keywordtype}{char}*\ str,\ \textcolor{keywordtype}{size\_t}\ size,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ format,\ ...)\ \mbox{\hyperlink{port_8h_adf205a2fcc1b6f724d01d397f9856f2d}{PRINTF\_ATTRIBUTE}}(3,\ 4);}
\DoxyCodeLine{00478\ }
\DoxyCodeLine{00479\ \textcolor{comment}{//\ Reads\ a\ line\ (terminated\ by\ delim)\ from\ file\ into\ *str.\ Reads\ delim\ from}}
\DoxyCodeLine{00480\ \textcolor{comment}{//\ file,\ but\ doesn't\ copy\ it\ into\ *str.\ Returns\ true\ if\ read\ a\ delim-\/terminated}}
\DoxyCodeLine{00481\ \textcolor{comment}{//\ line,\ or\ false\ on\ end-\/of-\/file\ or\ error.}}
\DoxyCodeLine{00482\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{util_8h_af6932a29016823f0a93fbae91f53a24a}{GetlineFromStdioFile}}(FILE*\ file,\ \textcolor{keywordtype}{string}*\ str,\ \textcolor{keywordtype}{char}\ delim);}

\end{DoxyCode}
