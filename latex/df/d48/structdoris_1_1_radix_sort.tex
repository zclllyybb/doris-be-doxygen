\hypertarget{structdoris_1_1_radix_sort}{}\doxysection{Radix\+Sort\texorpdfstring{$<$}{<} Traits \texorpdfstring{$>$}{>} 模板结构体 参考}
\label{structdoris_1_1_radix_sort}\index{RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}}


{\ttfamily \#include $<$radix\+\_\+sort.\+h$>$}

\doxysubsection*{静态 Public 成员函数}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{structdoris_1_1_radix_sort_a7012339ec414f01341be9f1dc2ee3eaa}{execute\+LSD}} (\mbox{\hyperlink{structdoris_1_1_radix_sort_af50e7927087119c5ad5b37aac724d712}{Element}} $\ast$arr, size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Least significant digit radix sort (stable) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private 类型}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{structdoris_1_1_radix_sort_af50e7927087119c5ad5b37aac724d712}{Element}} = typename Traits\+::\+Element
\item 
using \mbox{\hyperlink{structdoris_1_1_radix_sort_ada2f1b8ed708ba9fd438d9018669d4b9}{Key}} = typename Traits\+::\+Key
\item 
using \mbox{\hyperlink{structdoris_1_1_radix_sort_afa8a515cf588da2a01dcb79d09a3b763}{Count\+Type}} = typename Traits\+::\+Count\+Type
\item 
using \mbox{\hyperlink{structdoris_1_1_radix_sort_a3e786c6c8d3019319c170b56c67cd55b}{Key\+Bits}} = typename Traits\+::\+Key\+Bits
\end{DoxyCompactItemize}
\doxysubsection*{静态 Private 成员函数}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{compiler__util_8h_aa1dec568e79152c892dcf63f445cbd7a}{ALWAYS\+\_\+\+INLINE}} \mbox{\hyperlink{structdoris_1_1_radix_sort_a3e786c6c8d3019319c170b56c67cd55b}{Key\+Bits}} \mbox{\hyperlink{structdoris_1_1_radix_sort_a1133b87f4faa48a4811fb73cd77bed11}{get\+Part}} (size\+\_\+t \mbox{\hyperlink{exp_8c_a0240ac851181b84ac374872dc5434ee4}{N}}, \mbox{\hyperlink{structdoris_1_1_radix_sort_a3e786c6c8d3019319c170b56c67cd55b}{Key\+Bits}} x)
\item 
static \mbox{\hyperlink{structdoris_1_1_radix_sort_a3e786c6c8d3019319c170b56c67cd55b}{Key\+Bits}} \mbox{\hyperlink{structdoris_1_1_radix_sort_afe2567c2f2d40d96744ec942f30070eb}{key\+To\+Bits}} (\mbox{\hyperlink{structdoris_1_1_radix_sort_ada2f1b8ed708ba9fd438d9018669d4b9}{Key}} x)
\item 
static \mbox{\hyperlink{structdoris_1_1_radix_sort_ada2f1b8ed708ba9fd438d9018669d4b9}{Key}} \mbox{\hyperlink{structdoris_1_1_radix_sort_a0ce22f02eb4aa71d3fd90e547d178ab2}{bits\+To\+Key}} (\mbox{\hyperlink{structdoris_1_1_radix_sort_a3e786c6c8d3019319c170b56c67cd55b}{Key\+Bits}} x)
\end{DoxyCompactItemize}
\doxysubsection*{静态 Private 属性}
\begin{DoxyCompactItemize}
\item 
static constexpr size\+\_\+t \mbox{\hyperlink{structdoris_1_1_radix_sort_ae1c4d6f9edc1a85af8ec8a47fe253449}{INSERTION\+\_\+\+SORT\+\_\+\+THRESHOLD}} = 64
\item 
static constexpr size\+\_\+t \mbox{\hyperlink{structdoris_1_1_radix_sort_a93d6436bb57414bf4ac25336eef45418}{HISTOGRAM\+\_\+\+SIZE}} = 1 $<$$<$ Traits\+::\+PART\+\_\+\+SIZE\+\_\+\+BITS
\item 
static constexpr size\+\_\+t \mbox{\hyperlink{structdoris_1_1_radix_sort_ac7d82c88872785c5be98a28765149922}{PART\+\_\+\+BITMASK}} = \mbox{\hyperlink{structdoris_1_1_radix_sort_a93d6436bb57414bf4ac25336eef45418}{HISTOGRAM\+\_\+\+SIZE}} -\/ 1
\item 
static constexpr size\+\_\+t \mbox{\hyperlink{structdoris_1_1_radix_sort_acee8d20c957cfc2095640be939c63345}{KEY\+\_\+\+BITS}} = sizeof(\mbox{\hyperlink{structdoris_1_1_radix_sort_ada2f1b8ed708ba9fd438d9018669d4b9}{Key}}) $\ast$ 8
\item 
static constexpr size\+\_\+t \mbox{\hyperlink{structdoris_1_1_radix_sort_af270056e3068c3e0a39749ea684614f8}{NUM\+\_\+\+PASSES}}
\end{DoxyCompactItemize}


\doxysubsection{成员类型定义说明}
\mbox{\Hypertarget{structdoris_1_1_radix_sort_af50e7927087119c5ad5b37aac724d712}\label{structdoris_1_1_radix_sort_af50e7927087119c5ad5b37aac724d712}} 
\index{RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}!Element@{Element}}
\index{Element@{Element}!RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{Element}{Element}}
{\footnotesize\ttfamily using \mbox{\hyperlink{structdoris_1_1_radix_sort_af50e7927087119c5ad5b37aac724d712}{Element}} =  typename Traits\+::\+Element\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{structdoris_1_1_radix_sort_ada2f1b8ed708ba9fd438d9018669d4b9}\label{structdoris_1_1_radix_sort_ada2f1b8ed708ba9fd438d9018669d4b9}} 
\index{RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}!Key@{Key}}
\index{Key@{Key}!RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{Key}{Key}}
{\footnotesize\ttfamily using \mbox{\hyperlink{structdoris_1_1_radix_sort_ada2f1b8ed708ba9fd438d9018669d4b9}{Key}} =  typename Traits\+::\+Key\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{structdoris_1_1_radix_sort_afa8a515cf588da2a01dcb79d09a3b763}\label{structdoris_1_1_radix_sort_afa8a515cf588da2a01dcb79d09a3b763}} 
\index{RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}!CountType@{CountType}}
\index{CountType@{CountType}!RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{CountType}{CountType}}
{\footnotesize\ttfamily using \mbox{\hyperlink{structdoris_1_1_radix_sort_afa8a515cf588da2a01dcb79d09a3b763}{Count\+Type}} =  typename Traits\+::\+Count\+Type\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{structdoris_1_1_radix_sort_a3e786c6c8d3019319c170b56c67cd55b}\label{structdoris_1_1_radix_sort_a3e786c6c8d3019319c170b56c67cd55b}} 
\index{RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}!KeyBits@{KeyBits}}
\index{KeyBits@{KeyBits}!RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{KeyBits}{KeyBits}}
{\footnotesize\ttfamily using \mbox{\hyperlink{structdoris_1_1_radix_sort_a3e786c6c8d3019319c170b56c67cd55b}{Key\+Bits}} =  typename Traits\+::\+Key\+Bits\hspace{0.3cm}{\ttfamily [private]}}



\doxysubsection{成员函数说明}
\mbox{\Hypertarget{structdoris_1_1_radix_sort_a1133b87f4faa48a4811fb73cd77bed11}\label{structdoris_1_1_radix_sort_a1133b87f4faa48a4811fb73cd77bed11}} 
\index{RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}!getPart@{getPart}}
\index{getPart@{getPart}!RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{getPart()}{getPart()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{compiler__util_8h_aa1dec568e79152c892dcf63f445cbd7a}{ALWAYS\+\_\+\+INLINE}} \mbox{\hyperlink{structdoris_1_1_radix_sort_a3e786c6c8d3019319c170b56c67cd55b}{Key\+Bits}} get\+Part (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{N,  }\item[{\mbox{\hyperlink{structdoris_1_1_radix_sort_a3e786c6c8d3019319c170b56c67cd55b}{Key\+Bits}}}]{x }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}

这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d48/structdoris_1_1_radix_sort_a1133b87f4faa48a4811fb73cd77bed11_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{structdoris_1_1_radix_sort_afe2567c2f2d40d96744ec942f30070eb}\label{structdoris_1_1_radix_sort_afe2567c2f2d40d96744ec942f30070eb}} 
\index{RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}!keyToBits@{keyToBits}}
\index{keyToBits@{keyToBits}!RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{keyToBits()}{keyToBits()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{structdoris_1_1_radix_sort_a3e786c6c8d3019319c170b56c67cd55b}{Key\+Bits}} key\+To\+Bits (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structdoris_1_1_radix_sort_ada2f1b8ed708ba9fd438d9018669d4b9}{Key}}}]{x }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}

这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d48/structdoris_1_1_radix_sort_afe2567c2f2d40d96744ec942f30070eb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{structdoris_1_1_radix_sort_a0ce22f02eb4aa71d3fd90e547d178ab2}\label{structdoris_1_1_radix_sort_a0ce22f02eb4aa71d3fd90e547d178ab2}} 
\index{RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}!bitsToKey@{bitsToKey}}
\index{bitsToKey@{bitsToKey}!RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{bitsToKey()}{bitsToKey()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{structdoris_1_1_radix_sort_ada2f1b8ed708ba9fd438d9018669d4b9}{Key}} bits\+To\+Key (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structdoris_1_1_radix_sort_a3e786c6c8d3019319c170b56c67cd55b}{Key\+Bits}}}]{x }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}

这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d48/structdoris_1_1_radix_sort_a0ce22f02eb4aa71d3fd90e547d178ab2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{structdoris_1_1_radix_sort_a7012339ec414f01341be9f1dc2ee3eaa}\label{structdoris_1_1_radix_sort_a7012339ec414f01341be9f1dc2ee3eaa}} 
\index{RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}!executeLSD@{executeLSD}}
\index{executeLSD@{executeLSD}!RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{executeLSD()}{executeLSD()}}
{\footnotesize\ttfamily static void execute\+LSD (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structdoris_1_1_radix_sort_af50e7927087119c5ad5b37aac724d712}{Element}} $\ast$}]{arr,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Least significant digit radix sort (stable) 

If the array is smaller than 256, then it is better to use another algorithm.

There are loops of NUM\+\_\+\+PASSES. It is very important that they are unfolded at compile-\/time.

For each of the NUM\+\_\+\+PASSES bit ranges of the key, consider how many times each value of this bit range met.

We will do several passes through the array. On each pass, the data is transferred to another array. Let\textquotesingle{}s allocate this temporary array.

Transform the array and calculate the histogram. NOTE This is slightly suboptimal. Look at \href{https://github.com/powturbo/TurboHist}{\texttt{ https\+://github.\+com/powturbo/\+Turbo\+Hist}}

Replace the histograms with the accumulated sums\+: the value in position i is the sum of the previous positions minus one.

Move the elements in the order starting from the least bit piece, and then do a few passes on the number of pieces.

Place the element on the next free position.

On the last pass, we do the reverse transformation.

If the number of passes is odd, the result array is in a temporary buffer. Copy it to the place of the original array. NOTE Sometimes it will be more optimal to provide non-\/destructive interface, that will not modify original array.函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d48/structdoris_1_1_radix_sort_a7012339ec414f01341be9f1dc2ee3eaa_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d48/structdoris_1_1_radix_sort_a7012339ec414f01341be9f1dc2ee3eaa_icgraph}
\end{center}
\end{figure}


\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{structdoris_1_1_radix_sort_ae1c4d6f9edc1a85af8ec8a47fe253449}\label{structdoris_1_1_radix_sort_ae1c4d6f9edc1a85af8ec8a47fe253449}} 
\index{RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}!INSERTION\_SORT\_THRESHOLD@{INSERTION\_SORT\_THRESHOLD}}
\index{INSERTION\_SORT\_THRESHOLD@{INSERTION\_SORT\_THRESHOLD}!RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{INSERTION\_SORT\_THRESHOLD}{INSERTION\_SORT\_THRESHOLD}}
{\footnotesize\ttfamily constexpr size\+\_\+t INSERTION\+\_\+\+SORT\+\_\+\+THRESHOLD = 64\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}

\mbox{\Hypertarget{structdoris_1_1_radix_sort_a93d6436bb57414bf4ac25336eef45418}\label{structdoris_1_1_radix_sort_a93d6436bb57414bf4ac25336eef45418}} 
\index{RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}!HISTOGRAM\_SIZE@{HISTOGRAM\_SIZE}}
\index{HISTOGRAM\_SIZE@{HISTOGRAM\_SIZE}!RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{HISTOGRAM\_SIZE}{HISTOGRAM\_SIZE}}
{\footnotesize\ttfamily constexpr size\+\_\+t HISTOGRAM\+\_\+\+SIZE = 1 $<$$<$ Traits\+::\+PART\+\_\+\+SIZE\+\_\+\+BITS\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}

\mbox{\Hypertarget{structdoris_1_1_radix_sort_ac7d82c88872785c5be98a28765149922}\label{structdoris_1_1_radix_sort_ac7d82c88872785c5be98a28765149922}} 
\index{RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}!PART\_BITMASK@{PART\_BITMASK}}
\index{PART\_BITMASK@{PART\_BITMASK}!RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{PART\_BITMASK}{PART\_BITMASK}}
{\footnotesize\ttfamily constexpr size\+\_\+t PART\+\_\+\+BITMASK = \mbox{\hyperlink{structdoris_1_1_radix_sort_a93d6436bb57414bf4ac25336eef45418}{HISTOGRAM\+\_\+\+SIZE}} -\/ 1\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}

\mbox{\Hypertarget{structdoris_1_1_radix_sort_acee8d20c957cfc2095640be939c63345}\label{structdoris_1_1_radix_sort_acee8d20c957cfc2095640be939c63345}} 
\index{RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}!KEY\_BITS@{KEY\_BITS}}
\index{KEY\_BITS@{KEY\_BITS}!RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{KEY\_BITS}{KEY\_BITS}}
{\footnotesize\ttfamily constexpr size\+\_\+t KEY\+\_\+\+BITS = sizeof(\mbox{\hyperlink{structdoris_1_1_radix_sort_ada2f1b8ed708ba9fd438d9018669d4b9}{Key}}) $\ast$ 8\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}

\mbox{\Hypertarget{structdoris_1_1_radix_sort_af270056e3068c3e0a39749ea684614f8}\label{structdoris_1_1_radix_sort_af270056e3068c3e0a39749ea684614f8}} 
\index{RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}!NUM\_PASSES@{NUM\_PASSES}}
\index{NUM\_PASSES@{NUM\_PASSES}!RadixSort$<$ Traits $>$@{RadixSort$<$ Traits $>$}}
\doxysubsubsection{\texorpdfstring{NUM\_PASSES}{NUM\_PASSES}}
{\footnotesize\ttfamily constexpr size\+\_\+t NUM\+\_\+\+PASSES\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}

{\bfseries 初始值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{structdoris_1_1_radix_sort_acee8d20c957cfc2095640be939c63345}{KEY\_BITS}}\ +\ (Traits::PART\_SIZE\_BITS\ -\/\ 1))\ /\ Traits::PART\_SIZE\_BITS}

\end{DoxyCode}


该结构体的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/doris/be/src/util/\mbox{\hyperlink{util_2radix__sort_8h}{radix\+\_\+sort.\+h}}\end{DoxyCompactItemize}
