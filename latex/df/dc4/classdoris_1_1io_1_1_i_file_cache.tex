\hypertarget{classdoris_1_1io_1_1_i_file_cache}{}\doxysection{IFile\+Cache类 参考}
\label{classdoris_1_1io_1_1_i_file_cache}\index{IFileCache@{IFileCache}}


{\ttfamily \#include $<$block\+\_\+file\+\_\+cache.\+h$>$}



类 IFile\+Cache 继承关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=161pt]{d0/d21/classdoris_1_1io_1_1_i_file_cache__inherit__graph}
\end{center}
\end{figure}


IFile\+Cache 的协作图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=197pt]{d6/d59/classdoris_1_1io_1_1_i_file_cache__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}}
\item 
struct \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key_and_offset_hash}{Key\+And\+Offset\+Hash}}
\item 
class \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_1_1_l_r_u_queue}{LRUQueue}}
\item 
struct \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context}{Query\+File\+Cache\+Context}}
\item 
struct \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_holder}{Query\+File\+Cache\+Context\+Holder}}
\end{DoxyCompactItemize}
\doxysubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a3c7d80a775cb9b2160e61a945865f534}{Query\+File\+Cache\+Context\+Holder\+Ptr}} = std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_holder}{Query\+File\+Cache\+Context\+Holder}} $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_ad07c893ec247912b88517cdd135f096f}{IFile\+Cache}} (const std\+::string \&cache\+\_\+base\+\_\+path, const \mbox{\hyperlink{structdoris_1_1io_1_1_file_cache_settings}{File\+Cache\+Settings}} \&cache\+\_\+settings)
\item 
virtual \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_ab8bdf5ea6dfa35e06034b9f40a56c551}{$\sim$\+IFile\+Cache}} ()=default
\item 
virtual \mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a5f5cff6d7a886d22eaf83df239062a12}{initialize}} ()=0
\begin{DoxyCompactList}\small\item\em Restore cache from local filesystem. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a05953820c1167f79f29c7633162c89e0}{remove\+\_\+if\+\_\+exists}} (const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&key, bool is\+\_\+persistent)=0
\item 
virtual void \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_ab3234e7d45625019069bd2817c54feca}{remove\+\_\+if\+\_\+releasable}} (bool is\+\_\+persistent)=0
\item 
size\+\_\+t \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a7223528283cd4e5872e0cc716bf9bd9d}{capacity}} () const
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classdoris_1_1_cache}{Cache}} capacity in bytes. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a4d09a4047f95b0143001f69f59548d30}{get\+\_\+path\+\_\+in\+\_\+local\+\_\+cache}} (const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&key, size\+\_\+t offset, bool is\+\_\+persistent) const
\item 
std\+::string \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a5bc9e70487e1ef3e5ba3b0e577a0fa20}{get\+\_\+path\+\_\+in\+\_\+local\+\_\+cache}} (const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&key) const
\item 
const std\+::string \& \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a0c437bfbf13578710df28996a11c181d}{get\+\_\+base\+\_\+path}} () const
\item 
virtual std\+::vector$<$ std\+::string $>$ \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a795ade0b90afc69fddcc18ccde18a49f}{try\+\_\+get\+\_\+cache\+\_\+paths}} (const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&key, bool is\+\_\+persistent)=0
\item 
virtual \mbox{\hyperlink{structdoris_1_1io_1_1_file_blocks_holder}{File\+Blocks\+Holder}} \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a9080d155c7a2120f589d67c58a0a9a07}{get\+\_\+or\+\_\+set}} (const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&key, size\+\_\+t offset, size\+\_\+t size, bool is\+\_\+persistent, const TUnique\+Id \&query\+\_\+id)=0
\item 
virtual std\+::string \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_aa71ca3b482c454ff756a920373e49e60}{dump\+\_\+structure}} (const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&key, bool is\+\_\+persistent)=0
\begin{DoxyCompactList}\small\item\em For debug. \end{DoxyCompactList}\item 
virtual size\+\_\+t \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_ae52850983c7b2983a900c99d42d31352}{get\+\_\+used\+\_\+cache\+\_\+size}} (bool is\+\_\+persistent) const =0
\item 
virtual size\+\_\+t \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a9d792866e963ac72b456d2a6e6918e4c}{get\+\_\+file\+\_\+segments\+\_\+num}} (bool is\+\_\+persistent) const =0
\item 
\mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache}{IFile\+Cache}} \& \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_ae955d078e388d75740eddf5f701a305f}{operator=}} (const \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache}{IFile\+Cache}} \&)=delete
\item 
\mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_af8b58118d10530d3871c222d86a9e61a}{IFile\+Cache}} (const \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache}{IFile\+Cache}} \&)=delete
\item 
\mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a3c7d80a775cb9b2160e61a945865f534}{Query\+File\+Cache\+Context\+Holder\+Ptr}} \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a3636e05272af94893026ac964ec401fd}{get\+\_\+query\+\_\+context\+\_\+holder}} (const TUnique\+Id \&query\+\_\+id)
\end{DoxyCompactItemize}
\doxysubsection*{静态 Public 成员函数}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_af618e53b20e5e19b7b976dac4620a216}{hash}} (const std\+::string \&path)
\end{DoxyCompactItemize}
\doxysubsection*{Protected 类型}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a1d89d3b7e81c205e0aa726336753a1da}{Access\+Key\+And\+Offset}} = std\+::tuple$<$ \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}}, size\+\_\+t, bool $>$
\item 
using \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_adccb0504103447215380ee17166db1f7}{Access\+Record}} = std\+::unordered\+\_\+map$<$ \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a1d89d3b7e81c205e0aa726336753a1da}{Access\+Key\+And\+Offset}}, \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_1_1_l_r_u_queue_aa0f8845224d362efef4dfe80787ea2ec}{LRUQueue\+::\+Iterator}}, \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key_and_offset_hash}{Key\+And\+Offset\+Hash}} $>$
\item 
using \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a8c66fc6bb666006ac6243084864487b6}{Query\+File\+Cache\+Context\+Ptr}} = std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context}{Query\+File\+Cache\+Context}} $>$
\item 
using \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a18f35fffa11659535addfdd93902c7f4}{Query\+File\+Cache\+Context\+Map}} = std\+::unordered\+\_\+map$<$ TUnique\+Id, \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a8c66fc6bb666006ac6243084864487b6}{Query\+File\+Cache\+Context\+Ptr}} $>$
\end{DoxyCompactItemize}
\doxysubsection*{Protected 成员函数}
\begin{DoxyCompactItemize}
\item 
virtual bool \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a9084413812a61833bd99dc21f94f94ec}{try\+\_\+reserve}} (const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&key, const TUnique\+Id \&query\+\_\+id, bool is\+\_\+persistent, size\+\_\+t offset, size\+\_\+t size, std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&cache\+\_\+lock)=0
\item 
virtual void \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a67d6cf0a4d5c2d331edfe8736fe50846}{remove}} (const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&key, bool is\+\_\+persistent, size\+\_\+t offset, std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&cache\+\_\+lock, std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&segment\+\_\+lock)=0
\item 
\mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a8c66fc6bb666006ac6243084864487b6}{Query\+File\+Cache\+Context\+Ptr}} \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a5b2a6670f77761ee0e166c8319ed74fe}{get\+\_\+query\+\_\+context}} (const TUnique\+Id \&query\+\_\+id, std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&)
\item 
void \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a171ce34f33a2715f0697f2676892b2ae}{remove\+\_\+query\+\_\+context}} (const TUnique\+Id \&query\+\_\+id)
\item 
\mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a8c66fc6bb666006ac6243084864487b6}{Query\+File\+Cache\+Context\+Ptr}} \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a227d0732b6b1e1ec43cbb6bddcd5e5dc}{get\+\_\+or\+\_\+set\+\_\+query\+\_\+context}} (const TUnique\+Id \&query\+\_\+id, std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&)
\end{DoxyCompactItemize}
\doxysubsection*{Protected 属性}
\begin{DoxyCompactItemize}
\item 
std\+::string \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a2ba6697a12d63637494dbeec00ff3a78}{\+\_\+cache\+\_\+base\+\_\+path}}
\item 
size\+\_\+t \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_ab0288896c161455b7451327a41d33e74}{\+\_\+max\+\_\+size}} = 0
\item 
size\+\_\+t \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a19cbdfacaa469abf31575087e0473a73}{\+\_\+max\+\_\+element\+\_\+size}} = 0
\item 
size\+\_\+t \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a79ca82467b815ca27bb285d6185c1fe8}{\+\_\+persistent\+\_\+max\+\_\+size}} = 0
\item 
size\+\_\+t \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a6f6f9a282d55df2917b54cf99d501785}{\+\_\+persistent\+\_\+max\+\_\+element\+\_\+size}} = 0
\item 
size\+\_\+t \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_afa297c207d83ea0b9ebf5cee4fbad83a}{\+\_\+max\+\_\+file\+\_\+segment\+\_\+size}} = 0
\item 
size\+\_\+t \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_ad8ab93e3585b26c3ff70100f829e448b}{\+\_\+max\+\_\+query\+\_\+cache\+\_\+size}} = 0
\item 
bool \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_aa47905df0a83061082cf11f932a918df}{\+\_\+is\+\_\+initialized}} = false
\item 
std\+::mutex \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a3f0b4c278cb19f9c2b2dbdb065f51e14}{\+\_\+mutex}}
\item 
\mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a18f35fffa11659535addfdd93902c7f4}{Query\+File\+Cache\+Context\+Map}} \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a243744aff6497bffe2dfde68e4b064bd}{\+\_\+query\+\_\+map}}
\item 
bool \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a8b3d22a40257298552eb609d18cb2219}{\+\_\+enable\+\_\+file\+\_\+cache\+\_\+query\+\_\+limit}} = config\+::enable\+\_\+file\+\_\+cache\+\_\+query\+\_\+limit
\end{DoxyCompactItemize}
\doxysubsection*{友元}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a684c969311782d2272c092f179aca324}{File\+Block}}
\item 
struct \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_af2afbba87b00d7e347dc99079c18295c}{File\+Blocks\+Holder}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
Local cache for remote filesystem files, represented as a set of non-\/overlapping non-\/empty file segments. 

\doxysubsection{成员类型定义说明}
\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a1d89d3b7e81c205e0aa726336753a1da}\label{classdoris_1_1io_1_1_i_file_cache_a1d89d3b7e81c205e0aa726336753a1da}} 
\index{IFileCache@{IFileCache}!AccessKeyAndOffset@{AccessKeyAndOffset}}
\index{AccessKeyAndOffset@{AccessKeyAndOffset}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{AccessKeyAndOffset}{AccessKeyAndOffset}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a1d89d3b7e81c205e0aa726336753a1da}{Access\+Key\+And\+Offset}} =  std\+::tuple$<$\mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}}, size\+\_\+t, bool$>$\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_adccb0504103447215380ee17166db1f7}\label{classdoris_1_1io_1_1_i_file_cache_adccb0504103447215380ee17166db1f7}} 
\index{IFileCache@{IFileCache}!AccessRecord@{AccessRecord}}
\index{AccessRecord@{AccessRecord}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{AccessRecord}{AccessRecord}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_adccb0504103447215380ee17166db1f7}{Access\+Record}} =  std\+::unordered\+\_\+map$<$\mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a1d89d3b7e81c205e0aa726336753a1da}{Access\+Key\+And\+Offset}}, \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_1_1_l_r_u_queue_aa0f8845224d362efef4dfe80787ea2ec}{LRUQueue\+::\+Iterator}}, \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key_and_offset_hash}{Key\+And\+Offset\+Hash}}$>$\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a8c66fc6bb666006ac6243084864487b6}\label{classdoris_1_1io_1_1_i_file_cache_a8c66fc6bb666006ac6243084864487b6}} 
\index{IFileCache@{IFileCache}!QueryFileCacheContextPtr@{QueryFileCacheContextPtr}}
\index{QueryFileCacheContextPtr@{QueryFileCacheContextPtr}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{QueryFileCacheContextPtr}{QueryFileCacheContextPtr}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a8c66fc6bb666006ac6243084864487b6}{Query\+File\+Cache\+Context\+Ptr}} =  std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context}{Query\+File\+Cache\+Context}}$>$\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a18f35fffa11659535addfdd93902c7f4}\label{classdoris_1_1io_1_1_i_file_cache_a18f35fffa11659535addfdd93902c7f4}} 
\index{IFileCache@{IFileCache}!QueryFileCacheContextMap@{QueryFileCacheContextMap}}
\index{QueryFileCacheContextMap@{QueryFileCacheContextMap}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{QueryFileCacheContextMap}{QueryFileCacheContextMap}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a18f35fffa11659535addfdd93902c7f4}{Query\+File\+Cache\+Context\+Map}} =  std\+::unordered\+\_\+map$<$TUnique\+Id, \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a8c66fc6bb666006ac6243084864487b6}{Query\+File\+Cache\+Context\+Ptr}}$>$\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a3c7d80a775cb9b2160e61a945865f534}\label{classdoris_1_1io_1_1_i_file_cache_a3c7d80a775cb9b2160e61a945865f534}} 
\index{IFileCache@{IFileCache}!QueryFileCacheContextHolderPtr@{QueryFileCacheContextHolderPtr}}
\index{QueryFileCacheContextHolderPtr@{QueryFileCacheContextHolderPtr}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{QueryFileCacheContextHolderPtr}{QueryFileCacheContextHolderPtr}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a3c7d80a775cb9b2160e61a945865f534}{Query\+File\+Cache\+Context\+Holder\+Ptr}} =  std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_query_file_cache_context_holder}{Query\+File\+Cache\+Context\+Holder}}$>$}



\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_ad07c893ec247912b88517cdd135f096f}\label{classdoris_1_1io_1_1_i_file_cache_ad07c893ec247912b88517cdd135f096f}} 
\index{IFileCache@{IFileCache}!IFileCache@{IFileCache}}
\index{IFileCache@{IFileCache}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{IFileCache()}{IFileCache()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache}{IFile\+Cache}} (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{cache\+\_\+base\+\_\+path,  }\item[{const \mbox{\hyperlink{structdoris_1_1io_1_1_file_cache_settings}{File\+Cache\+Settings}} \&}]{cache\+\_\+settings }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_ab8bdf5ea6dfa35e06034b9f40a56c551}\label{classdoris_1_1io_1_1_i_file_cache_ab8bdf5ea6dfa35e06034b9f40a56c551}} 
\index{IFileCache@{IFileCache}!````~IFileCache@{$\sim$IFileCache}}
\index{````~IFileCache@{$\sim$IFileCache}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{$\sim$IFileCache()}{~IFileCache()}}
{\footnotesize\ttfamily virtual $\sim$\mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache}{IFile\+Cache}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_af8b58118d10530d3871c222d86a9e61a}\label{classdoris_1_1io_1_1_i_file_cache_af8b58118d10530d3871c222d86a9e61a}} 
\index{IFileCache@{IFileCache}!IFileCache@{IFileCache}}
\index{IFileCache@{IFileCache}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{IFileCache()}{IFileCache()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache}{IFile\+Cache}} (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache}{IFile\+Cache}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{成员函数说明}
\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a5f5cff6d7a886d22eaf83df239062a12}\label{classdoris_1_1io_1_1_i_file_cache_a5f5cff6d7a886d22eaf83df239062a12}} 
\index{IFileCache@{IFileCache}!initialize@{initialize}}
\index{initialize@{initialize}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{initialize()}{initialize()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{classdoris_1_1_status}{Status}} initialize (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Restore cache from local filesystem. 



在 \mbox{\hyperlink{classdoris_1_1io_1_1_l_r_u_file_cache_a795d70c736c3b9b8296faf7959f83403}{LRUFile\+Cache}} 内被实现.

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a05953820c1167f79f29c7633162c89e0}\label{classdoris_1_1io_1_1_i_file_cache_a05953820c1167f79f29c7633162c89e0}} 
\index{IFileCache@{IFileCache}!remove\_if\_exists@{remove\_if\_exists}}
\index{remove\_if\_exists@{remove\_if\_exists}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{remove\_if\_exists()}{remove\_if\_exists()}}
{\footnotesize\ttfamily virtual void remove\+\_\+if\+\_\+exists (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&}]{key,  }\item[{bool}]{is\+\_\+persistent }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



在 \mbox{\hyperlink{classdoris_1_1io_1_1_l_r_u_file_cache_aa47a7087bd47c22bfda85416b3aa9b24}{LRUFile\+Cache}} 内被实现.

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_ab3234e7d45625019069bd2817c54feca}\label{classdoris_1_1io_1_1_i_file_cache_ab3234e7d45625019069bd2817c54feca}} 
\index{IFileCache@{IFileCache}!remove\_if\_releasable@{remove\_if\_releasable}}
\index{remove\_if\_releasable@{remove\_if\_releasable}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{remove\_if\_releasable()}{remove\_if\_releasable()}}
{\footnotesize\ttfamily virtual void remove\+\_\+if\+\_\+releasable (\begin{DoxyParamCaption}\item[{bool}]{is\+\_\+persistent }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



在 \mbox{\hyperlink{classdoris_1_1io_1_1_l_r_u_file_cache_a81306e93a8759d883c10f2335dc06d4b}{LRUFile\+Cache}} 内被实现.

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a7223528283cd4e5872e0cc716bf9bd9d}\label{classdoris_1_1io_1_1_i_file_cache_a7223528283cd4e5872e0cc716bf9bd9d}} 
\index{IFileCache@{IFileCache}!capacity@{capacity}}
\index{capacity@{capacity}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{capacity()}{capacity()}}
{\footnotesize\ttfamily size\+\_\+t capacity (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



\mbox{\hyperlink{classdoris_1_1_cache}{Cache}} capacity in bytes. 

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_af618e53b20e5e19b7b976dac4620a216}\label{classdoris_1_1io_1_1_i_file_cache_af618e53b20e5e19b7b976dac4620a216}} 
\index{IFileCache@{IFileCache}!hash@{hash}}
\index{hash@{hash}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{hash()}{hash()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{IFile\+Cache\+::\+Key}} hash (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc4/classdoris_1_1io_1_1_i_file_cache_af618e53b20e5e19b7b976dac4620a216_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{df/dc4/classdoris_1_1io_1_1_i_file_cache_af618e53b20e5e19b7b976dac4620a216_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a4d09a4047f95b0143001f69f59548d30}\label{classdoris_1_1io_1_1_i_file_cache_a4d09a4047f95b0143001f69f59548d30}} 
\index{IFileCache@{IFileCache}!get\_path\_in\_local\_cache@{get\_path\_in\_local\_cache}}
\index{get\_path\_in\_local\_cache@{get\_path\_in\_local\_cache}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{get\_path\_in\_local\_cache()}{get\_path\_in\_local\_cache()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily std\+::string get\+\_\+path\+\_\+in\+\_\+local\+\_\+cache (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&}]{key,  }\item[{size\+\_\+t}]{offset,  }\item[{bool}]{is\+\_\+persistent }\end{DoxyParamCaption}) const}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc4/classdoris_1_1io_1_1_i_file_cache_a4d09a4047f95b0143001f69f59548d30_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc4/classdoris_1_1io_1_1_i_file_cache_a4d09a4047f95b0143001f69f59548d30_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a5bc9e70487e1ef3e5ba3b0e577a0fa20}\label{classdoris_1_1io_1_1_i_file_cache_a5bc9e70487e1ef3e5ba3b0e577a0fa20}} 
\index{IFileCache@{IFileCache}!get\_path\_in\_local\_cache@{get\_path\_in\_local\_cache}}
\index{get\_path\_in\_local\_cache@{get\_path\_in\_local\_cache}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{get\_path\_in\_local\_cache()}{get\_path\_in\_local\_cache()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily std\+::string get\+\_\+path\+\_\+in\+\_\+local\+\_\+cache (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&}]{key }\end{DoxyParamCaption}) const}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc4/classdoris_1_1io_1_1_i_file_cache_a5bc9e70487e1ef3e5ba3b0e577a0fa20_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a0c437bfbf13578710df28996a11c181d}\label{classdoris_1_1io_1_1_i_file_cache_a0c437bfbf13578710df28996a11c181d}} 
\index{IFileCache@{IFileCache}!get\_base\_path@{get\_base\_path}}
\index{get\_base\_path@{get\_base\_path}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{get\_base\_path()}{get\_base\_path()}}
{\footnotesize\ttfamily const std\+::string \& get\+\_\+base\+\_\+path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a795ade0b90afc69fddcc18ccde18a49f}\label{classdoris_1_1io_1_1_i_file_cache_a795ade0b90afc69fddcc18ccde18a49f}} 
\index{IFileCache@{IFileCache}!try\_get\_cache\_paths@{try\_get\_cache\_paths}}
\index{try\_get\_cache\_paths@{try\_get\_cache\_paths}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{try\_get\_cache\_paths()}{try\_get\_cache\_paths()}}
{\footnotesize\ttfamily virtual std\+::vector$<$ std\+::string $>$ try\+\_\+get\+\_\+cache\+\_\+paths (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&}]{key,  }\item[{bool}]{is\+\_\+persistent }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



在 \mbox{\hyperlink{classdoris_1_1io_1_1_l_r_u_file_cache_a17c021e102f9a430377feed83a3a8b13}{LRUFile\+Cache}} 内被实现.

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a9080d155c7a2120f589d67c58a0a9a07}\label{classdoris_1_1io_1_1_i_file_cache_a9080d155c7a2120f589d67c58a0a9a07}} 
\index{IFileCache@{IFileCache}!get\_or\_set@{get\_or\_set}}
\index{get\_or\_set@{get\_or\_set}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{get\_or\_set()}{get\_or\_set()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{structdoris_1_1io_1_1_file_blocks_holder}{File\+Blocks\+Holder}} get\+\_\+or\+\_\+set (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&}]{key,  }\item[{size\+\_\+t}]{offset,  }\item[{size\+\_\+t}]{size,  }\item[{bool}]{is\+\_\+persistent,  }\item[{const TUnique\+Id \&}]{query\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Given an {\ttfamily offset} and {\ttfamily size} representing \mbox{[}offset, offset + size) bytes interval, return list of cached non-\/overlapping non-\/empty file segments {\ttfamily \mbox{[}segment1, ..., segmentN\mbox{]}} which intersect with given interval.

Segments in returned list are ordered in ascending order and represent a full contiguous interval (no holes). Each segment in returned list has state\+: DOWNLOADED, DOWNLOADING or EMPTY.

As long as pointers to returned file segments are hold it is guaranteed that these file segments are not removed from cache. 

在 \mbox{\hyperlink{classdoris_1_1io_1_1_l_r_u_file_cache_aa01842a257dfda4a1079d7817291181a}{LRUFile\+Cache}} 内被实现.

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc4/classdoris_1_1io_1_1_i_file_cache_a9080d155c7a2120f589d67c58a0a9a07_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_aa71ca3b482c454ff756a920373e49e60}\label{classdoris_1_1io_1_1_i_file_cache_aa71ca3b482c454ff756a920373e49e60}} 
\index{IFileCache@{IFileCache}!dump\_structure@{dump\_structure}}
\index{dump\_structure@{dump\_structure}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{dump\_structure()}{dump\_structure()}}
{\footnotesize\ttfamily virtual std\+::string dump\+\_\+structure (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&}]{key,  }\item[{bool}]{is\+\_\+persistent }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



For debug. 



在 \mbox{\hyperlink{classdoris_1_1io_1_1_l_r_u_file_cache_a7500355b22c1715b6d9ae0facdc05453}{LRUFile\+Cache}} 内被实现.

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_ae52850983c7b2983a900c99d42d31352}\label{classdoris_1_1io_1_1_i_file_cache_ae52850983c7b2983a900c99d42d31352}} 
\index{IFileCache@{IFileCache}!get\_used\_cache\_size@{get\_used\_cache\_size}}
\index{get\_used\_cache\_size@{get\_used\_cache\_size}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{get\_used\_cache\_size()}{get\_used\_cache\_size()}}
{\footnotesize\ttfamily virtual size\+\_\+t get\+\_\+used\+\_\+cache\+\_\+size (\begin{DoxyParamCaption}\item[{bool}]{is\+\_\+persistent }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



在 \mbox{\hyperlink{classdoris_1_1io_1_1_l_r_u_file_cache_ad4c327f08641ee8ce840a7d54b4c9745}{LRUFile\+Cache}} 内被实现.

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a9d792866e963ac72b456d2a6e6918e4c}\label{classdoris_1_1io_1_1_i_file_cache_a9d792866e963ac72b456d2a6e6918e4c}} 
\index{IFileCache@{IFileCache}!get\_file\_segments\_num@{get\_file\_segments\_num}}
\index{get\_file\_segments\_num@{get\_file\_segments\_num}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{get\_file\_segments\_num()}{get\_file\_segments\_num()}}
{\footnotesize\ttfamily virtual size\+\_\+t get\+\_\+file\+\_\+segments\+\_\+num (\begin{DoxyParamCaption}\item[{bool}]{is\+\_\+persistent }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



在 \mbox{\hyperlink{classdoris_1_1io_1_1_l_r_u_file_cache_aa6a7fdbfb1146b13107e4e1dfd100182}{LRUFile\+Cache}} 内被实现.

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_ae955d078e388d75740eddf5f701a305f}\label{classdoris_1_1io_1_1_i_file_cache_ae955d078e388d75740eddf5f701a305f}} 
\index{IFileCache@{IFileCache}!operator=@{operator=}}
\index{operator=@{operator=}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache}{IFile\+Cache}} \& operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache}{IFile\+Cache}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a9084413812a61833bd99dc21f94f94ec}\label{classdoris_1_1io_1_1_i_file_cache_a9084413812a61833bd99dc21f94f94ec}} 
\index{IFileCache@{IFileCache}!try\_reserve@{try\_reserve}}
\index{try\_reserve@{try\_reserve}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{try\_reserve()}{try\_reserve()}}
{\footnotesize\ttfamily virtual bool try\+\_\+reserve (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&}]{key,  }\item[{const TUnique\+Id \&}]{query\+\_\+id,  }\item[{bool}]{is\+\_\+persistent,  }\item[{size\+\_\+t}]{offset,  }\item[{size\+\_\+t}]{size,  }\item[{std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&}]{cache\+\_\+lock }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [pure virtual]}}



在 \mbox{\hyperlink{classdoris_1_1io_1_1_l_r_u_file_cache_aa12d90e78295c706f726f3f38ba0937f}{LRUFile\+Cache}} 内被实现.

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a67d6cf0a4d5c2d331edfe8736fe50846}\label{classdoris_1_1io_1_1_i_file_cache_a67d6cf0a4d5c2d331edfe8736fe50846}} 
\index{IFileCache@{IFileCache}!remove@{remove}}
\index{remove@{remove}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{remove()}{remove()}}
{\footnotesize\ttfamily virtual void remove (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structdoris_1_1io_1_1_i_file_cache_1_1_key}{Key}} \&}]{key,  }\item[{bool}]{is\+\_\+persistent,  }\item[{size\+\_\+t}]{offset,  }\item[{std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&}]{cache\+\_\+lock,  }\item[{std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&}]{segment\+\_\+lock }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [pure virtual]}}



在 \mbox{\hyperlink{classdoris_1_1io_1_1_l_r_u_file_cache_a9842f06e7eca4524f3dfa4b09f1cbb9c}{LRUFile\+Cache}} 内被实现.

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a5b2a6670f77761ee0e166c8319ed74fe}\label{classdoris_1_1io_1_1_i_file_cache_a5b2a6670f77761ee0e166c8319ed74fe}} 
\index{IFileCache@{IFileCache}!get\_query\_context@{get\_query\_context}}
\index{get\_query\_context@{get\_query\_context}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{get\_query\_context()}{get\_query\_context()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a8c66fc6bb666006ac6243084864487b6}{IFile\+Cache\+::\+Query\+File\+Cache\+Context\+Ptr}} get\+\_\+query\+\_\+context (\begin{DoxyParamCaption}\item[{const TUnique\+Id \&}]{query\+\_\+id,  }\item[{std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&}]{cache\+\_\+lock }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc4/classdoris_1_1io_1_1_i_file_cache_a5b2a6670f77761ee0e166c8319ed74fe_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a171ce34f33a2715f0697f2676892b2ae}\label{classdoris_1_1io_1_1_i_file_cache_a171ce34f33a2715f0697f2676892b2ae}} 
\index{IFileCache@{IFileCache}!remove\_query\_context@{remove\_query\_context}}
\index{remove\_query\_context@{remove\_query\_context}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{remove\_query\_context()}{remove\_query\_context()}}
{\footnotesize\ttfamily void remove\+\_\+query\+\_\+context (\begin{DoxyParamCaption}\item[{const TUnique\+Id \&}]{query\+\_\+id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc4/classdoris_1_1io_1_1_i_file_cache_a171ce34f33a2715f0697f2676892b2ae_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a227d0732b6b1e1ec43cbb6bddcd5e5dc}\label{classdoris_1_1io_1_1_i_file_cache_a227d0732b6b1e1ec43cbb6bddcd5e5dc}} 
\index{IFileCache@{IFileCache}!get\_or\_set\_query\_context@{get\_or\_set\_query\_context}}
\index{get\_or\_set\_query\_context@{get\_or\_set\_query\_context}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{get\_or\_set\_query\_context()}{get\_or\_set\_query\_context()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a8c66fc6bb666006ac6243084864487b6}{IFile\+Cache\+::\+Query\+File\+Cache\+Context\+Ptr}} get\+\_\+or\+\_\+set\+\_\+query\+\_\+context (\begin{DoxyParamCaption}\item[{const TUnique\+Id \&}]{query\+\_\+id,  }\item[{std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&}]{cache\+\_\+lock }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{df/dc4/classdoris_1_1io_1_1_i_file_cache_a227d0732b6b1e1ec43cbb6bddcd5e5dc_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc4/classdoris_1_1io_1_1_i_file_cache_a227d0732b6b1e1ec43cbb6bddcd5e5dc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a3636e05272af94893026ac964ec401fd}\label{classdoris_1_1io_1_1_i_file_cache_a3636e05272af94893026ac964ec401fd}} 
\index{IFileCache@{IFileCache}!get\_query\_context\_holder@{get\_query\_context\_holder}}
\index{get\_query\_context\_holder@{get\_query\_context\_holder}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{get\_query\_context\_holder()}{get\_query\_context\_holder()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a3c7d80a775cb9b2160e61a945865f534}{IFile\+Cache\+::\+Query\+File\+Cache\+Context\+Holder\+Ptr}} get\+\_\+query\+\_\+context\+\_\+holder (\begin{DoxyParamCaption}\item[{const TUnique\+Id \&}]{query\+\_\+id }\end{DoxyParamCaption})}

if enable\+\_\+filesystem\+\_\+query\+\_\+cache\+\_\+limit is true, we create context query for current query.函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc4/classdoris_1_1io_1_1_i_file_cache_a3636e05272af94893026ac964ec401fd_cgraph}
\end{center}
\end{figure}


\doxysubsection{友元及相关函数文档}
\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a684c969311782d2272c092f179aca324}\label{classdoris_1_1io_1_1_i_file_cache_a684c969311782d2272c092f179aca324}} 
\index{IFileCache@{IFileCache}!FileBlock@{FileBlock}}
\index{FileBlock@{FileBlock}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{FileBlock}{FileBlock}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classdoris_1_1io_1_1_file_block}{File\+Block}}\hspace{0.3cm}{\ttfamily [friend]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_af2afbba87b00d7e347dc99079c18295c}\label{classdoris_1_1io_1_1_i_file_cache_af2afbba87b00d7e347dc99079c18295c}} 
\index{IFileCache@{IFileCache}!FileBlocksHolder@{FileBlocksHolder}}
\index{FileBlocksHolder@{FileBlocksHolder}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{FileBlocksHolder}{FileBlocksHolder}}
{\footnotesize\ttfamily friend struct \mbox{\hyperlink{structdoris_1_1io_1_1_file_blocks_holder}{File\+Blocks\+Holder}}\hspace{0.3cm}{\ttfamily [friend]}}



\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a2ba6697a12d63637494dbeec00ff3a78}\label{classdoris_1_1io_1_1_i_file_cache_a2ba6697a12d63637494dbeec00ff3a78}} 
\index{IFileCache@{IFileCache}!\_cache\_base\_path@{\_cache\_base\_path}}
\index{\_cache\_base\_path@{\_cache\_base\_path}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{\_cache\_base\_path}{\_cache\_base\_path}}
{\footnotesize\ttfamily std\+::string \+\_\+cache\+\_\+base\+\_\+path\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_ab0288896c161455b7451327a41d33e74}\label{classdoris_1_1io_1_1_i_file_cache_ab0288896c161455b7451327a41d33e74}} 
\index{IFileCache@{IFileCache}!\_max\_size@{\_max\_size}}
\index{\_max\_size@{\_max\_size}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{\_max\_size}{\_max\_size}}
{\footnotesize\ttfamily size\+\_\+t \+\_\+max\+\_\+size = 0\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a19cbdfacaa469abf31575087e0473a73}\label{classdoris_1_1io_1_1_i_file_cache_a19cbdfacaa469abf31575087e0473a73}} 
\index{IFileCache@{IFileCache}!\_max\_element\_size@{\_max\_element\_size}}
\index{\_max\_element\_size@{\_max\_element\_size}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{\_max\_element\_size}{\_max\_element\_size}}
{\footnotesize\ttfamily size\+\_\+t \+\_\+max\+\_\+element\+\_\+size = 0\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a79ca82467b815ca27bb285d6185c1fe8}\label{classdoris_1_1io_1_1_i_file_cache_a79ca82467b815ca27bb285d6185c1fe8}} 
\index{IFileCache@{IFileCache}!\_persistent\_max\_size@{\_persistent\_max\_size}}
\index{\_persistent\_max\_size@{\_persistent\_max\_size}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{\_persistent\_max\_size}{\_persistent\_max\_size}}
{\footnotesize\ttfamily size\+\_\+t \+\_\+persistent\+\_\+max\+\_\+size = 0\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a6f6f9a282d55df2917b54cf99d501785}\label{classdoris_1_1io_1_1_i_file_cache_a6f6f9a282d55df2917b54cf99d501785}} 
\index{IFileCache@{IFileCache}!\_persistent\_max\_element\_size@{\_persistent\_max\_element\_size}}
\index{\_persistent\_max\_element\_size@{\_persistent\_max\_element\_size}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{\_persistent\_max\_element\_size}{\_persistent\_max\_element\_size}}
{\footnotesize\ttfamily size\+\_\+t \+\_\+persistent\+\_\+max\+\_\+element\+\_\+size = 0\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_afa297c207d83ea0b9ebf5cee4fbad83a}\label{classdoris_1_1io_1_1_i_file_cache_afa297c207d83ea0b9ebf5cee4fbad83a}} 
\index{IFileCache@{IFileCache}!\_max\_file\_segment\_size@{\_max\_file\_segment\_size}}
\index{\_max\_file\_segment\_size@{\_max\_file\_segment\_size}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{\_max\_file\_segment\_size}{\_max\_file\_segment\_size}}
{\footnotesize\ttfamily size\+\_\+t \+\_\+max\+\_\+file\+\_\+segment\+\_\+size = 0\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_ad8ab93e3585b26c3ff70100f829e448b}\label{classdoris_1_1io_1_1_i_file_cache_ad8ab93e3585b26c3ff70100f829e448b}} 
\index{IFileCache@{IFileCache}!\_max\_query\_cache\_size@{\_max\_query\_cache\_size}}
\index{\_max\_query\_cache\_size@{\_max\_query\_cache\_size}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{\_max\_query\_cache\_size}{\_max\_query\_cache\_size}}
{\footnotesize\ttfamily size\+\_\+t \+\_\+max\+\_\+query\+\_\+cache\+\_\+size = 0\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_aa47905df0a83061082cf11f932a918df}\label{classdoris_1_1io_1_1_i_file_cache_aa47905df0a83061082cf11f932a918df}} 
\index{IFileCache@{IFileCache}!\_is\_initialized@{\_is\_initialized}}
\index{\_is\_initialized@{\_is\_initialized}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{\_is\_initialized}{\_is\_initialized}}
{\footnotesize\ttfamily bool \+\_\+is\+\_\+initialized = false\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a3f0b4c278cb19f9c2b2dbdb065f51e14}\label{classdoris_1_1io_1_1_i_file_cache_a3f0b4c278cb19f9c2b2dbdb065f51e14}} 
\index{IFileCache@{IFileCache}!\_mutex@{\_mutex}}
\index{\_mutex@{\_mutex}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{\_mutex}{\_mutex}}
{\footnotesize\ttfamily std\+::mutex \+\_\+mutex\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a243744aff6497bffe2dfde68e4b064bd}\label{classdoris_1_1io_1_1_i_file_cache_a243744aff6497bffe2dfde68e4b064bd}} 
\index{IFileCache@{IFileCache}!\_query\_map@{\_query\_map}}
\index{\_query\_map@{\_query\_map}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{\_query\_map}{\_query\_map}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1io_1_1_i_file_cache_a18f35fffa11659535addfdd93902c7f4}{Query\+File\+Cache\+Context\+Map}} \+\_\+query\+\_\+map\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classdoris_1_1io_1_1_i_file_cache_a8b3d22a40257298552eb609d18cb2219}\label{classdoris_1_1io_1_1_i_file_cache_a8b3d22a40257298552eb609d18cb2219}} 
\index{IFileCache@{IFileCache}!\_enable\_file\_cache\_query\_limit@{\_enable\_file\_cache\_query\_limit}}
\index{\_enable\_file\_cache\_query\_limit@{\_enable\_file\_cache\_query\_limit}!IFileCache@{IFileCache}}
\doxysubsubsection{\texorpdfstring{\_enable\_file\_cache\_query\_limit}{\_enable\_file\_cache\_query\_limit}}
{\footnotesize\ttfamily bool \+\_\+enable\+\_\+file\+\_\+cache\+\_\+query\+\_\+limit = config\+::enable\+\_\+file\+\_\+cache\+\_\+query\+\_\+limit\hspace{0.3cm}{\ttfamily [protected]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/be\+\_\+all/io/cache/block/\mbox{\hyperlink{block__file__cache_8h}{block\+\_\+file\+\_\+cache.\+h}}\item 
/\+Users/dabowang/be\+\_\+all/io/cache/block/\mbox{\hyperlink{block__file__cache_8cpp}{block\+\_\+file\+\_\+cache.\+cpp}}\end{DoxyCompactItemize}
