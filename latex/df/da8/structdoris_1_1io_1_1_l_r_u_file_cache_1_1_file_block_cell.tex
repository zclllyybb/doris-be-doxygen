\hypertarget{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell}{}\doxysection{LRUFile\+Cache\+::File\+Block\+Cell结构体 参考}
\label{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell}\index{LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a42ee8ceb738a1e98fcf6432f7c029b6c}{releasable}} () const
\item 
size\+\_\+t \mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a259cb5a711406a8c3e5d937eb9350cca}{size}} () const
\item 
\mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a230b79c6a942711e3afc5e0f0ecd9282}{File\+Block\+Cell}} (\mbox{\hyperlink{namespacedoris_1_1io_a7b4eb20d4fdfaa0bd58cb48243d3b246}{File\+Block\+SPtr}} file\+\_\+segment\+\_\+, \mbox{\hyperlink{classdoris_1_1io_1_1_l_r_u_file_cache}{LRUFile\+Cache}} $\ast$cache, std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&cache\+\_\+lock)
\item 
\mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_acb96a86552dfec7904144871e68d9e19}{File\+Block\+Cell}} (\mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell}{File\+Block\+Cell}} \&\&other) noexcept
\item 
\mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell}{File\+Block\+Cell}} \& \mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a29dc9cdfd7a64a826782d28207a82842}{operator=}} (const \mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell}{File\+Block\+Cell}} \&)=delete
\item 
\mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a149c52efeb7d2003137e3113bbeef9fc}{File\+Block\+Cell}} (const \mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell}{File\+Block\+Cell}} \&)=delete
\end{DoxyCompactItemize}
\doxysubsection*{Public 属性}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedoris_1_1io_a7b4eb20d4fdfaa0bd58cb48243d3b246}{File\+Block\+SPtr}} \mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_aeab1f50c2e118b5200cd29260606a8e3}{file\+\_\+segment}}
\item 
std\+::optional$<$ LRUQueue\+::\+Iterator $>$ \mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_aec064cf463d3eff11c9f6861a1ef89e9}{queue\+\_\+iterator}}
\begin{DoxyCompactList}\small\item\em Iterator is put here on first reservation attempt, if successful. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a230b79c6a942711e3afc5e0f0ecd9282}\label{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a230b79c6a942711e3afc5e0f0ecd9282}} 
\index{LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}!FileBlockCell@{FileBlockCell}}
\index{FileBlockCell@{FileBlockCell}!LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}}
\doxysubsubsection{\texorpdfstring{FileBlockCell()}{FileBlockCell()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell}{File\+Block\+Cell}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedoris_1_1io_a7b4eb20d4fdfaa0bd58cb48243d3b246}{File\+Block\+SPtr}}}]{file\+\_\+segment\+\_\+,  }\item[{\mbox{\hyperlink{classdoris_1_1io_1_1_l_r_u_file_cache}{LRUFile\+Cache}} $\ast$}]{cache,  }\item[{std\+::lock\+\_\+guard$<$ std\+::mutex $>$ \&}]{cache\+\_\+lock }\end{DoxyParamCaption})}

Cell can be created with either DOWNLOADED or EMPTY file segment\textquotesingle{}s state. File segment acquires DOWNLOADING state and creates LRUQueue iterator on first successful get\+Or\+Set\+Downaloder call.函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/da8/structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a230b79c6a942711e3afc5e0f0ecd9282_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_acb96a86552dfec7904144871e68d9e19}\label{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_acb96a86552dfec7904144871e68d9e19}} 
\index{LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}!FileBlockCell@{FileBlockCell}}
\index{FileBlockCell@{FileBlockCell}!LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}}
\doxysubsubsection{\texorpdfstring{FileBlockCell()}{FileBlockCell()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell}{File\+Block\+Cell}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell}{File\+Block\+Cell}} \&\&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

\mbox{\Hypertarget{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a149c52efeb7d2003137e3113bbeef9fc}\label{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a149c52efeb7d2003137e3113bbeef9fc}} 
\index{LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}!FileBlockCell@{FileBlockCell}}
\index{FileBlockCell@{FileBlockCell}!LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}}
\doxysubsubsection{\texorpdfstring{FileBlockCell()}{FileBlockCell()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell}{File\+Block\+Cell}} (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell}{File\+Block\+Cell}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{成员函数说明}
\mbox{\Hypertarget{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a42ee8ceb738a1e98fcf6432f7c029b6c}\label{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a42ee8ceb738a1e98fcf6432f7c029b6c}} 
\index{LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}!releasable@{releasable}}
\index{releasable@{releasable}!LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}}
\doxysubsubsection{\texorpdfstring{releasable()}{releasable()}}
{\footnotesize\ttfamily bool releasable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Pointer to file segment is always hold by the cache itself. Apart from pointer in cache, it can be hold by cache users, when they call getor\+Set(), but cache users always hold it via \mbox{\hyperlink{structdoris_1_1io_1_1_file_blocks_holder}{File\+Blocks\+Holder}}. \mbox{\Hypertarget{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a259cb5a711406a8c3e5d937eb9350cca}\label{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a259cb5a711406a8c3e5d937eb9350cca}} 
\index{LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}!size@{size}}
\index{size@{size}!LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily size\+\_\+t size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a29dc9cdfd7a64a826782d28207a82842}\label{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_a29dc9cdfd7a64a826782d28207a82842}} 
\index{LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}!operator=@{operator=}}
\index{operator=@{operator=}!LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell}{File\+Block\+Cell}} \& operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell}{File\+Block\+Cell}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_aeab1f50c2e118b5200cd29260606a8e3}\label{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_aeab1f50c2e118b5200cd29260606a8e3}} 
\index{LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}!file\_segment@{file\_segment}}
\index{file\_segment@{file\_segment}!LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}}
\doxysubsubsection{\texorpdfstring{file\_segment}{file\_segment}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedoris_1_1io_a7b4eb20d4fdfaa0bd58cb48243d3b246}{File\+Block\+SPtr}} file\+\_\+segment}

\mbox{\Hypertarget{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_aec064cf463d3eff11c9f6861a1ef89e9}\label{structdoris_1_1io_1_1_l_r_u_file_cache_1_1_file_block_cell_aec064cf463d3eff11c9f6861a1ef89e9}} 
\index{LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}!queue\_iterator@{queue\_iterator}}
\index{queue\_iterator@{queue\_iterator}!LRUFileCache::FileBlockCell@{LRUFileCache::FileBlockCell}}
\doxysubsubsection{\texorpdfstring{queue\_iterator}{queue\_iterator}}
{\footnotesize\ttfamily std\+::optional$<$LRUQueue\+::\+Iterator$>$ queue\+\_\+iterator}



Iterator is put here on first reservation attempt, if successful. 



该结构体的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/doris/be/src/io/cache/block/\mbox{\hyperlink{block__lru__file__cache_8h}{block\+\_\+lru\+\_\+file\+\_\+cache.\+h}}\item 
/\+Users/dabowang/doris/be/src/io/cache/block/\mbox{\hyperlink{block__lru__file__cache_8cpp}{block\+\_\+lru\+\_\+file\+\_\+cache.\+cpp}}\end{DoxyCompactItemize}
