\hypertarget{classdoris_1_1_tablet_migration_action}{}\doxysection{Tablet\+Migration\+Action类 参考}
\label{classdoris_1_1_tablet_migration_action}\index{TabletMigrationAction@{TabletMigrationAction}}


{\ttfamily \#include $<$tablet\+\_\+migration\+\_\+action.\+h$>$}



类 Tablet\+Migration\+Action 继承关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=190pt]{d8/d98/classdoris_1_1_tablet_migration_action__inherit__graph}
\end{center}
\end{figure}


Tablet\+Migration\+Action 的协作图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=190pt]{d4/d49/classdoris_1_1_tablet_migration_action__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structdoris_1_1_tablet_migration_action_1_1_migration_task}{Migration\+Task}}
\end{DoxyCompactItemize}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdoris_1_1_tablet_migration_action_a3986d24821ea652c9780ec2eacfe7f44}{Tablet\+Migration\+Action}} ()
\item 
void \mbox{\hyperlink{classdoris_1_1_tablet_migration_action_ac19cf1dfbfc14c0169018218471fd806}{handle}} (\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$req) override
\item 
void \mbox{\hyperlink{classdoris_1_1_tablet_migration_action_a298b7d44b41b7357433d2ed471360424}{\+\_\+init\+\_\+migration\+\_\+action}} ()
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_tablet_migration_action_ae01f2463259c1917644918f92207137d}{\+\_\+execute\+\_\+tablet\+\_\+migration}} (\mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} tablet, \mbox{\hyperlink{classdoris_1_1_data_dir}{Data\+Dir}} $\ast$dest\+\_\+store)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_tablet_migration_action_aa94529c2beb33fb783cf7db5263d3120}{\+\_\+check\+\_\+param}} (\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$req, int64\+\_\+t \&tablet\+\_\+id, int32\+\_\+t \&schema\+\_\+hash, string \&dest\+\_\+disk, string \&goal)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_tablet_migration_action_afa446a4169b1ef868487633bb105b97b}{\+\_\+check\+\_\+migrate\+\_\+request}} (int64\+\_\+t tablet\+\_\+id, int32\+\_\+t schema\+\_\+hash, string dest\+\_\+disk, \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&tablet, \mbox{\hyperlink{classdoris_1_1_data_dir}{Data\+Dir}} $\ast$$\ast$dest\+\_\+store)
\item 
virtual bool \mbox{\hyperlink{classdoris_1_1_http_handler_a7f9438808dc7de22cb39bcaadd0faeac}{request\+\_\+will\+\_\+be\+\_\+read\+\_\+progressively}} ()
\item 
virtual int \mbox{\hyperlink{classdoris_1_1_http_handler_ac62f4166c99faa854c7dbb7a85ddf84a}{on\+\_\+header}} (\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$req)
\item 
virtual void \mbox{\hyperlink{classdoris_1_1_http_handler_ab9238fed1b0f393be690ce38b281f25f}{on\+\_\+chunk\+\_\+data}} (\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$req)
\item 
virtual void \mbox{\hyperlink{classdoris_1_1_http_handler_a76dc072f38ee49573560171c11d83710}{free\+\_\+handler\+\_\+ctx}} (void $\ast$handler\+\_\+ctx)
\end{DoxyCompactItemize}
\doxysubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classdoris_1_1_thread_pool}{Thread\+Pool}} $>$ \mbox{\hyperlink{classdoris_1_1_tablet_migration_action_a33427808e5f724361acb056227319bc6}{\+\_\+migration\+\_\+thread\+\_\+pool}}
\item 
std\+::mutex \mbox{\hyperlink{classdoris_1_1_tablet_migration_action_a5bc78804cc395321b9159acad4487a09}{\+\_\+migration\+\_\+status\+\_\+mutex}}
\item 
std\+::map$<$ \mbox{\hyperlink{structdoris_1_1_tablet_migration_action_1_1_migration_task}{Migration\+Task}}, std\+::string $>$ \mbox{\hyperlink{classdoris_1_1_tablet_migration_action_a13ccf384c03b938e492c21af764ec819}{\+\_\+migration\+\_\+tasks}}
\item 
std\+::deque$<$ std\+::pair$<$ \mbox{\hyperlink{structdoris_1_1_tablet_migration_action_1_1_migration_task}{Migration\+Task}}, \mbox{\hyperlink{classdoris_1_1_status}{Status}} $>$ $>$ \mbox{\hyperlink{classdoris_1_1_tablet_migration_action_a5e591a9a9c9badda1b7614c85af3b932}{\+\_\+finished\+\_\+migration\+\_\+tasks}}
\end{DoxyCompactItemize}


\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{classdoris_1_1_tablet_migration_action_a3986d24821ea652c9780ec2eacfe7f44}\label{classdoris_1_1_tablet_migration_action_a3986d24821ea652c9780ec2eacfe7f44}} 
\index{TabletMigrationAction@{TabletMigrationAction}!TabletMigrationAction@{TabletMigrationAction}}
\index{TabletMigrationAction@{TabletMigrationAction}!TabletMigrationAction@{TabletMigrationAction}}
\doxysubsubsection{\texorpdfstring{TabletMigrationAction()}{TabletMigrationAction()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_tablet_migration_action}{Tablet\+Migration\+Action}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc2/classdoris_1_1_tablet_migration_action_a3986d24821ea652c9780ec2eacfe7f44_cgraph}
\end{center}
\end{figure}


\doxysubsection{成员函数说明}
\mbox{\Hypertarget{classdoris_1_1_tablet_migration_action_ac19cf1dfbfc14c0169018218471fd806}\label{classdoris_1_1_tablet_migration_action_ac19cf1dfbfc14c0169018218471fd806}} 
\index{TabletMigrationAction@{TabletMigrationAction}!handle@{handle}}
\index{handle@{handle}!TabletMigrationAction@{TabletMigrationAction}}
\doxysubsubsection{\texorpdfstring{handle()}{handle()}}
{\footnotesize\ttfamily void handle (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_http_handler_a6f5154b627191b7aceea434ebb9c02bf}{Http\+Handler}}.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc2/classdoris_1_1_tablet_migration_action_ac19cf1dfbfc14c0169018218471fd806_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_tablet_migration_action_a298b7d44b41b7357433d2ed471360424}\label{classdoris_1_1_tablet_migration_action_a298b7d44b41b7357433d2ed471360424}} 
\index{TabletMigrationAction@{TabletMigrationAction}!\_init\_migration\_action@{\_init\_migration\_action}}
\index{\_init\_migration\_action@{\_init\_migration\_action}!TabletMigrationAction@{TabletMigrationAction}}
\doxysubsubsection{\texorpdfstring{\_init\_migration\_action()}{\_init\_migration\_action()}}
{\footnotesize\ttfamily void \+\_\+init\+\_\+migration\+\_\+action (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc2/classdoris_1_1_tablet_migration_action_a298b7d44b41b7357433d2ed471360424_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=337pt]{df/dc2/classdoris_1_1_tablet_migration_action_a298b7d44b41b7357433d2ed471360424_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_tablet_migration_action_ae01f2463259c1917644918f92207137d}\label{classdoris_1_1_tablet_migration_action_ae01f2463259c1917644918f92207137d}} 
\index{TabletMigrationAction@{TabletMigrationAction}!\_execute\_tablet\_migration@{\_execute\_tablet\_migration}}
\index{\_execute\_tablet\_migration@{\_execute\_tablet\_migration}!TabletMigrationAction@{TabletMigrationAction}}
\doxysubsubsection{\texorpdfstring{\_execute\_tablet\_migration()}{\_execute\_tablet\_migration()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+execute\+\_\+tablet\+\_\+migration (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}}}]{tablet,  }\item[{\mbox{\hyperlink{classdoris_1_1_data_dir}{Data\+Dir}} $\ast$}]{dest\+\_\+store }\end{DoxyParamCaption})}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc2/classdoris_1_1_tablet_migration_action_ae01f2463259c1917644918f92207137d_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=292pt]{df/dc2/classdoris_1_1_tablet_migration_action_ae01f2463259c1917644918f92207137d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_tablet_migration_action_aa94529c2beb33fb783cf7db5263d3120}\label{classdoris_1_1_tablet_migration_action_aa94529c2beb33fb783cf7db5263d3120}} 
\index{TabletMigrationAction@{TabletMigrationAction}!\_check\_param@{\_check\_param}}
\index{\_check\_param@{\_check\_param}!TabletMigrationAction@{TabletMigrationAction}}
\doxysubsubsection{\texorpdfstring{\_check\_param()}{\_check\_param()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+check\+\_\+param (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$}]{req,  }\item[{int64\+\_\+t \&}]{tablet\+\_\+id,  }\item[{int32\+\_\+t \&}]{schema\+\_\+hash,  }\item[{string \&}]{dest\+\_\+disk,  }\item[{string \&}]{goal }\end{DoxyParamCaption})}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc2/classdoris_1_1_tablet_migration_action_aa94529c2beb33fb783cf7db5263d3120_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=241pt]{df/dc2/classdoris_1_1_tablet_migration_action_aa94529c2beb33fb783cf7db5263d3120_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_tablet_migration_action_afa446a4169b1ef868487633bb105b97b}\label{classdoris_1_1_tablet_migration_action_afa446a4169b1ef868487633bb105b97b}} 
\index{TabletMigrationAction@{TabletMigrationAction}!\_check\_migrate\_request@{\_check\_migrate\_request}}
\index{\_check\_migrate\_request@{\_check\_migrate\_request}!TabletMigrationAction@{TabletMigrationAction}}
\doxysubsubsection{\texorpdfstring{\_check\_migrate\_request()}{\_check\_migrate\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+check\+\_\+migrate\+\_\+request (\begin{DoxyParamCaption}\item[{int64\+\_\+t}]{tablet\+\_\+id,  }\item[{int32\+\_\+t}]{schema\+\_\+hash,  }\item[{string}]{dest\+\_\+disk,  }\item[{\mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&}]{tablet,  }\item[{\mbox{\hyperlink{classdoris_1_1_data_dir}{Data\+Dir}} $\ast$$\ast$}]{dest\+\_\+store }\end{DoxyParamCaption})}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dc2/classdoris_1_1_tablet_migration_action_afa446a4169b1ef868487633bb105b97b_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=284pt]{df/dc2/classdoris_1_1_tablet_migration_action_afa446a4169b1ef868487633bb105b97b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_http_handler_a7f9438808dc7de22cb39bcaadd0faeac}\label{classdoris_1_1_http_handler_a7f9438808dc7de22cb39bcaadd0faeac}} 
\index{TabletMigrationAction@{TabletMigrationAction}!request\_will\_be\_read\_progressively@{request\_will\_be\_read\_progressively}}
\index{request\_will\_be\_read\_progressively@{request\_will\_be\_read\_progressively}!TabletMigrationAction@{TabletMigrationAction}}
\doxysubsubsection{\texorpdfstring{request\_will\_be\_read\_progressively()}{request\_will\_be\_read\_progressively()}}
{\footnotesize\ttfamily virtual bool request\+\_\+will\+\_\+be\+\_\+read\+\_\+progressively (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [inherited]}}



被 \mbox{\hyperlink{classdoris_1_1_stream_load_action_a89b046854f4d264f5149a54f4686629f}{Stream\+Load\+Action}} 重载.

\mbox{\Hypertarget{classdoris_1_1_http_handler_ac62f4166c99faa854c7dbb7a85ddf84a}\label{classdoris_1_1_http_handler_ac62f4166c99faa854c7dbb7a85ddf84a}} 
\index{TabletMigrationAction@{TabletMigrationAction}!on\_header@{on\_header}}
\index{on\_header@{on\_header}!TabletMigrationAction@{TabletMigrationAction}}
\doxysubsubsection{\texorpdfstring{on\_header()}{on\_header()}}
{\footnotesize\ttfamily virtual int on\+\_\+header (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [inherited]}}



被 \mbox{\hyperlink{classdoris_1_1_stream_load_action_ab55c42c813043e75d66e299d76db3fc2}{Stream\+Load\+Action}} 重载.

\mbox{\Hypertarget{classdoris_1_1_http_handler_ab9238fed1b0f393be690ce38b281f25f}\label{classdoris_1_1_http_handler_ab9238fed1b0f393be690ce38b281f25f}} 
\index{TabletMigrationAction@{TabletMigrationAction}!on\_chunk\_data@{on\_chunk\_data}}
\index{on\_chunk\_data@{on\_chunk\_data}!TabletMigrationAction@{TabletMigrationAction}}
\doxysubsubsection{\texorpdfstring{on\_chunk\_data()}{on\_chunk\_data()}}
{\footnotesize\ttfamily virtual void on\+\_\+chunk\+\_\+data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_http_request}{Http\+Request}} $\ast$}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [inherited]}}



被 \mbox{\hyperlink{classdoris_1_1_stream_load_action_a4cd60b32c7dac207c8a1db773696b15a}{Stream\+Load\+Action}} 重载.

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dc/d89/classdoris_1_1_http_handler_ab9238fed1b0f393be690ce38b281f25f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_http_handler_a76dc072f38ee49573560171c11d83710}\label{classdoris_1_1_http_handler_a76dc072f38ee49573560171c11d83710}} 
\index{TabletMigrationAction@{TabletMigrationAction}!free\_handler\_ctx@{free\_handler\_ctx}}
\index{free\_handler\_ctx@{free\_handler\_ctx}!TabletMigrationAction@{TabletMigrationAction}}
\doxysubsubsection{\texorpdfstring{free\_handler\_ctx()}{free\_handler\_ctx()}}
{\footnotesize\ttfamily virtual void free\+\_\+handler\+\_\+ctx (\begin{DoxyParamCaption}\item[{void $\ast$}]{handler\+\_\+ctx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [inherited]}}



被 \mbox{\hyperlink{classdoris_1_1_stream_load_action_ae0efa231685ce3256bdbbaddbe6e3466}{Stream\+Load\+Action}} , 以及 \mbox{\hyperlink{classdoris_1_1_stream_load2_p_c_action_aaade040870caa051e6fa587adcf6801f}{Stream\+Load2\+PCAction}} 重载.

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=304pt]{dc/d89/classdoris_1_1_http_handler_a76dc072f38ee49573560171c11d83710_icgraph}
\end{center}
\end{figure}


\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{classdoris_1_1_tablet_migration_action_a33427808e5f724361acb056227319bc6}\label{classdoris_1_1_tablet_migration_action_a33427808e5f724361acb056227319bc6}} 
\index{TabletMigrationAction@{TabletMigrationAction}!\_migration\_thread\_pool@{\_migration\_thread\_pool}}
\index{\_migration\_thread\_pool@{\_migration\_thread\_pool}!TabletMigrationAction@{TabletMigrationAction}}
\doxysubsubsection{\texorpdfstring{\_migration\_thread\_pool}{\_migration\_thread\_pool}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classdoris_1_1_thread_pool}{Thread\+Pool}}$>$ \+\_\+migration\+\_\+thread\+\_\+pool\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_tablet_migration_action_a5bc78804cc395321b9159acad4487a09}\label{classdoris_1_1_tablet_migration_action_a5bc78804cc395321b9159acad4487a09}} 
\index{TabletMigrationAction@{TabletMigrationAction}!\_migration\_status\_mutex@{\_migration\_status\_mutex}}
\index{\_migration\_status\_mutex@{\_migration\_status\_mutex}!TabletMigrationAction@{TabletMigrationAction}}
\doxysubsubsection{\texorpdfstring{\_migration\_status\_mutex}{\_migration\_status\_mutex}}
{\footnotesize\ttfamily std\+::mutex \+\_\+migration\+\_\+status\+\_\+mutex\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_tablet_migration_action_a13ccf384c03b938e492c21af764ec819}\label{classdoris_1_1_tablet_migration_action_a13ccf384c03b938e492c21af764ec819}} 
\index{TabletMigrationAction@{TabletMigrationAction}!\_migration\_tasks@{\_migration\_tasks}}
\index{\_migration\_tasks@{\_migration\_tasks}!TabletMigrationAction@{TabletMigrationAction}}
\doxysubsubsection{\texorpdfstring{\_migration\_tasks}{\_migration\_tasks}}
{\footnotesize\ttfamily std\+::map$<$\mbox{\hyperlink{structdoris_1_1_tablet_migration_action_1_1_migration_task}{Migration\+Task}}, std\+::string$>$ \+\_\+migration\+\_\+tasks\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_tablet_migration_action_a5e591a9a9c9badda1b7614c85af3b932}\label{classdoris_1_1_tablet_migration_action_a5e591a9a9c9badda1b7614c85af3b932}} 
\index{TabletMigrationAction@{TabletMigrationAction}!\_finished\_migration\_tasks@{\_finished\_migration\_tasks}}
\index{\_finished\_migration\_tasks@{\_finished\_migration\_tasks}!TabletMigrationAction@{TabletMigrationAction}}
\doxysubsubsection{\texorpdfstring{\_finished\_migration\_tasks}{\_finished\_migration\_tasks}}
{\footnotesize\ttfamily std\+::deque$<$std\+::pair$<$\mbox{\hyperlink{structdoris_1_1_tablet_migration_action_1_1_migration_task}{Migration\+Task}}, \mbox{\hyperlink{classdoris_1_1_status}{Status}}$>$ $>$ \+\_\+finished\+\_\+migration\+\_\+tasks\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/be\+\_\+all/http/action/\mbox{\hyperlink{tablet__migration__action_8h}{tablet\+\_\+migration\+\_\+action.\+h}}\item 
/\+Users/dabowang/be\+\_\+all/http/action/\mbox{\hyperlink{tablet__migration__action_8cpp}{tablet\+\_\+migration\+\_\+action.\+cpp}}\end{DoxyCompactItemize}
