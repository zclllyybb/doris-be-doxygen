\hypertarget{exec__env_8h_source}{}\doxysection{exec\+\_\+env.\+h}
\label{exec__env_8h_source}\index{/Users/dabowang/doris/be/src/runtime/exec\_env.h@{/Users/dabowang/doris/be/src/runtime/exec\_env.h}}
\mbox{\hyperlink{exec__env_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <gen\_cpp/FrontendService.h>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{common_2config_8h}{common/config.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{status_8h}{common/status.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{options_8h}{olap/options.h}}"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{threadpool_8h}{util/threadpool.h}}"{}}}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris}{doris}}\ \{}
\DoxyCodeLine{00030\ \textcolor{keyword}{namespace\ }vectorized\ \{}
\DoxyCodeLine{00031\ \textcolor{keyword}{class\ }VDataStreamMgr;}
\DoxyCodeLine{00032\ \textcolor{keyword}{class\ }ScannerScheduler;}
\DoxyCodeLine{00033\ \}\ \textcolor{comment}{//\ namespace\ vectorized}}
\DoxyCodeLine{00034\ \textcolor{keyword}{namespace\ }pipeline\ \{}
\DoxyCodeLine{00035\ \textcolor{keyword}{class\ }TaskScheduler;}
\DoxyCodeLine{00036\ \}}
\DoxyCodeLine{00037\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_bfd_parser}{BfdParser}};}
\DoxyCodeLine{00038\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_broker_mgr}{BrokerMgr}};}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00041\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_brpc_client_cache}{BrpcClientCache}};}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{keyword}{class\ }DataStreamMgr;}
\DoxyCodeLine{00044\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_ev_http_server}{EvHttpServer}};}
\DoxyCodeLine{00045\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_external_scan_context_mgr}{ExternalScanContextMgr}};}
\DoxyCodeLine{00046\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_fragment_mgr}{FragmentMgr}};}
\DoxyCodeLine{00047\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_result_cache}{ResultCache}};}
\DoxyCodeLine{00048\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_load_path_mgr}{LoadPathMgr}};}
\DoxyCodeLine{00049\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_new_load_stream_mgr}{NewLoadStreamMgr}};}
\DoxyCodeLine{00050\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_mem_tracker_limiter}{MemTrackerLimiter}};}
\DoxyCodeLine{00051\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_mem_tracker}{MemTracker}};}
\DoxyCodeLine{00052\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_storage_engine}{StorageEngine}};}
\DoxyCodeLine{00053\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_priority_thread_pool}{PriorityThreadPool}};}
\DoxyCodeLine{00054\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_priority_work_stealing_thread_pool}{PriorityWorkStealingThreadPool}};}
\DoxyCodeLine{00055\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_result_buffer_mgr}{ResultBufferMgr}};}
\DoxyCodeLine{00056\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_result_queue_mgr}{ResultQueueMgr}};}
\DoxyCodeLine{00057\ \textcolor{keyword}{class\ }TMasterInfo;}
\DoxyCodeLine{00058\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_load_channel_mgr}{LoadChannelMgr}};}
\DoxyCodeLine{00059\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_web_page_handler}{WebPageHandler}};}
\DoxyCodeLine{00060\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_stream_load_executor}{StreamLoadExecutor}};}
\DoxyCodeLine{00061\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_routine_load_task_executor}{RoutineLoadTaskExecutor}};}
\DoxyCodeLine{00062\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_small_file_mgr}{SmallFileMgr}};}
\DoxyCodeLine{00063\ \textcolor{keyword}{class\ }\mbox{\hyperlink{structdoris_1_1_storage_policy_mgr}{StoragePolicyMgr}};}
\DoxyCodeLine{00064\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_block_spill_manager}{BlockSpillManager}};}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{keyword}{class\ }BackendServiceClient;}
\DoxyCodeLine{00067\ \textcolor{keyword}{class\ }TPaloBrokerServiceClient;}
\DoxyCodeLine{00068\ \textcolor{keyword}{class\ }PBackendService\_Stub;}
\DoxyCodeLine{00069\ \textcolor{keyword}{class\ }PFunctionService\_Stub;}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00072\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_client_cache}{ClientCache}};}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_heartbeat_flags}{HeartbeatFlags}};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{comment}{//\ Execution\ environment\ for\ queries/plan\ fragments.}}
\DoxyCodeLine{00077\ \textcolor{comment}{//\ Contains\ all\ required\ global\ structures,\ and\ handles\ to}}
\DoxyCodeLine{00078\ \textcolor{comment}{//\ singleton\ services.\ Clients\ must\ call\ StartServices\ exactly}}
\DoxyCodeLine{00079\ \textcolor{comment}{//\ once\ to\ properly\ initialise\ service\ state.}}
\DoxyCodeLine{00080\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_exec_env}{ExecEnv}}\ \{}
\DoxyCodeLine{00081\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ Initial\ exec\ environment.\ must\ call\ this\ to\ init\ all}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a6ada05106d62558f90ac753be1b44904}{init}}(\mbox{\hyperlink{classdoris_1_1_exec_env}{ExecEnv}}*\ env,\ \textcolor{keyword}{const}\ std::vector<StorePath>\&\ \mbox{\hyperlink{classdoris_1_1_exec_env_a5fb5aef13106098943e2c73048d9bf3d}{store\_paths}});}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a6511fbad9ef817a2adbd8027dec33083}{destroy}}(\mbox{\hyperlink{classdoris_1_1_exec_env}{ExecEnv}}*\ exec\_env);}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classdoris_1_1_exec_env}{ExecEnv}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a920023e1afb35093f05bf7b69cc5e889}{GetInstance}}()\ \{}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classdoris_1_1_exec_env}{ExecEnv}}\ s\_exec\_env;}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \&s\_exec\_env;}
\DoxyCodeLine{00092\ \ \ \ \ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{//\ only\ used\ for\ test}}
\DoxyCodeLine{00095\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_exec_env_a17ef87fdaaf24da26557624463605fa4}{ExecEnv}}();}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{comment}{//\ Empty\ destructor\ because\ the\ compiler-\/generated\ one\ requires\ full}}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{comment}{//\ declarations\ for\ classes\ in\ scoped\_ptrs.}}
\DoxyCodeLine{00099\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_exec_env_a9e13b97f7da19872dbbf3137914e816c}{\string~ExecEnv}}();}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_exec_env_afe87a180d00c685893090166d7a8dd46}{initialized}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a9542b3368055eb7fb0bf36fc2deea1f3}{\_is\_init}};\ \}}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keyword}{const}\ std::string\&\ \mbox{\hyperlink{classdoris_1_1_exec_env_afa29bb2321e06b8e7140ba91c76cb9fc}{token}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_external_scan_context_mgr}{ExternalScanContextMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a2be17319e495312cfb86bc35d41a1326}{external\_scan\_context\_mgr}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a94f84d07d4ad4d2c130eee4f1b6f2918}{\_external\_scan\_context\_mgr}};\ \}}
\DoxyCodeLine{00104\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_data_stream_mgr}{doris::vectorized::VDataStreamMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_abf3914b1096f70d54a1872e3487ceaf3}{vstream\_mgr}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a3ab07745de9ed64a11bbb45cd800e1fc}{\_vstream\_mgr}};\ \}}
\DoxyCodeLine{00105\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_result_buffer_mgr}{ResultBufferMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a11cc18dfd85bb84adc5641f9db124ac9}{result\_mgr}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a87d9c9e432d5ed8a39cc318931d3f670}{\_result\_mgr}};\ \}}
\DoxyCodeLine{00106\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_result_queue_mgr}{ResultQueueMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a080c1a16a19b815bce33d48ab117e75e}{result\_queue\_mgr}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_ac7bd8627ceeba9482b887748ae201e42}{\_result\_queue\_mgr}};\ \}}
\DoxyCodeLine{00107\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_client_cache}{ClientCache<BackendServiceClient>}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_ae8d92bd5d580525ef7f41f1bd22987f4}{client\_cache}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a4d566a94170ac8a51cd65173163c91cf}{\_backend\_client\_cache}};\ \}}
\DoxyCodeLine{00108\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_client_cache}{ClientCache<FrontendServiceClient>}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_aedae9ed3323b3d66add196e42a203dd3}{frontend\_client\_cache}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a0bea57fcf138bf8d01289ba15cde3c08}{\_frontend\_client\_cache}};\ \}}
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_client_cache}{ClientCache<TPaloBrokerServiceClient>}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a0e209ae5fa12dae6ed1775a984bc12db}{broker\_client\_cache}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a983788247d5a450541bbd26d80e89834}{\_broker\_client\_cache}};\ \}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_task_scheduler}{pipeline::TaskScheduler}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a374857c48d5bb1df397721d1fae9e20e}{pipeline\_task\_scheduler}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a6c99c384ed7a6c450a024b6b01e63e1f}{\_pipeline\_task\_scheduler}};\ \}}
\DoxyCodeLine{00112\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_task_scheduler}{pipeline::TaskScheduler}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a5e301313018a30de7bc337c9bcafb054}{pipeline\_task\_group\_scheduler}}()\ \{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a8d358ce79779028c2ddd5589e9eac05f}{\_pipeline\_task\_group\_scheduler}};}
\DoxyCodeLine{00114\ \ \ \ \ \}}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{comment}{//\ using\ template\ to\ simplify\ client\ cache\ management}}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classdoris_1_1_client_cache}{ClientCache<T>}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_aae25a0cc776723f54d6f2f8f13f81e51}{get\_client\_cache}}()\ \{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00120\ \ \ \ \ \}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_exec_env_ad7cac2bd6339a16f32247a10f120156d}{init\_mem\_tracker}}();}
\DoxyCodeLine{00123\ \ \ \ \ std::shared\_ptr<MemTrackerLimiter>\ \mbox{\hyperlink{classdoris_1_1_exec_env_ab074f1e6c0f6f11c6ebc85d040247ef4}{orphan\_mem\_tracker}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a942b5390fc9011ceb616e3554a23a421}{\_orphan\_mem\_tracker}};\ \}}
\DoxyCodeLine{00124\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_mem_tracker_limiter}{MemTrackerLimiter}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a389d834891cbfc8e351eb81867175fb6}{orphan\_mem\_tracker\_raw}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a8af27177f449d7d40151df731551acc4}{\_orphan\_mem\_tracker\_raw}};\ \}}
\DoxyCodeLine{00125\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_mem_tracker_limiter}{MemTrackerLimiter}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_aad7a8640d2f785b3da63012301f48d3c}{experimental\_mem\_tracker}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_ae94c13f583f8803e41c7d234b201fff1}{\_experimental\_mem\_tracker}}.get();\ \}}
\DoxyCodeLine{00126\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_mem_tracker}{MemTracker}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a7e137169bc52d260164318cbb3c73a4a}{page\_no\_cache\_mem\_tracker}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_acfbf8e955637f1f2117b04672c5c26f8}{\_page\_no\_cache\_mem\_tracker}}.get();\ \}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_thread_pool}{ThreadPool}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a228149990b02fbc6c10fb90077ffb9e7}{send\_batch\_thread\_pool}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_ac3f03072b28cf9bdcc5391dbbeaa23cb}{\_send\_batch\_thread\_pool}}.get();\ \}}
\DoxyCodeLine{00129\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_thread_pool}{ThreadPool}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a79c7ca4eac00c5945baaf3a65ac851b1}{download\_cache\_thread\_pool}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_ab581eab835a341a1c7932c8496e1f874}{\_download\_cache\_thread\_pool}}.get();\ \}}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_thread_pool}{ThreadPool}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a99be88c84906bdf061495807f3cf772f}{buffered\_reader\_prefetch\_thread\_pool}}()\ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a95cb025fe172f6a91a36998acb0edb76}{\_buffered\_reader\_prefetch\_thread\_pool}}.get();}
\DoxyCodeLine{00132\ \ \ \ \ \}}
\DoxyCodeLine{00133\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_thread_pool}{ThreadPool}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_ac729d129cced75b2416eb1fb20a30474}{send\_report\_thread\_pool}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a3caad7ee860e6975d8aa249819da501c}{\_send\_report\_thread\_pool}}.get();\ \}}
\DoxyCodeLine{00134\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_thread_pool}{ThreadPool}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a89d7efacb9b3cdfe262c249931203014}{join\_node\_thread\_pool}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_abf2ba62bc2504f7dd5fa60eeaa2f1e41}{\_join\_node\_thread\_pool}}.get();\ \}}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a5b71b9cb6c928c6f578ed9fb1e2120d0}{set\_serial\_download\_cache\_thread\_token}}()\ \{}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_exec_env_a91ec9f16777d61d366bf6aa121a96424}{\_serial\_download\_cache\_thread\_token}}\ =}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_exec_env_a79c7ca4eac00c5945baaf3a65ac851b1}{download\_cache\_thread\_pool}}()-\/>\mbox{\hyperlink{classdoris_1_1_thread_pool_a494e0b4f5f600df10ce2fb8a35a43cb6}{new\_token}}(\mbox{\hyperlink{classdoris_1_1_thread_pool_ad14b0c6d4ed8fcadff6dcf39c5cf17fda7b804a28d6154ab8007287532037f1d0}{ThreadPool::ExecutionMode::SERIAL}},\ 1);}
\DoxyCodeLine{00139\ \ \ \ \ \}}
\DoxyCodeLine{00140\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_thread_pool_token}{ThreadPoolToken}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a02a9a8e1eafc188f0f097762d981c47e}{get\_serial\_download\_cache\_thread\_token}}()\ \{}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a91ec9f16777d61d366bf6aa121a96424}{\_serial\_download\_cache\_thread\_token}}.get();}
\DoxyCodeLine{00142\ \ \ \ \ \}}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a819ab290b8972aaf5c178c50172e5022}{init\_download\_cache\_buf}}();}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a6259cfc711e99611da97b70b808fcac8}{init\_download\_cache\_required\_components}}();}
\DoxyCodeLine{00145\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a0775a180a3dd584921c54d5ee088fe8c}{init\_pipeline\_task\_scheduler}}();}
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_ae3d2c30ec31535ad749c5b408fc8409a}{get\_download\_cache\_buf}}(\mbox{\hyperlink{classdoris_1_1_thread_pool_token}{ThreadPoolToken}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_afa29bb2321e06b8e7140ba91c76cb9fc}{token}})\ \{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classdoris_1_1_exec_env_aac8b856e8659ddb0aea642ee020109e6}{\_download\_cache\_buf\_map}}.find(\mbox{\hyperlink{classdoris_1_1_exec_env_afa29bb2321e06b8e7140ba91c76cb9fc}{token}})\ ==\ \mbox{\hyperlink{classdoris_1_1_exec_env_aac8b856e8659ddb0aea642ee020109e6}{\_download\_cache\_buf\_map}}.end())\ \{}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_aac8b856e8659ddb0aea642ee020109e6}{\_download\_cache\_buf\_map}}[\mbox{\hyperlink{classdoris_1_1_exec_env_afa29bb2321e06b8e7140ba91c76cb9fc}{token}}].get();}
\DoxyCodeLine{00151\ \ \ \ \ \}}
\DoxyCodeLine{00152\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_fragment_mgr}{FragmentMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_ab242c18e94933c747f08b07052d9a0fd}{fragment\_mgr}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a74721e727595bfd7a8ba61951f7f4033}{\_fragment\_mgr}};\ \}}
\DoxyCodeLine{00153\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_result_cache}{ResultCache}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_af09e98a7944555f558e62dae35b4e1c6}{result\_cache}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a8b5bec173c3ae59d3e679a54b5794f75}{\_result\_cache}};\ \}}
\DoxyCodeLine{00154\ \ \ \ \ TMasterInfo*\ \mbox{\hyperlink{classdoris_1_1_exec_env_ae830cb2cc50dcb65938f9710d02b36f7}{master\_info}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a6ffb43abc9af8bdd433bec089e6386fe}{\_master\_info}};\ \}}
\DoxyCodeLine{00155\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_load_path_mgr}{LoadPathMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a2225cda40ae99f128e78b8bab5b25045}{load\_path\_mgr}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_af7bab4ca72d3cd891b482412c69cec82}{\_load\_path\_mgr}};\ \}}
\DoxyCodeLine{00156\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_bfd_parser}{BfdParser}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a7dbd3e36c60053b65405c29e190a520e}{bfd\_parser}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a5a74593417215e1edbfcc9ce23127a9f}{\_bfd\_parser}};\ \}}
\DoxyCodeLine{00157\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_broker_mgr}{BrokerMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a542c23fc222bb3e4112f09f37eb95925}{broker\_mgr}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a5e1860d00d142684708d60c663a60d81}{\_broker\_mgr}};\ \}}
\DoxyCodeLine{00158\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_brpc_client_cache}{BrpcClientCache<PBackendService\_Stub>}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a676bc013cf4905d50c66f6ad5fb5be63}{brpc\_internal\_client\_cache}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_ae6385895a834832d5432aef81f784dc5}{\_internal\_client\_cache}};}
\DoxyCodeLine{00160\ \ \ \ \ \}}
\DoxyCodeLine{00161\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_brpc_client_cache}{BrpcClientCache<PFunctionService\_Stub>}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_ac058fe9e57a12012a3dd404cb301d32d}{brpc\_function\_client\_cache}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a87afde74f288c4268c86b94f30e42718}{\_function\_client\_cache}};}
\DoxyCodeLine{00163\ \ \ \ \ \}}
\DoxyCodeLine{00164\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_load_channel_mgr}{LoadChannelMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a3809829b118177d75b8f62d9d41f97d1}{load\_channel\_mgr}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a63705596991c4b1b99c9bf1560daa4f0}{\_load\_channel\_mgr}};\ \}}
\DoxyCodeLine{00165\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_new_load_stream_mgr}{NewLoadStreamMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a57b18cbc060b1ef413db5893496f2ef0}{new\_load\_stream\_mgr}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a22a0df5983c8362f2c5fa5b8ff2d512d}{\_new\_load\_stream\_mgr}};\ \}}
\DoxyCodeLine{00166\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_small_file_mgr}{SmallFileMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a64c7fda7a70a69140d8d05aece466c78}{small\_file\_mgr}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a549014135a9896f9ce529976e1197bf8}{\_small\_file\_mgr}};\ \}}
\DoxyCodeLine{00167\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_block_spill_manager}{BlockSpillManager}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a7fd180be0812611b3fbf9fc4515e1ebf}{block\_spill\_mgr}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a548e4fc9932e2996300b6b6509529d61}{\_block\_spill\_mgr}};\ \}}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<StorePath>\&\ \mbox{\hyperlink{classdoris_1_1_exec_env_a5fb5aef13106098943e2c73048d9bf3d}{store\_paths}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a023a4553bf9c4b0c86a2df9c31707b98}{\_store\_paths}};\ \}}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a13c321fb82089457088794413e5c20c8}{store\_path\_to\_index}}(\textcolor{keyword}{const}\ std::string\&\ path)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_aac868c09a2abe970cbd52e04e34b2269}{\_store\_path\_map}}[path];\ \}}
\DoxyCodeLine{00171\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_storage_engine}{StorageEngine}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a6b93a5ecb3b9d58efeebcdbcd5e526f0}{storage\_engine}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_ac729a1e4de686f9b1a344af45b8bb3ed}{\_storage\_engine}};\ \}}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a70e1b4f9cd6ee45b535a125afbc67ebd}{set\_storage\_engine}}(\mbox{\hyperlink{classdoris_1_1_storage_engine}{StorageEngine}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a6b93a5ecb3b9d58efeebcdbcd5e526f0}{storage\_engine}})\ \{\ \mbox{\hyperlink{classdoris_1_1_exec_env_ac729a1e4de686f9b1a344af45b8bb3ed}{\_storage\_engine}}\ =\ \mbox{\hyperlink{classdoris_1_1_exec_env_a6b93a5ecb3b9d58efeebcdbcd5e526f0}{storage\_engine}};\ \}}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_stream_load_executor}{StreamLoadExecutor}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_ab7dc71e7b9f839a98669730486c69a1f}{stream\_load\_executor}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a279d7ed92987ed0ada4798a1d6573594}{\_stream\_load\_executor}};\ \}}
\DoxyCodeLine{00175\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_routine_load_task_executor}{RoutineLoadTaskExecutor}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_ac9a4f97288d1efea42fd37f0bd316871}{routine\_load\_task\_executor}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a0138d8c7e6b8568b83cd3d4182701265}{\_routine\_load\_task\_executor}};\ \}}
\DoxyCodeLine{00176\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_heartbeat_flags}{HeartbeatFlags}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a14da67f5eed604dda04b5e8ebe3b2bb5}{heartbeat\_flags}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_ad2dd6ff5f780ba503d776a4ad55b07a2}{\_heartbeat\_flags}};\ \}}
\DoxyCodeLine{00177\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_scanner_scheduler}{doris::vectorized::ScannerScheduler}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a25489449eb2418925d943d0343aed275}{scanner\_scheduler}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_adb36b36abdf70abf1c4f91a2a5ec8fbc}{\_scanner\_scheduler}};\ \}}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{comment}{//\ only\ for\ unit\ test}}
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_exec_env_adefbcd2a6acbfb804378860d0615d162}{set\_master\_info}}(TMasterInfo*\ \mbox{\hyperlink{classdoris_1_1_exec_env_ae830cb2cc50dcb65938f9710d02b36f7}{master\_info}})\ \{\ this-\/>\mbox{\hyperlink{classdoris_1_1_exec_env_a6ffb43abc9af8bdd433bec089e6386fe}{\_master\_info}}\ =\ \mbox{\hyperlink{classdoris_1_1_exec_env_ae830cb2cc50dcb65938f9710d02b36f7}{master\_info}};\ \}}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a3a92e2271f449e69c4f18fe08ff285c9}{set\_new\_load\_stream\_mgr}}(\mbox{\hyperlink{classdoris_1_1_new_load_stream_mgr}{NewLoadStreamMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a57b18cbc060b1ef413db5893496f2ef0}{new\_load\_stream\_mgr}})\ \{}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classdoris_1_1_exec_env_a22a0df5983c8362f2c5fa5b8ff2d512d}{\_new\_load\_stream\_mgr}}\ =\ \mbox{\hyperlink{classdoris_1_1_exec_env_a57b18cbc060b1ef413db5893496f2ef0}{new\_load\_stream\_mgr}};}
\DoxyCodeLine{00183\ \ \ \ \ \}}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_exec_env_aabb65ff7276458ceb26609d664df109a}{set\_stream\_load\_executor}}(\mbox{\hyperlink{classdoris_1_1_stream_load_executor}{StreamLoadExecutor}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_ab7dc71e7b9f839a98669730486c69a1f}{stream\_load\_executor}})\ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classdoris_1_1_exec_env_a279d7ed92987ed0ada4798a1d6573594}{\_stream\_load\_executor}}\ =\ \mbox{\hyperlink{classdoris_1_1_exec_env_ab7dc71e7b9f839a98669730486c69a1f}{stream\_load\_executor}};}
\DoxyCodeLine{00186\ \ \ \ \ \}}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00189\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a34961a7b90327a94bdd595ee35e3db18}{\_init}}(\textcolor{keyword}{const}\ std::vector<StorePath>\&\ \mbox{\hyperlink{classdoris_1_1_exec_env_a5fb5aef13106098943e2c73048d9bf3d}{store\_paths}});}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a08531d4550f00fdc7d9031ce7c649bb1}{\_destroy}}();}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a8fe544f583d66439b66ee78540a8ad5f}{\_init\_mem\_env}}();}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a5664b1af53857797853ed2978b7c786a}{\_register\_metrics}}();}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_exec_env_ac3b76f3effac9d95ed23719e6a004ac6}{\_deregister\_metrics}}();}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a9542b3368055eb7fb0bf36fc2deea1f3}{\_is\_init}};}
\DoxyCodeLine{00198\ \ \ \ \ std::vector<StorePath>\ \mbox{\hyperlink{classdoris_1_1_exec_env_a023a4553bf9c4b0c86a2df9c31707b98}{\_store\_paths}};}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{comment}{//\ path\ =>\ store\ index}}
\DoxyCodeLine{00200\ \ \ \ \ std::map<std::string,\ size\_t>\ \mbox{\hyperlink{classdoris_1_1_exec_env_aac868c09a2abe970cbd52e04e34b2269}{\_store\_path\_map}};}
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{comment}{//\ Leave\ protected\ so\ that\ subclasses\ can\ override}}
\DoxyCodeLine{00202\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_external_scan_context_mgr}{ExternalScanContextMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a94f84d07d4ad4d2c130eee4f1b6f2918}{\_external\_scan\_context\_mgr}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00203\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_data_stream_mgr}{doris::vectorized::VDataStreamMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a3ab07745de9ed64a11bbb45cd800e1fc}{\_vstream\_mgr}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00204\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_result_buffer_mgr}{ResultBufferMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a87d9c9e432d5ed8a39cc318931d3f670}{\_result\_mgr}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00205\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_result_queue_mgr}{ResultQueueMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_ac7bd8627ceeba9482b887748ae201e42}{\_result\_queue\_mgr}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00206\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_client_cache}{ClientCache<BackendServiceClient>}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a4d566a94170ac8a51cd65173163c91cf}{\_backend\_client\_cache}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00207\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_client_cache}{ClientCache<FrontendServiceClient>}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a0bea57fcf138bf8d01289ba15cde3c08}{\_frontend\_client\_cache}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00208\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_client_cache}{ClientCache<TPaloBrokerServiceClient>}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a983788247d5a450541bbd26d80e89834}{\_broker\_client\_cache}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{comment}{//\ The\ default\ tracker\ consumed\ by\ mem\ hook.\ If\ the\ thread\ does\ not\ attach\ other\ trackers,}}
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{comment}{//\ by\ default\ all\ consumption\ will\ be\ passed\ to\ the\ process\ tracker\ through\ the\ orphan\ tracker.}}
\DoxyCodeLine{00212\ \ \ \ \ \textcolor{comment}{//\ In\ real\ time,\ `consumption\ of\ all\ limiter\ trackers`\ +\ `orphan\ tracker\ consumption`\ =\ `process\ tracker\ consumption`.}}
\DoxyCodeLine{00213\ \ \ \ \ \textcolor{comment}{//\ Ideally,\ all\ threads\ are\ expected\ to\ attach\ to\ the\ specified\ tracker,\ so\ that\ "{}all\ memory\ has\ its\ own\ ownership"{},}}
\DoxyCodeLine{00214\ \ \ \ \ \textcolor{comment}{//\ and\ the\ consumption\ of\ the\ orphan\ mem\ tracker\ is\ close\ to\ 0,\ but\ greater\ than\ 0.}}
\DoxyCodeLine{00215\ \ \ \ \ std::shared\_ptr<MemTrackerLimiter>\ \mbox{\hyperlink{classdoris_1_1_exec_env_a942b5390fc9011ceb616e3554a23a421}{\_orphan\_mem\_tracker}};}
\DoxyCodeLine{00216\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_mem_tracker_limiter}{MemTrackerLimiter}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a8af27177f449d7d40151df731551acc4}{\_orphan\_mem\_tracker\_raw}};}
\DoxyCodeLine{00217\ \ \ \ \ std::shared\_ptr<MemTrackerLimiter>\ \mbox{\hyperlink{classdoris_1_1_exec_env_ae94c13f583f8803e41c7d234b201fff1}{\_experimental\_mem\_tracker}};}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{comment}{//\ page\ size\ not\ in\ cache,\ data\ page/index\ page/etc.}}
\DoxyCodeLine{00219\ \ \ \ \ std::shared\_ptr<MemTracker>\ \mbox{\hyperlink{classdoris_1_1_exec_env_acfbf8e955637f1f2117b04672c5c26f8}{\_page\_no\_cache\_mem\_tracker}};}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \ \ \ std::unique\_ptr<ThreadPool>\ \mbox{\hyperlink{classdoris_1_1_exec_env_ac3f03072b28cf9bdcc5391dbbeaa23cb}{\_send\_batch\_thread\_pool}};}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{comment}{//\ Threadpool\ used\ to\ download\ cache\ from\ remote\ storage}}
\DoxyCodeLine{00224\ \ \ \ \ std::unique\_ptr<ThreadPool>\ \mbox{\hyperlink{classdoris_1_1_exec_env_ab581eab835a341a1c7932c8496e1f874}{\_download\_cache\_thread\_pool}};}
\DoxyCodeLine{00225\ \ \ \ \ \textcolor{comment}{//\ Threadpool\ used\ to\ prefetch\ remote\ file\ for\ buffered\ reader}}
\DoxyCodeLine{00226\ \ \ \ \ std::unique\_ptr<ThreadPool>\ \mbox{\hyperlink{classdoris_1_1_exec_env_a95cb025fe172f6a91a36998acb0edb76}{\_buffered\_reader\_prefetch\_thread\_pool}};}
\DoxyCodeLine{00227\ \ \ \ \ \textcolor{comment}{//\ A\ token\ used\ to\ submit\ download\ cache\ task\ serially}}
\DoxyCodeLine{00228\ \ \ \ \ std::unique\_ptr<ThreadPoolToken>\ \mbox{\hyperlink{classdoris_1_1_exec_env_a91ec9f16777d61d366bf6aa121a96424}{\_serial\_download\_cache\_thread\_token}};}
\DoxyCodeLine{00229\ \ \ \ \ \textcolor{comment}{//\ Pool\ used\ by\ fragment\ manager\ to\ send\ profile\ or\ status\ to\ FE\ coordinator}}
\DoxyCodeLine{00230\ \ \ \ \ std::unique\_ptr<ThreadPool>\ \mbox{\hyperlink{classdoris_1_1_exec_env_a3caad7ee860e6975d8aa249819da501c}{\_send\_report\_thread\_pool}};}
\DoxyCodeLine{00231\ \ \ \ \ \textcolor{comment}{//\ Pool\ used\ by\ join\ node\ to\ build\ hash\ table}}
\DoxyCodeLine{00232\ \ \ \ \ std::unique\_ptr<ThreadPool>\ \mbox{\hyperlink{classdoris_1_1_exec_env_abf2ba62bc2504f7dd5fa60eeaa2f1e41}{\_join\_node\_thread\_pool}};}
\DoxyCodeLine{00233\ \ \ \ \ \textcolor{comment}{//\ ThreadPoolToken\ -\/>\ buffer}}
\DoxyCodeLine{00234\ \ \ \ \ std::unordered\_map<ThreadPoolToken*,\ std::unique\_ptr<char[]>>\ \mbox{\hyperlink{classdoris_1_1_exec_env_aac8b856e8659ddb0aea642ee020109e6}{\_download\_cache\_buf\_map}};}
\DoxyCodeLine{00235\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_fragment_mgr}{FragmentMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a74721e727595bfd7a8ba61951f7f4033}{\_fragment\_mgr}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00236\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_task_scheduler}{pipeline::TaskScheduler}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a6c99c384ed7a6c450a024b6b01e63e1f}{\_pipeline\_task\_scheduler}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00237\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_task_scheduler}{pipeline::TaskScheduler}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a8d358ce79779028c2ddd5589e9eac05f}{\_pipeline\_task\_group\_scheduler}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_result_cache}{ResultCache}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a8b5bec173c3ae59d3e679a54b5794f75}{\_result\_cache}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00240\ \ \ \ \ TMasterInfo*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a6ffb43abc9af8bdd433bec089e6386fe}{\_master\_info}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00241\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_load_path_mgr}{LoadPathMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_af7bab4ca72d3cd891b482412c69cec82}{\_load\_path\_mgr}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_bfd_parser}{BfdParser}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a5a74593417215e1edbfcc9ce23127a9f}{\_bfd\_parser}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00244\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_broker_mgr}{BrokerMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a5e1860d00d142684708d60c663a60d81}{\_broker\_mgr}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00245\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_load_channel_mgr}{LoadChannelMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a63705596991c4b1b99c9bf1560daa4f0}{\_load\_channel\_mgr}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00246\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_new_load_stream_mgr}{NewLoadStreamMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a22a0df5983c8362f2c5fa5b8ff2d512d}{\_new\_load\_stream\_mgr}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00247\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_brpc_client_cache}{BrpcClientCache<PBackendService\_Stub>}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_ae6385895a834832d5432aef81f784dc5}{\_internal\_client\_cache}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00248\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_brpc_client_cache}{BrpcClientCache<PFunctionService\_Stub>}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a87afde74f288c4268c86b94f30e42718}{\_function\_client\_cache}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_storage_engine}{StorageEngine}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_ac729a1e4de686f9b1a344af45b8bb3ed}{\_storage\_engine}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_stream_load_executor}{StreamLoadExecutor}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a279d7ed92987ed0ada4798a1d6573594}{\_stream\_load\_executor}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00253\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_routine_load_task_executor}{RoutineLoadTaskExecutor}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a0138d8c7e6b8568b83cd3d4182701265}{\_routine\_load\_task\_executor}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00254\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_small_file_mgr}{SmallFileMgr}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a549014135a9896f9ce529976e1197bf8}{\_small\_file\_mgr}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00255\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_heartbeat_flags}{HeartbeatFlags}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_ad2dd6ff5f780ba503d776a4ad55b07a2}{\_heartbeat\_flags}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00256\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_scanner_scheduler}{doris::vectorized::ScannerScheduler}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_adb36b36abdf70abf1c4f91a2a5ec8fbc}{\_scanner\_scheduler}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_block_spill_manager}{BlockSpillManager}}*\ \mbox{\hyperlink{classdoris_1_1_exec_env_a548e4fc9932e2996300b6b6509529d61}{\_block\_spill\_mgr}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00259\ \};}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00261\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00262\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classdoris_1_1_client_cache}{ClientCache<BackendServiceClient>}}*\ ExecEnv::get\_client\_cache<BackendServiceClient>()\ \{}
\DoxyCodeLine{00263\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a4d566a94170ac8a51cd65173163c91cf}{\_backend\_client\_cache}};}
\DoxyCodeLine{00264\ \}}
\DoxyCodeLine{00265\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00266\ \textcolor{keyword}{inline}\ ClientCache<FrontendServiceClient>*\ ExecEnv::get\_client\_cache<FrontendServiceClient>()\ \{}
\DoxyCodeLine{00267\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a0bea57fcf138bf8d01289ba15cde3c08}{\_frontend\_client\_cache}};}
\DoxyCodeLine{00268\ \}}
\DoxyCodeLine{00269\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00270\ \textcolor{keyword}{inline}\ ClientCache<TPaloBrokerServiceClient>*}
\DoxyCodeLine{00271\ ExecEnv::get\_client\_cache<TPaloBrokerServiceClient>()\ \{}
\DoxyCodeLine{00272\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_exec_env_a983788247d5a450541bbd26d80e89834}{\_broker\_client\_cache}};}
\DoxyCodeLine{00273\ \}}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00275\ \}\ \textcolor{comment}{//\ namespace\ doris}}

\end{DoxyCode}
