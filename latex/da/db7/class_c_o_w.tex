\hypertarget{class_c_o_w}{}\doxysection{COW\texorpdfstring{$<$}{<} Derived \texorpdfstring{$>$}{>} 模板类 参考}
\label{class_c_o_w}\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}}


{\ttfamily \#include $<$cow.\+h$>$}



类 COW\texorpdfstring{$<$}{<} Derived \texorpdfstring{$>$}{>} 继承关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=294pt]{d3/df7/class_c_o_w__inherit__graph}
\end{center}
\end{figure}
\doxysubsection*{类}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_c_o_w_1_1chameleon__ptr}{chameleon\+\_\+ptr}}
\begin{DoxyCompactList}\small\item\em It works as \mbox{\hyperlink{class_c_o_w_1_1immutable__ptr}{immutable\+\_\+ptr}} if it is const and as \mbox{\hyperlink{class_c_o_w_1_1mutable__ptr}{mutable\+\_\+ptr}} if it is non const. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{class_c_o_w_1_1immutable__ptr}{immutable\+\_\+ptr}}
\item 
class \mbox{\hyperlink{class_c_o_w_1_1intrusive__ptr}{intrusive\+\_\+ptr}}
\item 
class \mbox{\hyperlink{class_c_o_w_1_1mutable__ptr}{mutable\+\_\+ptr}}
\end{DoxyCompactItemize}
\doxysubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}{Mutable\+Ptr}} = \mbox{\hyperlink{class_c_o_w_1_1mutable__ptr}{mutable\+\_\+ptr}}$<$ Derived $>$
\item 
using \mbox{\hyperlink{class_c_o_w_aa0844a1c7ef409ff7301a0e805b097f4}{Ptr}} = \mbox{\hyperlink{class_c_o_w_1_1immutable__ptr}{immutable\+\_\+ptr}}$<$ Derived $>$
\item 
using \mbox{\hyperlink{class_c_o_w_ad421fc164de8618b83d51b65e26a4830}{Wrapped\+Ptr}} = \mbox{\hyperlink{class_c_o_w_1_1chameleon__ptr}{chameleon\+\_\+ptr}}$<$ Derived $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
unsigned int \mbox{\hyperlink{class_c_o_w_aace49c45a99318b57d3a1600635b8e89}{use\+\_\+count}} () const
\item 
\mbox{\hyperlink{class_c_o_w_aa0844a1c7ef409ff7301a0e805b097f4}{Ptr}} \mbox{\hyperlink{class_c_o_w_acedef9a1098c617ad7cce08beda367d5}{get\+\_\+ptr}} () const
\item 
\mbox{\hyperlink{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}{Mutable\+Ptr}} \mbox{\hyperlink{class_c_o_w_a8c0a81f654bf5a407ac29dd0edb27bb5}{get\+\_\+ptr}} ()
\item 
\mbox{\hyperlink{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}{Mutable\+Ptr}} \mbox{\hyperlink{class_c_o_w_a8b5fe4e17cc0aefcc974d3af422918d1}{mutate}} () const \&\&
\item 
\mbox{\hyperlink{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}{Mutable\+Ptr}} \mbox{\hyperlink{class_c_o_w_ade206b8984a3bec01eb7412e6076e813}{assume\+\_\+mutable}} () const
\item 
Derived \& \mbox{\hyperlink{class_c_o_w_a99c0ad5c2ddd8b7522956be31b953aba}{assume\+\_\+mutable\+\_\+ref}} () const
\end{DoxyCompactItemize}
\doxysubsection*{静态 Public 成员函数}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename... Args$>$ }\\static \mbox{\hyperlink{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}{Mutable\+Ptr}} \mbox{\hyperlink{class_c_o_w_aa14023f47995d24ce0ea777e90a4cb23}{create}} (Args \&\&... \mbox{\hyperlink{structargs}{args}})
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} $>$ }\\static \mbox{\hyperlink{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}{Mutable\+Ptr}} \mbox{\hyperlink{class_c_o_w_a8e4d809f9f16a3aae70f2ad22e8aa2d2}{create}} (std\+::initializer\+\_\+list$<$ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} $>$ \&\&\mbox{\hyperlink{threadlocal_8cc_a9ce2ec4812a92cb6ab39f6e81e9173a9}{arg}})
\end{DoxyCompactItemize}
\doxysubsection*{Protected 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_c_o_w_adcb4ac757e9f4c458d04530fc4a21368}{COW}} ()
\item 
\mbox{\hyperlink{class_c_o_w_a7ff317a28ec404a9e90ed0fd32bbf630}{COW}} (\mbox{\hyperlink{class_c_o_w}{COW}} const \&)
\item 
\mbox{\hyperlink{class_c_o_w}{COW}} \& \mbox{\hyperlink{class_c_o_w_aceff3043789d12d8f512d90511c88d11}{operator=}} (\mbox{\hyperlink{class_c_o_w}{COW}} const \&)
\item 
void \mbox{\hyperlink{class_c_o_w_a304ae13388fc1ef08b568f2c73c6485e}{add\+\_\+ref}} ()
\item 
void \mbox{\hyperlink{class_c_o_w_aac945929c99cd5b25c75e78907ee3ccc}{release\+\_\+ref}} ()
\item 
Derived $\ast$ \mbox{\hyperlink{class_c_o_w_a0a8a1ca0391807c6e9ef4a742c617dc4}{derived}} ()
\item 
const Derived $\ast$ \mbox{\hyperlink{class_c_o_w_ab699c258e0b3c5e066ca118abc470d21}{derived}} () const
\item 
\mbox{\hyperlink{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}{Mutable\+Ptr}} \mbox{\hyperlink{class_c_o_w_ad047853e449e6932f2bc7b8020e1b273}{shallow\+\_\+mutate}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
std\+::atomic\+\_\+uint \mbox{\hyperlink{class_c_o_w_a99ea8f05f0564ac618b0620716b84949}{ref\+\_\+counter}}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
\subsubsection*{template$<$typename Derived$>$\newline
class COW$<$ Derived $>$}
Copy-\/on-\/write shared ptr. Allows to work with shared immutable objects and sometimes unshare and mutate you own unique copy.

Usage\+: class Column \+: public COW$<$\+Column$>$ \{ private\+: friend class COW$<$\+Column$>$; / Leave all constructors in private section. They will be available through \textquotesingle{}create\textquotesingle{} method. Column(); / Provide \textquotesingle{}clone\textquotesingle{} method. It can be virtual if you want polymorphic behaviour. virtual Column $\ast$ clone() const; public\+: / Correctly use const qualifiers in your interface. virtual $\sim$\+Column() \{\} \}; It will provide \textquotesingle{}create\textquotesingle{} and \textquotesingle{}mutate\textquotesingle{} methods. And \textquotesingle{}Ptr\textquotesingle{} and \textquotesingle{}Mutable\+Ptr\textquotesingle{} types. Ptr is refcounted pointer to immutable object. Mutable\+Ptr is refcounted noncopyable pointer to mutable object. Mutable\+Ptr can be assigned to Ptr through move assignment.

\textquotesingle{}create\textquotesingle{} method creates Mutable\+Ptr\+: you cannot share mutable objects. To share, move-\/assign to immutable pointer. \textquotesingle{}mutate\textquotesingle{} method allows to create mutable noncopyable object from immutable object\+: either by cloning or by using directly, if it is not shared. These methods are thread-\/safe.

Example\+:

/ Creating and assigning to immutable ptr. Column\+::\+Ptr x = Column\+::create(1); / Sharing single immutable object in two ptrs. Column\+::\+Ptr y = x; / Now x and y are shared. / Change value of x. \{ / Creating mutable ptr. It can clone an object under the hood if it was shared. Column\+::\+Mutable\+Ptr mutate\+\_\+x = std\+::move($\ast$x).\mbox{\hyperlink{class_c_o_w_a8b5fe4e17cc0aefcc974d3af422918d1}{mutate()}}; / Using non-\/const methods of an object. mutate\+\_\+x-\/\texorpdfstring{$>$}{>}set(2); / Assigning pointer \textquotesingle{}x\textquotesingle{} to mutated object. x = std\+::move(mutate\+\_\+x); \} / Now x and y are unshared and have different values. Note. You may have heard that \mbox{\hyperlink{class_c_o_w}{COW}} is bad practice. Actually it is, if your values are small or if copying is done implicitly. This is the case for string implementations.

In contrast, \mbox{\hyperlink{class_c_o_w}{COW}} is intended for the cases when you need to share states of large objects, (when you usually will use std\+::shared\+\_\+ptr) but you also want precise control over modification of this shared state.

Caveats\+:
\begin{DoxyItemize}
\item after a call to \textquotesingle{}mutate\textquotesingle{} method, you can still have a reference to immutable ptr somewhere.
\item as \textquotesingle{}\mbox{\hyperlink{class_c_o_w_1_1mutable__ptr}{mutable\+\_\+ptr}}\textquotesingle{} should be unique, it\textquotesingle{}s refcount is redundant -\/ probably it would be better to use std\+::unique\+\_\+ptr for it somehow. 
\end{DoxyItemize}

\doxysubsection{成员类型定义说明}
\mbox{\Hypertarget{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}\label{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!MutablePtr@{MutablePtr}}
\index{MutablePtr@{MutablePtr}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{MutablePtr}{MutablePtr}}
{\footnotesize\ttfamily using \mbox{\hyperlink{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}{Mutable\+Ptr}} =  \mbox{\hyperlink{class_c_o_w_1_1mutable__ptr}{mutable\+\_\+ptr}}$<$Derived$>$}

\mbox{\Hypertarget{class_c_o_w_aa0844a1c7ef409ff7301a0e805b097f4}\label{class_c_o_w_aa0844a1c7ef409ff7301a0e805b097f4}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!Ptr@{Ptr}}
\index{Ptr@{Ptr}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{Ptr}{Ptr}}
{\footnotesize\ttfamily using \mbox{\hyperlink{class_c_o_w_aa0844a1c7ef409ff7301a0e805b097f4}{Ptr}} =  \mbox{\hyperlink{class_c_o_w_1_1immutable__ptr}{immutable\+\_\+ptr}}$<$Derived$>$}

\mbox{\Hypertarget{class_c_o_w_ad421fc164de8618b83d51b65e26a4830}\label{class_c_o_w_ad421fc164de8618b83d51b65e26a4830}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!WrappedPtr@{WrappedPtr}}
\index{WrappedPtr@{WrappedPtr}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{WrappedPtr}{WrappedPtr}}
{\footnotesize\ttfamily using \mbox{\hyperlink{class_c_o_w_ad421fc164de8618b83d51b65e26a4830}{Wrapped\+Ptr}} =  \mbox{\hyperlink{class_c_o_w_1_1chameleon__ptr}{chameleon\+\_\+ptr}}$<$Derived$>$}

Use this type in class members for compositions.

NOTE\+: For classes with Wrapped\+Ptr members, you must reimplement \textquotesingle{}mutate\textquotesingle{} method, so it will call \textquotesingle{}mutate\textquotesingle{} of all subobjects (do deep mutate). It will guarantee, that mutable object have all subobjects unshared.

NOTE\+: If you override \textquotesingle{}mutate\textquotesingle{} method in inherited classes, don\textquotesingle{}t forget to make it virtual in base class or to make it call a virtual method. (\mbox{\hyperlink{class_c_o_w}{COW}} itself doesn\textquotesingle{}t force any methods to be virtual).

See example in \char`\"{}cow\+\_\+compositions.\+cpp\char`\"{}. 

\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{class_c_o_w_adcb4ac757e9f4c458d04530fc4a21368}\label{class_c_o_w_adcb4ac757e9f4c458d04530fc4a21368}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!COW@{COW}}
\index{COW@{COW}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{COW()}{COW()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_c_o_w}{COW}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

\mbox{\Hypertarget{class_c_o_w_a7ff317a28ec404a9e90ed0fd32bbf630}\label{class_c_o_w_a7ff317a28ec404a9e90ed0fd32bbf630}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!COW@{COW}}
\index{COW@{COW}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{COW()}{COW()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_c_o_w}{COW}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_c_o_w}{COW}}$<$ Derived $>$ const \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



\doxysubsection{成员函数说明}
\mbox{\Hypertarget{class_c_o_w_aceff3043789d12d8f512d90511c88d11}\label{class_c_o_w_aceff3043789d12d8f512d90511c88d11}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!operator=@{operator=}}
\index{operator=@{operator=}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_c_o_w}{COW}} \& operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_c_o_w}{COW}}$<$ Derived $>$ const \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

\mbox{\Hypertarget{class_c_o_w_a304ae13388fc1ef08b568f2c73c6485e}\label{class_c_o_w_a304ae13388fc1ef08b568f2c73c6485e}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!add\_ref@{add\_ref}}
\index{add\_ref@{add\_ref}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{add\_ref()}{add\_ref()}}
{\footnotesize\ttfamily void add\+\_\+ref (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=265pt]{da/db7/class_c_o_w_a304ae13388fc1ef08b568f2c73c6485e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_c_o_w_aac945929c99cd5b25c75e78907ee3ccc}\label{class_c_o_w_aac945929c99cd5b25c75e78907ee3ccc}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!release\_ref@{release\_ref}}
\index{release\_ref@{release\_ref}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{release\_ref()}{release\_ref()}}
{\footnotesize\ttfamily void release\+\_\+ref (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

\mbox{\Hypertarget{class_c_o_w_a0a8a1ca0391807c6e9ef4a742c617dc4}\label{class_c_o_w_a0a8a1ca0391807c6e9ef4a742c617dc4}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!derived@{derived}}
\index{derived@{derived}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{derived()}{derived()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Derived $\ast$ derived (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/db7/class_c_o_w_a0a8a1ca0391807c6e9ef4a742c617dc4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_c_o_w_ab699c258e0b3c5e066ca118abc470d21}\label{class_c_o_w_ab699c258e0b3c5e066ca118abc470d21}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!derived@{derived}}
\index{derived@{derived}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{derived()}{derived()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily const Derived $\ast$ derived (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

\mbox{\Hypertarget{class_c_o_w_aace49c45a99318b57d3a1600635b8e89}\label{class_c_o_w_aace49c45a99318b57d3a1600635b8e89}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!use\_count@{use\_count}}
\index{use\_count@{use\_count}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{use\_count()}{use\_count()}}
{\footnotesize\ttfamily unsigned int use\+\_\+count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=346pt]{da/db7/class_c_o_w_aace49c45a99318b57d3a1600635b8e89_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_c_o_w_aa14023f47995d24ce0ea777e90a4cb23}\label{class_c_o_w_aa14023f47995d24ce0ea777e90a4cb23}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!create@{create}}
\index{create@{create}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{create()}{create()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily static \mbox{\hyperlink{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}{Mutable\+Ptr}} create (\begin{DoxyParamCaption}\item[{Args \&\&...}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{da/db7/class_c_o_w_aa14023f47995d24ce0ea777e90a4cb23_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_c_o_w_a8e4d809f9f16a3aae70f2ad22e8aa2d2}\label{class_c_o_w_a8e4d809f9f16a3aae70f2ad22e8aa2d2}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!create@{create}}
\index{create@{create}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{create()}{create()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily static \mbox{\hyperlink{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}{Mutable\+Ptr}} create (\begin{DoxyParamCaption}\item[{std\+::initializer\+\_\+list$<$ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} $>$ \&\&}]{arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{da/db7/class_c_o_w_a8e4d809f9f16a3aae70f2ad22e8aa2d2_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_c_o_w_acedef9a1098c617ad7cce08beda367d5}\label{class_c_o_w_acedef9a1098c617ad7cce08beda367d5}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!get\_ptr@{get\_ptr}}
\index{get\_ptr@{get\_ptr}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{get\_ptr()}{get\_ptr()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_c_o_w_aa0844a1c7ef409ff7301a0e805b097f4}{Ptr}} get\+\_\+ptr (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{da/db7/class_c_o_w_acedef9a1098c617ad7cce08beda367d5_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/db7/class_c_o_w_acedef9a1098c617ad7cce08beda367d5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_c_o_w_a8c0a81f654bf5a407ac29dd0edb27bb5}\label{class_c_o_w_a8c0a81f654bf5a407ac29dd0edb27bb5}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!get\_ptr@{get\_ptr}}
\index{get\_ptr@{get\_ptr}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{get\_ptr()}{get\_ptr()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}{Mutable\+Ptr}} get\+\_\+ptr (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{da/db7/class_c_o_w_a8c0a81f654bf5a407ac29dd0edb27bb5_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_c_o_w_ad047853e449e6932f2bc7b8020e1b273}\label{class_c_o_w_ad047853e449e6932f2bc7b8020e1b273}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!shallow\_mutate@{shallow\_mutate}}
\index{shallow\_mutate@{shallow\_mutate}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{shallow\_mutate()}{shallow\_mutate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}{Mutable\+Ptr}} shallow\+\_\+mutate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/db7/class_c_o_w_ad047853e449e6932f2bc7b8020e1b273_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=248pt]{da/db7/class_c_o_w_ad047853e449e6932f2bc7b8020e1b273_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_c_o_w_a8b5fe4e17cc0aefcc974d3af422918d1}\label{class_c_o_w_a8b5fe4e17cc0aefcc974d3af422918d1}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!mutate@{mutate}}
\index{mutate@{mutate}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{mutate()}{mutate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}{Mutable\+Ptr}} mutate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const \&\&\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/db7/class_c_o_w_a8b5fe4e17cc0aefcc974d3af422918d1_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_c_o_w_ade206b8984a3bec01eb7412e6076e813}\label{class_c_o_w_ade206b8984a3bec01eb7412e6076e813}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!assume\_mutable@{assume\_mutable}}
\index{assume\_mutable@{assume\_mutable}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{assume\_mutable()}{assume\_mutable()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_c_o_w_adfc3e84da89b27b9efa22c1e0691fa87}{Mutable\+Ptr}} assume\+\_\+mutable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=338pt]{da/db7/class_c_o_w_ade206b8984a3bec01eb7412e6076e813_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/db7/class_c_o_w_ade206b8984a3bec01eb7412e6076e813_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_c_o_w_a99c0ad5c2ddd8b7522956be31b953aba}\label{class_c_o_w_a99c0ad5c2ddd8b7522956be31b953aba}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!assume\_mutable\_ref@{assume\_mutable\_ref}}
\index{assume\_mutable\_ref@{assume\_mutable\_ref}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{assume\_mutable\_ref()}{assume\_mutable\_ref()}}
{\footnotesize\ttfamily Derived \& assume\+\_\+mutable\+\_\+ref (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=271pt]{da/db7/class_c_o_w_a99c0ad5c2ddd8b7522956be31b953aba_cgraph}
\end{center}
\end{figure}


\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{class_c_o_w_a99ea8f05f0564ac618b0620716b84949}\label{class_c_o_w_a99ea8f05f0564ac618b0620716b84949}} 
\index{COW$<$ Derived $>$@{COW$<$ Derived $>$}!ref\_counter@{ref\_counter}}
\index{ref\_counter@{ref\_counter}!COW$<$ Derived $>$@{COW$<$ Derived $>$}}
\doxysubsubsection{\texorpdfstring{ref\_counter}{ref\_counter}}
{\footnotesize\ttfamily std\+::atomic\+\_\+uint ref\+\_\+counter\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/doris/be/src/vec/common/\mbox{\hyperlink{cow_8h}{cow.\+h}}\end{DoxyCompactItemize}
