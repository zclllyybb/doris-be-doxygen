\hypertarget{iterators_8h_source}{}\doxysection{iterators.\+h}
\label{iterators_8h_source}\index{/Users/dabowang/be\_all/olap/iterators.h@{/Users/dabowang/be\_all/olap/iterators.h}}
\mbox{\hyperlink{iterators_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{status_8h}{common/status.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{block__column__predicate_8h}{olap/block\_column\_predicate.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{column__predicate_8h}{olap/column\_predicate.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{olap_2olap__common_8h}{olap/olap\_common.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tablet__schema_8h}{olap/tablet\_schema.h}}"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{runtime__state_8h}{runtime/runtime\_state.h}}"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{block_8h}{vec/core/block.h}}"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{vexpr_8h}{vec/exprs/vexpr.h}}"{}}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris}{doris}}\ \{}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{class\ }RowCursor;}
\DoxyCodeLine{00034\ \textcolor{keyword}{class\ }Schema;}
\DoxyCodeLine{00035\ \textcolor{keyword}{class\ }ColumnPredicate;}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdoris_1_1_i_o_context}{IOContext}}\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_i_o_context_abb49939c50ed6e65c23c7074f8304a16}{IOContext}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_i_o_context_a5bfac1efea264a4f54cdbbfa8cc8109a}{IOContext}}(\textcolor{keyword}{const}\ TUniqueId*\ query\_id\_,\ \mbox{\hyperlink{structdoris_1_1_file_cache_statistics}{FileCacheStatistics}}*\ stats\_,\ \textcolor{keywordtype}{bool}\ is\_presistent\_,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ use\_disposable\_cache\_,\ \textcolor{keywordtype}{bool}\ read\_segment\_index\_,\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structdoris_1_1_i_o_context_ae2d63e1b2c914bcdfd1f5d270c71f91b}{enable\_file\_cache}})}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structdoris_1_1_i_o_context_ade601e27db9a8a1e756cacc0952318bc}{query\_id}}(query\_id\_),}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_i_o_context_a42d6f63c82825d0b2164d447aa9271c6}{is\_persistent}}(is\_presistent\_),}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_i_o_context_a6cfd4bb6fcf581667b362bdd4eba79f5}{use\_disposable\_cache}}(use\_disposable\_cache\_),}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_i_o_context_ab7855a84fc37b1657dac4ac1db3e977e}{read\_segment\_index}}(read\_segment\_index\_),}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_i_o_context_a7a48ce6d2a6b539f59da0f69221155e5}{file\_cache\_stats}}(stats\_),}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_i_o_context_ae2d63e1b2c914bcdfd1f5d270c71f91b}{enable\_file\_cache}}(\mbox{\hyperlink{structdoris_1_1_i_o_context_ae2d63e1b2c914bcdfd1f5d270c71f91b}{enable\_file\_cache}})\ \{\}}
\DoxyCodeLine{00048\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a678aadae72e7347a5756e370a2978a15}{ReaderType}}\ \mbox{\hyperlink{structdoris_1_1_i_o_context_a4205671a6b4a930c32164ea5d3b245db}{reader\_type}};}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keyword}{const}\ TUniqueId*\ \mbox{\hyperlink{structdoris_1_1_i_o_context_ade601e27db9a8a1e756cacc0952318bc}{query\_id}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structdoris_1_1_i_o_context_a42d6f63c82825d0b2164d447aa9271c6}{is\_persistent}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structdoris_1_1_i_o_context_a6cfd4bb6fcf581667b362bdd4eba79f5}{use\_disposable\_cache}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structdoris_1_1_i_o_context_ab7855a84fc37b1657dac4ac1db3e977e}{read\_segment\_index}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00053\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_file_cache_statistics}{FileCacheStatistics}}*\ \mbox{\hyperlink{structdoris_1_1_i_o_context_a7a48ce6d2a6b539f59da0f69221155e5}{file\_cache\_stats}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structdoris_1_1_i_o_context_ae2d63e1b2c914bcdfd1f5d270c71f91b}{enable\_file\_cache}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00055\ \};}
\DoxyCodeLine{00056\ \textcolor{keyword}{namespace\ }vectorized\ \{}
\DoxyCodeLine{00057\ \textcolor{keyword}{struct\ }IteratorRowRef;}
\DoxyCodeLine{00058\ \};}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_storage_read_options}{StorageReadOptions}}\ \{}
\DoxyCodeLine{00061\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range}{KeyRange}}\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range_a5fadbbc02b78c07b4229e15cc64df836}{KeyRange}}()}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range_ab908440e36cbef2db717cbe3c1640354}{lower\_key}}(nullptr),}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range_a65c862619561f5f283aa82a2f9b4e596}{include\_lower}}(false),}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range_a0ea034912ad279bdc6f7ad0e1aaa3c24}{upper\_key}}(nullptr),}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range_a9299ffb24c918554fc9daaa8c303c22f}{include\_upper}}(false)\ \{\}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range_a0af9c18336baad82412da2541bcee5c1}{KeyRange}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_row_cursor}{RowCursor}}*\ lower\_key\_,\ \textcolor{keywordtype}{bool}\ include\_lower\_,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_row_cursor}{RowCursor}}*\ upper\_key\_,}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ include\_upper\_)}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range_ab908440e36cbef2db717cbe3c1640354}{lower\_key}}(lower\_key\_),}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range_a65c862619561f5f283aa82a2f9b4e596}{include\_lower}}(include\_lower\_),}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range_a0ea034912ad279bdc6f7ad0e1aaa3c24}{upper\_key}}(upper\_key\_),}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range_a9299ffb24c918554fc9daaa8c303c22f}{include\_upper}}(include\_upper\_)\ \{\}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ lower\ bound\ of\ the\ range,\ nullptr\ if\ not\ existed}}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_row_cursor}{RowCursor}}*\ \mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range_ab908440e36cbef2db717cbe3c1640354}{lower\_key}};}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ whether\ `lower\_key`\ is\ included\ in\ the\ range}}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range_a65c862619561f5f283aa82a2f9b4e596}{include\_lower}};}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ upper\ bound\ of\ the\ range,\ nullptr\ if\ not\ existed}}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_row_cursor}{RowCursor}}*\ \mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range_a0ea034912ad279bdc6f7ad0e1aaa3c24}{upper\_key}};}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ whether\ `upper\_key`\ is\ included\ in\ the\ range}}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structdoris_1_1_storage_read_options_1_1_key_range_a9299ffb24c918554fc9daaa8c303c22f}{include\_upper}};}
\DoxyCodeLine{00084\ \ \ \ \ \};}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{comment}{//\ reader's\ key\ ranges,\ empty\ if\ not\ existed.}}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{comment}{//\ used\ by\ short\ key\ index\ to\ filter\ row\ blocks}}
\DoxyCodeLine{00088\ \ \ \ \ std::vector<KeyRange>\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_afb93d9fff732bfae7e5654392b31e65b}{key\_ranges}};}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{comment}{//\ For\ unique-\/key\ merge-\/on-\/write,\ the\ effect\ is\ similar\ to\ delete\_conditions}}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{comment}{//\ that\ filters\ out\ rows\ that\ are\ deleted\ in\ realtime.}}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{comment}{//\ For\ a\ particular\ row,\ if\ delete\_bitmap.contains(rowid)\ means\ that\ row\ is}}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{comment}{//\ marked\ deleted\ and\ invisible\ to\ user\ anymore.}}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{//\ segment\_id\ -\/>\ roaring::Roaring*}}
\DoxyCodeLine{00095\ \ \ \ \ std::unordered\_map<uint32\_t,\ std::shared\_ptr<roaring::Roaring>>\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_acc6cd270e33de551e8f435930f9375b1}{delete\_bitmap}};}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ std::shared\_ptr<AndBlockColumnPredicate>\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_ac08bf5152b08e15797def04577882bfa}{delete\_condition\_predicates}}\ =}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ std::make\_shared<AndBlockColumnPredicate>();}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{comment}{//\ reader's\ column\ predicate,\ nullptr\ if\ not\ existed}}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{comment}{//\ used\ to\ fiter\ rows\ in\ row\ block}}
\DoxyCodeLine{00101\ \ \ \ \ std::vector<ColumnPredicate*>\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_aaadbea065811e78407f10d1348fd8b1e}{column\_predicates}};}
\DoxyCodeLine{00102\ \ \ \ \ std::vector<ColumnPredicate*>\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_a8f720c6fdedcce19bb78af8bfb21db98}{column\_predicates\_except\_leafnode\_of\_andnode}};}
\DoxyCodeLine{00103\ \ \ \ \ std::unordered\_map<int32\_t,\ std::shared\_ptr<AndBlockColumnPredicate>>\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_a7d72ac88a616d08968d12933271b586b}{col\_id\_to\_predicates}};}
\DoxyCodeLine{00104\ \ \ \ \ std::unordered\_map<int32\_t,\ std::vector<const\ ColumnPredicate*>>\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_a93fa9982a582b8e151a4b9bfe2433dd8}{col\_id\_to\_del\_predicates}};}
\DoxyCodeLine{00105\ \ \ \ \ TPushAggOp::type\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_af10749b0a0a64301bd67a070146bb5d5}{push\_down\_agg\_type\_opt}}\ =\ TPushAggOp::NONE;}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{comment}{//\ REQUIRED\ (null\ is\ not\ allowed)}}
\DoxyCodeLine{00108\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_olap_reader_statistics}{OlapReaderStatistics}}*\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_ac963dd6093bb0abb6ad25d40ec6ea014}{stats}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_ac6da75faea521a74cec8c389bab29b40}{use\_page\_cache}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_ad825bfa41758aa2c88540eb8868146c8}{block\_row\_max}}\ =\ 4096\ -\/\ 32;\ \textcolor{comment}{//\ see\ https://github.com/apache/doris/pull/11816}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \mbox{\hyperlink{namespacedoris_a9216ba4fd9b418b8808bfb91a407ea20}{TabletSchemaSPtr}}\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_afc972715162ec29cfef3b12bf9075407}{tablet\_schema}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_a757055bebdbaf57cb8ae35b9580c0ccf}{record\_rowids}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{comment}{//\ flag\ for\ enable\ topn\ opt}}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_aeb44b6a5d68c8b553373be46bb4c119f}{use\_topn\_opt}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{comment}{//\ used\ for\ special\ optimization\ for\ query\ :\ ORDER\ BY\ key\ DESC\ LIMIT\ n}}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_ad5f943e3d8e5a6e0f2f8572d77d8cb16}{read\_orderby\_key\_reverse}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{comment}{//\ columns\ for\ orderby\ keys}}
\DoxyCodeLine{00119\ \ \ \ \ std::vector<uint32\_t>*\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_a57775980c8306d99c3fb9c85c6cfbedd}{read\_orderby\_key\_columns}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00120\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_i_o_context}{IOContext}}\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_a44f169a13a4b87e167a9853b88a18f6c}{io\_ctx}};}
\DoxyCodeLine{00121\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_expr}{vectorized::VExpr}}*\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_a9c35852e2f9f5d0e1de5c83af394801e}{remaining\_vconjunct\_root}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{comment}{//\ runtime\ state}}
\DoxyCodeLine{00123\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_ac24d49a91bc75be25fff1791f1826595}{runtime\_state}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00124\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1_rowset_id}{RowsetId}}\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_a4453465a39aeab2456b4813be3936dca}{rowset\_id}};}
\DoxyCodeLine{00125\ \ \ \ \ int32\_t\ \mbox{\hyperlink{classdoris_1_1_storage_read_options_a1cc2dc1c9c6b5bd2b85a83cb9f298860}{tablet\_id}}\ =\ 0;}
\DoxyCodeLine{00126\ \};}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_rowwise_iterator}{RowwiseIterator}}\ \{}
\DoxyCodeLine{00129\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_a694ced2724b65956a1cd3178d3240316}{RowwiseIterator}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_a49ecc4847f4d61c2f43114f244fa0cac}{\string~RowwiseIterator}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{comment}{//\ Initialize\ this\ iterator\ and\ make\ it\ ready\ to\ read\ with}}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{comment}{//\ input\ options.}}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{comment}{//\ Input\ options\ may\ contain\ scan\ range\ in\ which\ this\ scan.}}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{comment}{//\ Return\ Status::OK()\ if\ init\ successfully,}}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{comment}{//\ Return\ other\ error\ otherwise}}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_a83c5ab3862d9217ff42f3e19eab3c4cc}{init}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_storage_read_options}{StorageReadOptions}}\&\ opts)\ =\ 0;}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{comment}{//\ If\ there\ is\ any\ valid\ data,\ this\ function\ will\ load\ data}}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{comment}{//\ into\ input\ batch\ with\ Status::OK()\ returned}}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{comment}{//\ If\ there\ is\ no\ data\ to\ read,\ will\ return\ Status::EndOfFile.}}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{comment}{//\ If\ other\ error\ happens,\ other\ error\ code\ will\ be\ returned.}}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_af27911d62df8da4311a158c8f413ee66}{next\_batch}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{vectorized::Block}}*\ block)\ \{}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Status::NotSupported(\textcolor{stringliteral}{"{}to\ be\ implemented"{}});}
\DoxyCodeLine{00146\ \ \ \ \ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_a0243351e4d0ee8ce22e8213418a31509}{next\_block\_view}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_a569e06d56f24549c06999c8088cad239}{vectorized::BlockView}}*\ block\_view)\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Status::NotSupported(\textcolor{stringliteral}{"{}to\ be\ implemented"{}});}
\DoxyCodeLine{00150\ \ \ \ \ \}}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_a48591ded0efc5163381fb6baef676a75}{next\_row}}(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_iterator_row_ref}{vectorized::IteratorRowRef}}*\ ref)\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Status::NotSupported(\textcolor{stringliteral}{"{}to\ be\ implemented"{}});}
\DoxyCodeLine{00154\ \ \ \ \ \}}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_a36c24b54d460d43c81ff223b6894ac09}{unique\_key\_next\_row}}(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_iterator_row_ref}{vectorized::IteratorRowRef}}*\ ref)\ \{}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Status::NotSupported(\textcolor{stringliteral}{"{}to\ be\ implemented"{}});}
\DoxyCodeLine{00157\ \ \ \ \ \}}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_ab4300daffa231036b465763b60db3812}{support\_return\_data\_by\_ref}}()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_a5bbc2ca223c781d090b85bf1e584bf74}{current\_block\_row\_locations}}(std::vector<RowLocation>*\ block\_row\_locations)\ \{}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Status::NotSupported(\textcolor{stringliteral}{"{}to\ be\ implemented"{}});}
\DoxyCodeLine{00163\ \ \ \ \ \}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{comment}{//\ return\ schema\ for\ this\ Iterator}}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_schema}{Schema}}\&\ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_ae736942ca55ff5d1f993417ce7e314f2}{schema}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{comment}{//\ Only\ used\ by\ UT.\ Whether\ lazy-\/materialization-\/read\ is\ used\ by\ this\ iterator\ or\ not.}}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_a8c8a4ea3e828615fd2ea637665920b87}{is\_lazy\_materialization\_read}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{comment}{//\ Return\ the\ data\ id\ such\ as\ segment\ id,\ used\ for\ keep\ the\ insert\ order\ when\ do}}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{comment}{//\ merge\ sort\ in\ priority\ queue}}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keyword}{virtual}\ uint64\_t\ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_aa40b7e55392f785e17042babc5428657}{data\_id}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_a1b562f72bb28ac03ecbcb549153ae3ad}{update\_profile}}(\mbox{\hyperlink{classdoris_1_1_runtime_profile}{RuntimeProfile}}*\ profile)\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{comment}{//\ return\ rows\ merged\ count\ by\ iterator}}
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keyword}{virtual}\ uint64\_t\ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_a0c95b8f24b0fe7c170a7adbddb49e9f7}{merged\_rows}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ 0;\ \}}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{comment}{//\ return\ if\ it's\ an\ empty\ iterator}}
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1_rowwise_iterator_a5dc9d7494d137f8725d90c21d037fe4a}{empty}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00181\ \};}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \}\ \textcolor{comment}{//\ namespace\ doris}}

\end{DoxyCode}
