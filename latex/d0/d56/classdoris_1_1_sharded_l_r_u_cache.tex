\hypertarget{classdoris_1_1_sharded_l_r_u_cache}{}\doxysection{Sharded\+LRUCache类 参考}
\label{classdoris_1_1_sharded_l_r_u_cache}\index{ShardedLRUCache@{ShardedLRUCache}}


{\ttfamily \#include $<$lru\+\_\+cache.\+h$>$}



类 Sharded\+LRUCache 继承关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=181pt]{d4/d70/classdoris_1_1_sharded_l_r_u_cache__inherit__graph}
\end{center}
\end{figure}


Sharded\+LRUCache 的协作图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d76/classdoris_1_1_sharded_l_r_u_cache__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_a8e8c070c6be58b4330d15b3b442853e9}{Sharded\+LRUCache}} (const std\+::string \&\mbox{\hyperlink{namespacedoris_a8ccf841cb59e451791bcb2e1ac4f1edc}{name}}, size\+\_\+t total\+\_\+capacity, \mbox{\hyperlink{namespacedoris_a97c7f452860b02163e386723e586c954}{LRUCache\+Type}} type, uint32\+\_\+t num\+\_\+shards)
\item 
\mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_abe4e2aa35f34671757391694019a465c}{Sharded\+LRUCache}} (const std\+::string \&\mbox{\hyperlink{namespacedoris_a8ccf841cb59e451791bcb2e1ac4f1edc}{name}}, size\+\_\+t total\+\_\+capacity, \mbox{\hyperlink{namespacedoris_a97c7f452860b02163e386723e586c954}{LRUCache\+Type}} type, uint32\+\_\+t num\+\_\+shards, \mbox{\hyperlink{namespacedoris_a727f9da52f88c99a0cefb11aaae0f126}{Cache\+Value\+Time\+Extractor}} cache\+\_\+value\+\_\+time\+\_\+extractor, bool cache\+\_\+value\+\_\+check\+\_\+timestamp)
\item 
virtual \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_af04856a246544eb7710f23678bf227ea}{$\sim$\+Sharded\+LRUCache}} ()
\item 
virtual \mbox{\hyperlink{structdoris_1_1_cache_1_1_handle}{Handle}} $\ast$ \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_a4a0d0e149c592b87845cb6b1f2353cd6}{insert}} (const \mbox{\hyperlink{classdoris_1_1_cache_key}{Cache\+Key}} \&key, void $\ast$\mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_ae0a87b1c8cdbc7f219f346f4430d036c}{value}}, size\+\_\+t charge, void($\ast$deleter)(const \mbox{\hyperlink{classdoris_1_1_cache_key}{Cache\+Key}} \&key, void $\ast$\mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_ae0a87b1c8cdbc7f219f346f4430d036c}{value}}), \mbox{\hyperlink{namespacedoris_afb029ea18bce8f55247344803ffe372b}{Cache\+Priority}} priority=\mbox{\hyperlink{namespacedoris_afb029ea18bce8f55247344803ffe372ba1e23852820b9154316c7c06e2b7ba051}{Cache\+Priority\+::\+NORMAL}}) override
\item 
virtual \mbox{\hyperlink{structdoris_1_1_cache_1_1_handle}{Handle}} $\ast$ \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_a94752127d1ce829f38600b0220d5c013}{lookup}} (const \mbox{\hyperlink{classdoris_1_1_cache_key}{Cache\+Key}} \&key) override
\item 
virtual void \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_a1a6a4d13cd8d63519987dd19991cde04}{release}} (\mbox{\hyperlink{structdoris_1_1_cache_1_1_handle}{Handle}} $\ast$handle) override
\item 
virtual void \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_ae8127331996978306563941f911bba30}{erase}} (const \mbox{\hyperlink{classdoris_1_1_cache_key}{Cache\+Key}} \&key) override
\item 
virtual void $\ast$ \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_ae0a87b1c8cdbc7f219f346f4430d036c}{value}} (\mbox{\hyperlink{structdoris_1_1_cache_1_1_handle}{Handle}} $\ast$handle) override
\item 
\mbox{\hyperlink{structdoris_1_1_slice}{Slice}} \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_acb9cad3a8ce80e51ef85b18626817fd8}{value\+\_\+slice}} (\mbox{\hyperlink{structdoris_1_1_cache_1_1_handle}{Handle}} $\ast$handle) override
\item 
virtual uint64\+\_\+t \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_ae61403bbe774818b3487c68ccf272471}{new\+\_\+id}} () override
\item 
virtual int64\+\_\+t \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_a36ca8b19b2044533d834ff1548265bc9}{prune}} () override
\item 
virtual int64\+\_\+t \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_a9cac95e07017160735b43b9dc4040abc}{prune\+\_\+if}} (\mbox{\hyperlink{namespacedoris_a95cb627707aff70ffb60b6e50a436237}{Cache\+Value\+Predicate}} pred) override
\item 
int64\+\_\+t \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_af87811179c7d7720dae855bbb0cfecec}{mem\+\_\+consumption}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Private 成员函数}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_ac9889851a976cb754095da2b2a288e7b}{update\+\_\+cache\+\_\+metrics}} () const
\item 
uint32\+\_\+t \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_a738246028ff8bf3b6e7de66b618b5301}{\+\_\+shard}} (uint32\+\_\+t hash)
\item 
\mbox{\hyperlink{classdoris_1_1_cache_a418ce063b275e4bd5ff4021054f2f29f}{DISALLOW\+\_\+\+COPY\+\_\+\+AND\+\_\+\+ASSIGN}} (\mbox{\hyperlink{classdoris_1_1_cache}{Cache}})
\end{DoxyCompactItemize}
\doxysubsection*{静态 Private 成员函数}
\begin{DoxyCompactItemize}
\item 
static uint32\+\_\+t \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_af3d762887628213f220f6dc278edfc2d}{\+\_\+hash\+\_\+slice}} (const \mbox{\hyperlink{classdoris_1_1_cache_key}{Cache\+Key}} \&s)
\end{DoxyCompactItemize}
\doxysubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
std\+::string \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_aaf2ed934b37cbbd236fdd1b01a5f5005}{\+\_\+name}}
\item 
const int \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_aa1c7312e10520981793be2d6e84ac96f}{\+\_\+num\+\_\+shard\+\_\+bits}}
\item 
const uint32\+\_\+t \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_ac5f32197c7bbecfe34cd5776e61b3d1c}{\+\_\+num\+\_\+shards}}
\item 
\mbox{\hyperlink{classdoris_1_1_l_r_u_cache}{LRUCache}} $\ast$$\ast$ \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_ac97db6cb5ca411045b825ad572e6fad0}{\+\_\+shards}}
\item 
std\+::atomic$<$ uint64\+\_\+t $>$ \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_a113e17ce1cec10eac827837af24cd008}{\+\_\+last\+\_\+id}}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classdoris_1_1_mem_tracker_limiter}{Mem\+Tracker\+Limiter}} $>$ \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_a31d4888710271b589237f5995336ebd5}{\+\_\+mem\+\_\+tracker}}
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classdoris_1_1_metric_entity}{Metric\+Entity}} $>$ \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_af45816ac82b41b7a8f35fc06da19e2cc}{\+\_\+entity}} = nullptr
\item 
\mbox{\hyperlink{namespacedoris_ac3a813981bc7835475f75cc9408b9d77}{Int\+Gauge}} $\ast$ \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_a858e81330d485a888390797f8ce879f7}{cache\+\_\+capacity}} = nullptr
\item 
\mbox{\hyperlink{namespacedoris_ac3a813981bc7835475f75cc9408b9d77}{Int\+Gauge}} $\ast$ \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_ac06005a84adda21d51a6b5a551644cac}{cache\+\_\+usage}} = nullptr
\item 
\mbox{\hyperlink{namespacedoris_a416450729c0a3dca38d46d20ecd66d30}{Double\+Gauge}} $\ast$ \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_a579d365a9cd21bc9d64c38a8da9c0d53}{cache\+\_\+usage\+\_\+ratio}} = nullptr
\item 
\mbox{\hyperlink{namespacedoris_a6053f4dbe0417b0be9d1c6bc76cde746}{Int\+Atomic\+Counter}} $\ast$ \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_a8167778bbabc27b03f26cfe3cad9a5d5}{cache\+\_\+lookup\+\_\+count}} = nullptr
\item 
\mbox{\hyperlink{namespacedoris_a6053f4dbe0417b0be9d1c6bc76cde746}{Int\+Atomic\+Counter}} $\ast$ \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_a88ef09e52a0f34a4f491edda807cc1d4}{cache\+\_\+hit\+\_\+count}} = nullptr
\item 
\mbox{\hyperlink{namespacedoris_a416450729c0a3dca38d46d20ecd66d30}{Double\+Gauge}} $\ast$ \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_a8f802c8c4875e08388792645118db5e0}{cache\+\_\+hit\+\_\+ratio}} = nullptr
\end{DoxyCompactItemize}


\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_a8e8c070c6be58b4330d15b3b442853e9}\label{classdoris_1_1_sharded_l_r_u_cache_a8e8c070c6be58b4330d15b3b442853e9}} 
\index{ShardedLRUCache@{ShardedLRUCache}!ShardedLRUCache@{ShardedLRUCache}}
\index{ShardedLRUCache@{ShardedLRUCache}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{ShardedLRUCache()}{ShardedLRUCache()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache}{Sharded\+LRUCache}} (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{size\+\_\+t}]{total\+\_\+capacity,  }\item[{\mbox{\hyperlink{namespacedoris_a97c7f452860b02163e386723e586c954}{LRUCache\+Type}}}]{type,  }\item[{uint32\+\_\+t}]{num\+\_\+shards }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d56/classdoris_1_1_sharded_l_r_u_cache_a8e8c070c6be58b4330d15b3b442853e9_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_abe4e2aa35f34671757391694019a465c}\label{classdoris_1_1_sharded_l_r_u_cache_abe4e2aa35f34671757391694019a465c}} 
\index{ShardedLRUCache@{ShardedLRUCache}!ShardedLRUCache@{ShardedLRUCache}}
\index{ShardedLRUCache@{ShardedLRUCache}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{ShardedLRUCache()}{ShardedLRUCache()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache}{Sharded\+LRUCache}} (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{size\+\_\+t}]{total\+\_\+capacity,  }\item[{\mbox{\hyperlink{namespacedoris_a97c7f452860b02163e386723e586c954}{LRUCache\+Type}}}]{type,  }\item[{uint32\+\_\+t}]{num\+\_\+shards,  }\item[{\mbox{\hyperlink{namespacedoris_a727f9da52f88c99a0cefb11aaae0f126}{Cache\+Value\+Time\+Extractor}}}]{cache\+\_\+value\+\_\+time\+\_\+extractor,  }\item[{bool}]{cache\+\_\+value\+\_\+check\+\_\+timestamp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d56/classdoris_1_1_sharded_l_r_u_cache_abe4e2aa35f34671757391694019a465c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_af04856a246544eb7710f23678bf227ea}\label{classdoris_1_1_sharded_l_r_u_cache_af04856a246544eb7710f23678bf227ea}} 
\index{ShardedLRUCache@{ShardedLRUCache}!````~ShardedLRUCache@{$\sim$ShardedLRUCache}}
\index{````~ShardedLRUCache@{$\sim$ShardedLRUCache}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{$\sim$ShardedLRUCache()}{~ShardedLRUCache()}}
{\footnotesize\ttfamily $\sim$\mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache}{Sharded\+LRUCache}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{d0/d56/classdoris_1_1_sharded_l_r_u_cache_af04856a246544eb7710f23678bf227ea_cgraph}
\end{center}
\end{figure}


\doxysubsection{成员函数说明}
\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_a4a0d0e149c592b87845cb6b1f2353cd6}\label{classdoris_1_1_sharded_l_r_u_cache_a4a0d0e149c592b87845cb6b1f2353cd6}} 
\index{ShardedLRUCache@{ShardedLRUCache}!insert@{insert}}
\index{insert@{insert}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{insert()}{insert()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structdoris_1_1_cache_1_1_handle}{Cache\+::\+Handle}} $\ast$ insert (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classdoris_1_1_cache_key}{Cache\+Key}} \&}]{key,  }\item[{void $\ast$}]{value,  }\item[{size\+\_\+t}]{charge,  }\item[{void($\ast$)(const \mbox{\hyperlink{classdoris_1_1_cache_key}{Cache\+Key}} \&key, void $\ast$\mbox{\hyperlink{classdoris_1_1_sharded_l_r_u_cache_ae0a87b1c8cdbc7f219f346f4430d036c}{value}})}]{deleter,  }\item[{\mbox{\hyperlink{namespacedoris_afb029ea18bce8f55247344803ffe372b}{Cache\+Priority}}}]{priority = {\ttfamily \mbox{\hyperlink{namespacedoris_afb029ea18bce8f55247344803ffe372ba1e23852820b9154316c7c06e2b7ba051}{Cache\+Priority\+::\+NORMAL}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_cache_aed6e7c03d7d603f21a363033c32bd48a}{Cache}}.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d56/classdoris_1_1_sharded_l_r_u_cache_a4a0d0e149c592b87845cb6b1f2353cd6_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_a94752127d1ce829f38600b0220d5c013}\label{classdoris_1_1_sharded_l_r_u_cache_a94752127d1ce829f38600b0220d5c013}} 
\index{ShardedLRUCache@{ShardedLRUCache}!lookup@{lookup}}
\index{lookup@{lookup}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{lookup()}{lookup()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structdoris_1_1_cache_1_1_handle}{Cache\+::\+Handle}} $\ast$ lookup (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classdoris_1_1_cache_key}{Cache\+Key}} \&}]{key }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_cache_a50df2ff2b2b5e0be5477fc67df51a825}{Cache}}.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d56/classdoris_1_1_sharded_l_r_u_cache_a94752127d1ce829f38600b0220d5c013_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_a1a6a4d13cd8d63519987dd19991cde04}\label{classdoris_1_1_sharded_l_r_u_cache_a1a6a4d13cd8d63519987dd19991cde04}} 
\index{ShardedLRUCache@{ShardedLRUCache}!release@{release}}
\index{release@{release}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{release()}{release()}}
{\footnotesize\ttfamily void release (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structdoris_1_1_cache_1_1_handle}{Handle}} $\ast$}]{handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_cache_a99ff5ff87dc624c6460076b6e6879011}{Cache}}.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d56/classdoris_1_1_sharded_l_r_u_cache_a1a6a4d13cd8d63519987dd19991cde04_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_ae8127331996978306563941f911bba30}\label{classdoris_1_1_sharded_l_r_u_cache_ae8127331996978306563941f911bba30}} 
\index{ShardedLRUCache@{ShardedLRUCache}!erase@{erase}}
\index{erase@{erase}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{erase()}{erase()}}
{\footnotesize\ttfamily void erase (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classdoris_1_1_cache_key}{Cache\+Key}} \&}]{key }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_cache_aaa6381a74fbfe5daf3414e4f5940204c}{Cache}}.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d56/classdoris_1_1_sharded_l_r_u_cache_ae8127331996978306563941f911bba30_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_ae0a87b1c8cdbc7f219f346f4430d036c}\label{classdoris_1_1_sharded_l_r_u_cache_ae0a87b1c8cdbc7f219f346f4430d036c}} 
\index{ShardedLRUCache@{ShardedLRUCache}!value@{value}}
\index{value@{value}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{value()}{value()}}
{\footnotesize\ttfamily void $\ast$ value (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structdoris_1_1_cache_1_1_handle}{Handle}} $\ast$}]{handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_cache_a138742ce948f24dedce1aea076df01e9}{Cache}}.

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_acb9cad3a8ce80e51ef85b18626817fd8}\label{classdoris_1_1_sharded_l_r_u_cache_acb9cad3a8ce80e51ef85b18626817fd8}} 
\index{ShardedLRUCache@{ShardedLRUCache}!value\_slice@{value\_slice}}
\index{value\_slice@{value\_slice}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{value\_slice()}{value\_slice()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structdoris_1_1_slice}{Slice}} value\+\_\+slice (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structdoris_1_1_cache_1_1_handle}{Handle}} $\ast$}]{handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_cache_a1cedcec2a6e02e4762cca7a71d23c080}{Cache}}.

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_ae61403bbe774818b3487c68ccf272471}\label{classdoris_1_1_sharded_l_r_u_cache_ae61403bbe774818b3487c68ccf272471}} 
\index{ShardedLRUCache@{ShardedLRUCache}!new\_id@{new\_id}}
\index{new\_id@{new\_id}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{new\_id()}{new\_id()}}
{\footnotesize\ttfamily uint64\+\_\+t new\+\_\+id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_cache_a5a60ccc065aaa79ab87ad65196cc854c}{Cache}}.

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_a36ca8b19b2044533d834ff1548265bc9}\label{classdoris_1_1_sharded_l_r_u_cache_a36ca8b19b2044533d834ff1548265bc9}} 
\index{ShardedLRUCache@{ShardedLRUCache}!prune@{prune}}
\index{prune@{prune}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{prune()}{prune()}}
{\footnotesize\ttfamily int64\+\_\+t prune (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



重载 \mbox{\hyperlink{classdoris_1_1_cache_aa9c75c59d5c687eda6a7c2a9358aebf1}{Cache}} .

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d56/classdoris_1_1_sharded_l_r_u_cache_a36ca8b19b2044533d834ff1548265bc9_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_a9cac95e07017160735b43b9dc4040abc}\label{classdoris_1_1_sharded_l_r_u_cache_a9cac95e07017160735b43b9dc4040abc}} 
\index{ShardedLRUCache@{ShardedLRUCache}!prune\_if@{prune\_if}}
\index{prune\_if@{prune\_if}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{prune\_if()}{prune\_if()}}
{\footnotesize\ttfamily int64\+\_\+t prune\+\_\+if (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacedoris_a95cb627707aff70ffb60b6e50a436237}{Cache\+Value\+Predicate}}}]{pred }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



重载 \mbox{\hyperlink{classdoris_1_1_cache_afd391f887d4fb858a90249c3499aa868}{Cache}} .

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d56/classdoris_1_1_sharded_l_r_u_cache_a9cac95e07017160735b43b9dc4040abc_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_af87811179c7d7720dae855bbb0cfecec}\label{classdoris_1_1_sharded_l_r_u_cache_af87811179c7d7720dae855bbb0cfecec}} 
\index{ShardedLRUCache@{ShardedLRUCache}!mem\_consumption@{mem\_consumption}}
\index{mem\_consumption@{mem\_consumption}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{mem\_consumption()}{mem\_consumption()}}
{\footnotesize\ttfamily int64\+\_\+t mem\+\_\+consumption (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



实现了 \mbox{\hyperlink{classdoris_1_1_cache_a71cd3003c3860c26c42ffc18f7a41bdb}{Cache}}.

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_ac9889851a976cb754095da2b2a288e7b}\label{classdoris_1_1_sharded_l_r_u_cache_ac9889851a976cb754095da2b2a288e7b}} 
\index{ShardedLRUCache@{ShardedLRUCache}!update\_cache\_metrics@{update\_cache\_metrics}}
\index{update\_cache\_metrics@{update\_cache\_metrics}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{update\_cache\_metrics()}{update\_cache\_metrics()}}
{\footnotesize\ttfamily void update\+\_\+cache\+\_\+metrics (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d56/classdoris_1_1_sharded_l_r_u_cache_ac9889851a976cb754095da2b2a288e7b_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=332pt]{d0/d56/classdoris_1_1_sharded_l_r_u_cache_ac9889851a976cb754095da2b2a288e7b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_af3d762887628213f220f6dc278edfc2d}\label{classdoris_1_1_sharded_l_r_u_cache_af3d762887628213f220f6dc278edfc2d}} 
\index{ShardedLRUCache@{ShardedLRUCache}!\_hash\_slice@{\_hash\_slice}}
\index{\_hash\_slice@{\_hash\_slice}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{\_hash\_slice()}{\_hash\_slice()}}
{\footnotesize\ttfamily uint32\+\_\+t \+\_\+hash\+\_\+slice (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classdoris_1_1_cache_key}{Cache\+Key}} \&}]{s }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d56/classdoris_1_1_sharded_l_r_u_cache_af3d762887628213f220f6dc278edfc2d_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=229pt]{d0/d56/classdoris_1_1_sharded_l_r_u_cache_af3d762887628213f220f6dc278edfc2d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_a738246028ff8bf3b6e7de66b618b5301}\label{classdoris_1_1_sharded_l_r_u_cache_a738246028ff8bf3b6e7de66b618b5301}} 
\index{ShardedLRUCache@{ShardedLRUCache}!\_shard@{\_shard}}
\index{\_shard@{\_shard}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{\_shard()}{\_shard()}}
{\footnotesize\ttfamily uint32\+\_\+t \+\_\+shard (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{hash }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=210pt]{d0/d56/classdoris_1_1_sharded_l_r_u_cache_a738246028ff8bf3b6e7de66b618b5301_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_cache_a418ce063b275e4bd5ff4021054f2f29f}\label{classdoris_1_1_cache_a418ce063b275e4bd5ff4021054f2f29f}} 
\index{ShardedLRUCache@{ShardedLRUCache}!DISALLOW\_COPY\_AND\_ASSIGN@{DISALLOW\_COPY\_AND\_ASSIGN}}
\index{DISALLOW\_COPY\_AND\_ASSIGN@{DISALLOW\_COPY\_AND\_ASSIGN}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{DISALLOW\_COPY\_AND\_ASSIGN()}{DISALLOW\_COPY\_AND\_ASSIGN()}}
{\footnotesize\ttfamily DISALLOW\+\_\+\+COPY\+\_\+\+AND\+\_\+\+ASSIGN (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_cache}{Cache}}}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [inherited]}}



\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_aaf2ed934b37cbbd236fdd1b01a5f5005}\label{classdoris_1_1_sharded_l_r_u_cache_aaf2ed934b37cbbd236fdd1b01a5f5005}} 
\index{ShardedLRUCache@{ShardedLRUCache}!\_name@{\_name}}
\index{\_name@{\_name}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{\_name}{\_name}}
{\footnotesize\ttfamily std\+::string \+\_\+name\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_aa1c7312e10520981793be2d6e84ac96f}\label{classdoris_1_1_sharded_l_r_u_cache_aa1c7312e10520981793be2d6e84ac96f}} 
\index{ShardedLRUCache@{ShardedLRUCache}!\_num\_shard\_bits@{\_num\_shard\_bits}}
\index{\_num\_shard\_bits@{\_num\_shard\_bits}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{\_num\_shard\_bits}{\_num\_shard\_bits}}
{\footnotesize\ttfamily const int \+\_\+num\+\_\+shard\+\_\+bits\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_ac5f32197c7bbecfe34cd5776e61b3d1c}\label{classdoris_1_1_sharded_l_r_u_cache_ac5f32197c7bbecfe34cd5776e61b3d1c}} 
\index{ShardedLRUCache@{ShardedLRUCache}!\_num\_shards@{\_num\_shards}}
\index{\_num\_shards@{\_num\_shards}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{\_num\_shards}{\_num\_shards}}
{\footnotesize\ttfamily const uint32\+\_\+t \+\_\+num\+\_\+shards\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_ac97db6cb5ca411045b825ad572e6fad0}\label{classdoris_1_1_sharded_l_r_u_cache_ac97db6cb5ca411045b825ad572e6fad0}} 
\index{ShardedLRUCache@{ShardedLRUCache}!\_shards@{\_shards}}
\index{\_shards@{\_shards}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{\_shards}{\_shards}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_l_r_u_cache}{LRUCache}}$\ast$$\ast$ \+\_\+shards\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_a113e17ce1cec10eac827837af24cd008}\label{classdoris_1_1_sharded_l_r_u_cache_a113e17ce1cec10eac827837af24cd008}} 
\index{ShardedLRUCache@{ShardedLRUCache}!\_last\_id@{\_last\_id}}
\index{\_last\_id@{\_last\_id}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{\_last\_id}{\_last\_id}}
{\footnotesize\ttfamily std\+::atomic$<$uint64\+\_\+t$>$ \+\_\+last\+\_\+id\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_a31d4888710271b589237f5995336ebd5}\label{classdoris_1_1_sharded_l_r_u_cache_a31d4888710271b589237f5995336ebd5}} 
\index{ShardedLRUCache@{ShardedLRUCache}!\_mem\_tracker@{\_mem\_tracker}}
\index{\_mem\_tracker@{\_mem\_tracker}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{\_mem\_tracker}{\_mem\_tracker}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classdoris_1_1_mem_tracker_limiter}{Mem\+Tracker\+Limiter}}$>$ \+\_\+mem\+\_\+tracker\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_af45816ac82b41b7a8f35fc06da19e2cc}\label{classdoris_1_1_sharded_l_r_u_cache_af45816ac82b41b7a8f35fc06da19e2cc}} 
\index{ShardedLRUCache@{ShardedLRUCache}!\_entity@{\_entity}}
\index{\_entity@{\_entity}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{\_entity}{\_entity}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classdoris_1_1_metric_entity}{Metric\+Entity}}$>$ \+\_\+entity = nullptr\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_a858e81330d485a888390797f8ce879f7}\label{classdoris_1_1_sharded_l_r_u_cache_a858e81330d485a888390797f8ce879f7}} 
\index{ShardedLRUCache@{ShardedLRUCache}!cache\_capacity@{cache\_capacity}}
\index{cache\_capacity@{cache\_capacity}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{cache\_capacity}{cache\_capacity}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedoris_ac3a813981bc7835475f75cc9408b9d77}{Int\+Gauge}}$\ast$ cache\+\_\+capacity = nullptr\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_ac06005a84adda21d51a6b5a551644cac}\label{classdoris_1_1_sharded_l_r_u_cache_ac06005a84adda21d51a6b5a551644cac}} 
\index{ShardedLRUCache@{ShardedLRUCache}!cache\_usage@{cache\_usage}}
\index{cache\_usage@{cache\_usage}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{cache\_usage}{cache\_usage}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedoris_ac3a813981bc7835475f75cc9408b9d77}{Int\+Gauge}}$\ast$ cache\+\_\+usage = nullptr\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_a579d365a9cd21bc9d64c38a8da9c0d53}\label{classdoris_1_1_sharded_l_r_u_cache_a579d365a9cd21bc9d64c38a8da9c0d53}} 
\index{ShardedLRUCache@{ShardedLRUCache}!cache\_usage\_ratio@{cache\_usage\_ratio}}
\index{cache\_usage\_ratio@{cache\_usage\_ratio}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{cache\_usage\_ratio}{cache\_usage\_ratio}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedoris_a416450729c0a3dca38d46d20ecd66d30}{Double\+Gauge}}$\ast$ cache\+\_\+usage\+\_\+ratio = nullptr\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_a8167778bbabc27b03f26cfe3cad9a5d5}\label{classdoris_1_1_sharded_l_r_u_cache_a8167778bbabc27b03f26cfe3cad9a5d5}} 
\index{ShardedLRUCache@{ShardedLRUCache}!cache\_lookup\_count@{cache\_lookup\_count}}
\index{cache\_lookup\_count@{cache\_lookup\_count}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{cache\_lookup\_count}{cache\_lookup\_count}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedoris_a6053f4dbe0417b0be9d1c6bc76cde746}{Int\+Atomic\+Counter}}$\ast$ cache\+\_\+lookup\+\_\+count = nullptr\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_a88ef09e52a0f34a4f491edda807cc1d4}\label{classdoris_1_1_sharded_l_r_u_cache_a88ef09e52a0f34a4f491edda807cc1d4}} 
\index{ShardedLRUCache@{ShardedLRUCache}!cache\_hit\_count@{cache\_hit\_count}}
\index{cache\_hit\_count@{cache\_hit\_count}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{cache\_hit\_count}{cache\_hit\_count}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedoris_a6053f4dbe0417b0be9d1c6bc76cde746}{Int\+Atomic\+Counter}}$\ast$ cache\+\_\+hit\+\_\+count = nullptr\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_sharded_l_r_u_cache_a8f802c8c4875e08388792645118db5e0}\label{classdoris_1_1_sharded_l_r_u_cache_a8f802c8c4875e08388792645118db5e0}} 
\index{ShardedLRUCache@{ShardedLRUCache}!cache\_hit\_ratio@{cache\_hit\_ratio}}
\index{cache\_hit\_ratio@{cache\_hit\_ratio}!ShardedLRUCache@{ShardedLRUCache}}
\doxysubsubsection{\texorpdfstring{cache\_hit\_ratio}{cache\_hit\_ratio}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacedoris_a416450729c0a3dca38d46d20ecd66d30}{Double\+Gauge}}$\ast$ cache\+\_\+hit\+\_\+ratio = nullptr\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/be\+\_\+all/olap/\mbox{\hyperlink{lru__cache_8h}{lru\+\_\+cache.\+h}}\item 
/\+Users/dabowang/be\+\_\+all/olap/\mbox{\hyperlink{lru__cache_8cpp}{lru\+\_\+cache.\+cpp}}\end{DoxyCompactItemize}
