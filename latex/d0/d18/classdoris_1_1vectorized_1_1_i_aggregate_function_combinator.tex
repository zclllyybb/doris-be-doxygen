\hypertarget{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator}{}\doxysection{IAggregate\+Function\+Combinator类 参考}
\label{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator}\index{IAggregateFunctionCombinator@{IAggregateFunctionCombinator}}


{\ttfamily \#include $<$aggregate\+\_\+function\+\_\+combinator.\+h$>$}



类 IAggregate\+Function\+Combinator 继承关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{db/de3/classdoris_1_1vectorized_1_1_i_aggregate_function_combinator__inherit__graph}
\end{center}
\end{figure}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{namespacedoris_1_1vectorized_a5573b97b9e5129f61d289e037d7e806c}{String}} \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_ae55496cfafdf6017b737081fe0d7316b}{get\+\_\+name}} () const =0
\item 
virtual bool \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_ad6de84df22cca506bb988bea695dbbc1}{is\+\_\+for\+\_\+internal\+\_\+usage\+\_\+only}} () const
\item 
virtual \mbox{\hyperlink{namespacedoris_1_1vectorized_a8af1a73e445f52cef52b8d3c12fed85e}{Data\+Types}} \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_a84fa066b8338d9942f9f8a7644c85c44}{transform\+\_\+arguments}} (const \mbox{\hyperlink{namespacedoris_1_1vectorized_a8af1a73e445f52cef52b8d3c12fed85e}{Data\+Types}} \&arguments) const
\item 
virtual \mbox{\hyperlink{namespacedoris_1_1vectorized_a3f3eb346db14f97f4f56c38a29918ad6}{Aggregate\+Function\+Ptr}} \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_a20b4786adacd8e442ae03b6c910da4c1}{transform\+\_\+aggregate\+\_\+function}} (const \mbox{\hyperlink{namespacedoris_1_1vectorized_a3f3eb346db14f97f4f56c38a29918ad6}{Aggregate\+Function\+Ptr}} \&nested\+\_\+function, const \mbox{\hyperlink{namespacedoris_1_1vectorized_a8af1a73e445f52cef52b8d3c12fed85e}{Data\+Types}} \&arguments, const bool result\+\_\+is\+\_\+nullable) const =0
\item 
virtual \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_a71524355093d51097c55a34023f709d2}{$\sim$\+IAggregate\+Function\+Combinator}} ()=default
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
Aggregate function combinator allows to take one aggregate function and transform it to another aggregate function.

In SQL language they are used as suffixes for existing aggregate functions.

Example\+: -\/If combinator takes an aggregate function and transforms it to aggregate function with additional argument at end (condition), that will pass values to original aggregate function when the condition is true.

More examples\+:

sum(x) -\/ calculate sum of x sum\+If(x, cond) -\/ calculate sum of x for rows where condition is true. sum\+Array(arr) -\/ calculate sum of all elements of arrays.

PS. Please don\textquotesingle{}t mess it with so called \char`\"{}combiner\char`\"{} -\/ totally unrelated notion from Hadoop world. \char`\"{}combining\char`\"{} -\/ merging the states of aggregate functions -\/ is supported naturally in Click\+House. 

\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_a71524355093d51097c55a34023f709d2}\label{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_a71524355093d51097c55a34023f709d2}} 
\index{IAggregateFunctionCombinator@{IAggregateFunctionCombinator}!````~IAggregateFunctionCombinator@{$\sim$IAggregateFunctionCombinator}}
\index{````~IAggregateFunctionCombinator@{$\sim$IAggregateFunctionCombinator}!IAggregateFunctionCombinator@{IAggregateFunctionCombinator}}
\doxysubsubsection{\texorpdfstring{$\sim$IAggregateFunctionCombinator()}{~IAggregateFunctionCombinator()}}
{\footnotesize\ttfamily virtual $\sim$\mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator}{IAggregate\+Function\+Combinator}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}



\doxysubsection{成员函数说明}
\mbox{\Hypertarget{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_ae55496cfafdf6017b737081fe0d7316b}\label{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_ae55496cfafdf6017b737081fe0d7316b}} 
\index{IAggregateFunctionCombinator@{IAggregateFunctionCombinator}!get\_name@{get\_name}}
\index{get\_name@{get\_name}!IAggregateFunctionCombinator@{IAggregateFunctionCombinator}}
\doxysubsubsection{\texorpdfstring{get\_name()}{get\_name()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{namespacedoris_1_1vectorized_a5573b97b9e5129f61d289e037d7e806c}{String}} get\+\_\+name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



在 \mbox{\hyperlink{classdoris_1_1vectorized_1_1_aggregate_function_combinator_distinct_ab9010f82586f714358e9fa84c4af7c53}{Aggregate\+Function\+Combinator\+Distinct}} 内被实现.

\mbox{\Hypertarget{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_ad6de84df22cca506bb988bea695dbbc1}\label{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_ad6de84df22cca506bb988bea695dbbc1}} 
\index{IAggregateFunctionCombinator@{IAggregateFunctionCombinator}!is\_for\_internal\_usage\_only@{is\_for\_internal\_usage\_only}}
\index{is\_for\_internal\_usage\_only@{is\_for\_internal\_usage\_only}!IAggregateFunctionCombinator@{IAggregateFunctionCombinator}}
\doxysubsubsection{\texorpdfstring{is\_for\_internal\_usage\_only()}{is\_for\_internal\_usage\_only()}}
{\footnotesize\ttfamily virtual bool is\+\_\+for\+\_\+internal\+\_\+usage\+\_\+only (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

\mbox{\Hypertarget{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_a84fa066b8338d9942f9f8a7644c85c44}\label{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_a84fa066b8338d9942f9f8a7644c85c44}} 
\index{IAggregateFunctionCombinator@{IAggregateFunctionCombinator}!transform\_arguments@{transform\_arguments}}
\index{transform\_arguments@{transform\_arguments}!IAggregateFunctionCombinator@{IAggregateFunctionCombinator}}
\doxysubsubsection{\texorpdfstring{transform\_arguments()}{transform\_arguments()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{namespacedoris_1_1vectorized_a8af1a73e445f52cef52b8d3c12fed85e}{Data\+Types}} transform\+\_\+arguments (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacedoris_1_1vectorized_a8af1a73e445f52cef52b8d3c12fed85e}{Data\+Types}} \&}]{arguments }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

From the arguments for combined function (ex\+: UInt64, UInt8 for sum\+If), get the arguments for nested function (ex\+: UInt64 for sum). If arguments are not suitable for combined function, throw an exception. 

被 \mbox{\hyperlink{classdoris_1_1vectorized_1_1_aggregate_function_combinator_distinct_a150c3d1092c23abdf707ff42b1cd4e19}{Aggregate\+Function\+Combinator\+Distinct}} 重载.

\mbox{\Hypertarget{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_a20b4786adacd8e442ae03b6c910da4c1}\label{classdoris_1_1vectorized_1_1_i_aggregate_function_combinator_a20b4786adacd8e442ae03b6c910da4c1}} 
\index{IAggregateFunctionCombinator@{IAggregateFunctionCombinator}!transform\_aggregate\_function@{transform\_aggregate\_function}}
\index{transform\_aggregate\_function@{transform\_aggregate\_function}!IAggregateFunctionCombinator@{IAggregateFunctionCombinator}}
\doxysubsubsection{\texorpdfstring{transform\_aggregate\_function()}{transform\_aggregate\_function()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{namespacedoris_1_1vectorized_a3f3eb346db14f97f4f56c38a29918ad6}{Aggregate\+Function\+Ptr}} transform\+\_\+aggregate\+\_\+function (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacedoris_1_1vectorized_a3f3eb346db14f97f4f56c38a29918ad6}{Aggregate\+Function\+Ptr}} \&}]{nested\+\_\+function,  }\item[{const \mbox{\hyperlink{namespacedoris_1_1vectorized_a8af1a73e445f52cef52b8d3c12fed85e}{Data\+Types}} \&}]{arguments,  }\item[{const bool}]{result\+\_\+is\+\_\+nullable }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}

Create combined aggregate function (ex\+: sum\+If) from nested function (ex\+: sum) and arguments for combined aggregate function (ex\+: UInt64, UInt8 for sum\+If). It\textquotesingle{}s assumed that function transform\+\_\+arguments was called before this function and \textquotesingle{}arguments\textquotesingle{} are validated. 

在 \mbox{\hyperlink{classdoris_1_1vectorized_1_1_aggregate_function_combinator_distinct_ac697d4ad874a551ca0f466888f0aa0bf}{Aggregate\+Function\+Combinator\+Distinct}} 内被实现.



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/doris/be/src/vec/aggregate\+\_\+functions/\mbox{\hyperlink{aggregate__function__combinator_8h}{aggregate\+\_\+function\+\_\+combinator.\+h}}\end{DoxyCompactItemize}
