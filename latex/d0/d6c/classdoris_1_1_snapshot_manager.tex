\hypertarget{classdoris_1_1_snapshot_manager}{}\doxysection{Snapshot\+Manager类 参考}
\label{classdoris_1_1_snapshot_manager}\index{SnapshotManager@{SnapshotManager}}


{\ttfamily \#include $<$snapshot\+\_\+manager.\+h$>$}



Snapshot\+Manager 的协作图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=249pt]{da/d53/classdoris_1_1_snapshot_manager__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdoris_1_1_snapshot_manager_a85329581230b98939a74f05967afc980}{$\sim$\+Snapshot\+Manager}} ()
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_snapshot_manager_afe22179c0e3c197a947f752769f06a59}{make\+\_\+snapshot}} (const TSnapshot\+Request \&request, std\+::string $\ast$snapshot\+\_\+path, bool $\ast$allow\+\_\+incremental\+\_\+clone)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_snapshot_manager_a3789ccdab232b2842d6a8e6b5ad890ac}{release\+\_\+snapshot}} (const std\+::string \&snapshot\+\_\+path)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_snapshot_manager_a7bd302e7908ed82b98499967e3993cb2}{convert\+\_\+rowset\+\_\+ids}} (const std\+::string \&clone\+\_\+dir, int64\+\_\+t tablet\+\_\+id, int64\+\_\+t replica\+\_\+id, const int32\+\_\+t \&schema\+\_\+hash)
\end{DoxyCompactItemize}
\doxysubsection*{静态 Public 成员函数}
\begin{DoxyCompactItemize}
\item 
static std\+::string \mbox{\hyperlink{classdoris_1_1_snapshot_manager_a380b0877ea6c1f6fd8fa4ffb6dccc531}{get\+\_\+schema\+\_\+hash\+\_\+full\+\_\+path}} (const \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&ref\+\_\+tablet, const std\+::string \&prefix)
\item 
static \mbox{\hyperlink{classdoris_1_1_snapshot_manager}{Snapshot\+Manager}} $\ast$ \mbox{\hyperlink{classdoris_1_1_snapshot_manager_a3dbf4537af3eda662182e7d6f532e21b}{instance}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdoris_1_1_snapshot_manager_a853642359577d3258cbe13dc61596476}{Snapshot\+Manager}} ()
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_snapshot_manager_aeb6764d489e05da31701f578a6ef8039}{\+\_\+calc\+\_\+snapshot\+\_\+id\+\_\+path}} (const \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&tablet, int64\+\_\+t timeout\+\_\+s, std\+::string $\ast$out\+\_\+path)
\item 
std\+::string \mbox{\hyperlink{classdoris_1_1_snapshot_manager_a0b28286a57b690ffca231b39ddb42211}{\+\_\+get\+\_\+header\+\_\+full\+\_\+path}} (const \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&ref\+\_\+tablet, const std\+::string \&schema\+\_\+hash\+\_\+path) const
\item 
std\+::string \mbox{\hyperlink{classdoris_1_1_snapshot_manager_a47c9784af1d61ad2949d70d2f448f765}{\+\_\+get\+\_\+json\+\_\+header\+\_\+full\+\_\+path}} (const \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&ref\+\_\+tablet, const std\+::string \&schema\+\_\+hash\+\_\+path) const
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_snapshot_manager_af7622d1dc30c39e3af5070f252c1f864}{\+\_\+link\+\_\+index\+\_\+and\+\_\+data\+\_\+files}} (const std\+::string \&header\+\_\+path, const \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&ref\+\_\+tablet, const std\+::vector$<$ \mbox{\hyperlink{namespacedoris_a45a11d2c52e9b86e26ff0bb6d9c667d2}{Rowset\+Shared\+Ptr}} $>$ \&consistent\+\_\+rowsets)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_snapshot_manager_a48eac53a5aac30dc5f486838ab4cd174}{\+\_\+create\+\_\+snapshot\+\_\+files}} (const \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&ref\+\_\+tablet, const TSnapshot\+Request \&request, std\+::string $\ast$snapshot\+\_\+path, bool $\ast$allow\+\_\+incremental\+\_\+clone)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_snapshot_manager_a08f06ba5ba1476b8663b9ea66f88ad7c}{\+\_\+prepare\+\_\+snapshot\+\_\+dir}} (const \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&ref\+\_\+tablet, std\+::string $\ast$snapshot\+\_\+id\+\_\+path)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_snapshot_manager_a5c82e439514be9d05d2d4d4d4b59e0fe}{\+\_\+rename\+\_\+rowset\+\_\+id}} (const Rowset\+Meta\+PB \&rs\+\_\+meta\+\_\+pb, const std\+::string \&new\+\_\+tablet\+\_\+path, \mbox{\hyperlink{namespacedoris_a9216ba4fd9b418b8808bfb91a407ea20}{Tablet\+Schema\+SPtr}} tablet\+\_\+schema, const \mbox{\hyperlink{structdoris_1_1_rowset_id}{Rowset\+Id}} \&next\+\_\+id, Rowset\+Meta\+PB $\ast$new\+\_\+rs\+\_\+meta\+\_\+pb)
\end{DoxyCompactItemize}
\doxysubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
std\+::mutex \mbox{\hyperlink{classdoris_1_1_snapshot_manager_a5a230d6ee1a05dd52c59082d673e45e6}{\+\_\+snapshot\+\_\+mutex}}
\item 
uint64\+\_\+t \mbox{\hyperlink{classdoris_1_1_snapshot_manager_a0f851dbd15527bbb3ea136cb8876a9bb}{\+\_\+snapshot\+\_\+base\+\_\+id}}
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classdoris_1_1_mem_tracker}{Mem\+Tracker}} $>$ \mbox{\hyperlink{classdoris_1_1_snapshot_manager_aa8fe1dfdcaa71c1dd164d67c6f3cc910}{\+\_\+mem\+\_\+tracker}}
\end{DoxyCompactItemize}
\doxysubsection*{静态 Private 属性}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classdoris_1_1_snapshot_manager}{Snapshot\+Manager}} $\ast$ \mbox{\hyperlink{classdoris_1_1_snapshot_manager_a57dfa11c4cde2efb1261b5bd96217a97}{\+\_\+s\+\_\+instance}} = nullptr
\item 
static std\+::mutex \mbox{\hyperlink{classdoris_1_1_snapshot_manager_a254991c40001c861ebdcbad70ef3819e}{\+\_\+mlock}}
\end{DoxyCompactItemize}


\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a85329581230b98939a74f05967afc980}\label{classdoris_1_1_snapshot_manager_a85329581230b98939a74f05967afc980}} 
\index{SnapshotManager@{SnapshotManager}!````~SnapshotManager@{$\sim$SnapshotManager}}
\index{````~SnapshotManager@{$\sim$SnapshotManager}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{$\sim$SnapshotManager()}{~SnapshotManager()}}
{\footnotesize\ttfamily $\sim$\mbox{\hyperlink{classdoris_1_1_snapshot_manager}{Snapshot\+Manager}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a853642359577d3258cbe13dc61596476}\label{classdoris_1_1_snapshot_manager_a853642359577d3258cbe13dc61596476}} 
\index{SnapshotManager@{SnapshotManager}!SnapshotManager@{SnapshotManager}}
\index{SnapshotManager@{SnapshotManager}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{SnapshotManager()}{SnapshotManager()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_snapshot_manager}{Snapshot\+Manager}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_a853642359577d3258cbe13dc61596476_icgraph}
\end{center}
\end{figure}


\doxysubsection{成员函数说明}
\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_afe22179c0e3c197a947f752769f06a59}\label{classdoris_1_1_snapshot_manager_afe22179c0e3c197a947f752769f06a59}} 
\index{SnapshotManager@{SnapshotManager}!make\_snapshot@{make\_snapshot}}
\index{make\_snapshot@{make\_snapshot}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{make\_snapshot()}{make\_snapshot()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} make\+\_\+snapshot (\begin{DoxyParamCaption}\item[{const TSnapshot\+Request \&}]{request,  }\item[{std\+::string $\ast$}]{snapshot\+\_\+path,  }\item[{bool $\ast$}]{allow\+\_\+incremental\+\_\+clone }\end{DoxyParamCaption})}

Create a snapshot snapshot\+\_\+path\+: out param, the dir of snapshot allow\+\_\+incremental\+\_\+clone\+: out param, true if it is an incremental clone 函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_afe22179c0e3c197a947f752769f06a59_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_afe22179c0e3c197a947f752769f06a59_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a380b0877ea6c1f6fd8fa4ffb6dccc531}\label{classdoris_1_1_snapshot_manager_a380b0877ea6c1f6fd8fa4ffb6dccc531}} 
\index{SnapshotManager@{SnapshotManager}!get\_schema\_hash\_full\_path@{get\_schema\_hash\_full\_path}}
\index{get\_schema\_hash\_full\_path@{get\_schema\_hash\_full\_path}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{get\_schema\_hash\_full\_path()}{get\_schema\_hash\_full\_path()}}
{\footnotesize\ttfamily std\+::string get\+\_\+schema\+\_\+hash\+\_\+full\+\_\+path (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&}]{ref\+\_\+tablet,  }\item[{const std\+::string \&}]{prefix }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_a380b0877ea6c1f6fd8fa4ffb6dccc531_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a3789ccdab232b2842d6a8e6b5ad890ac}\label{classdoris_1_1_snapshot_manager_a3789ccdab232b2842d6a8e6b5ad890ac}} 
\index{SnapshotManager@{SnapshotManager}!release\_snapshot@{release\_snapshot}}
\index{release\_snapshot@{release\_snapshot}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{release\_snapshot()}{release\_snapshot()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} release\+\_\+snapshot (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{snapshot\+\_\+path }\end{DoxyParamCaption})}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_a3789ccdab232b2842d6a8e6b5ad890ac_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_a3789ccdab232b2842d6a8e6b5ad890ac_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a3dbf4537af3eda662182e7d6f532e21b}\label{classdoris_1_1_snapshot_manager_a3dbf4537af3eda662182e7d6f532e21b}} 
\index{SnapshotManager@{SnapshotManager}!instance@{instance}}
\index{instance@{instance}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{instance()}{instance()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_snapshot_manager}{Snapshot\+Manager}} $\ast$ instance (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=264pt]{d0/d6c/classdoris_1_1_snapshot_manager_a3dbf4537af3eda662182e7d6f532e21b_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_a3dbf4537af3eda662182e7d6f532e21b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a7bd302e7908ed82b98499967e3993cb2}\label{classdoris_1_1_snapshot_manager_a7bd302e7908ed82b98499967e3993cb2}} 
\index{SnapshotManager@{SnapshotManager}!convert\_rowset\_ids@{convert\_rowset\_ids}}
\index{convert\_rowset\_ids@{convert\_rowset\_ids}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{convert\_rowset\_ids()}{convert\_rowset\_ids()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} convert\+\_\+rowset\+\_\+ids (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{clone\+\_\+dir,  }\item[{int64\+\_\+t}]{tablet\+\_\+id,  }\item[{int64\+\_\+t}]{replica\+\_\+id,  }\item[{const int32\+\_\+t \&}]{schema\+\_\+hash }\end{DoxyParamCaption})}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_a7bd302e7908ed82b98499967e3993cb2_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_a7bd302e7908ed82b98499967e3993cb2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_aeb6764d489e05da31701f578a6ef8039}\label{classdoris_1_1_snapshot_manager_aeb6764d489e05da31701f578a6ef8039}} 
\index{SnapshotManager@{SnapshotManager}!\_calc\_snapshot\_id\_path@{\_calc\_snapshot\_id\_path}}
\index{\_calc\_snapshot\_id\_path@{\_calc\_snapshot\_id\_path}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{\_calc\_snapshot\_id\_path()}{\_calc\_snapshot\_id\_path()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+calc\+\_\+snapshot\+\_\+id\+\_\+path (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&}]{tablet,  }\item[{int64\+\_\+t}]{timeout\+\_\+s,  }\item[{std\+::string $\ast$}]{out\+\_\+path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_aeb6764d489e05da31701f578a6ef8039_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_aeb6764d489e05da31701f578a6ef8039_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a0b28286a57b690ffca231b39ddb42211}\label{classdoris_1_1_snapshot_manager_a0b28286a57b690ffca231b39ddb42211}} 
\index{SnapshotManager@{SnapshotManager}!\_get\_header\_full\_path@{\_get\_header\_full\_path}}
\index{\_get\_header\_full\_path@{\_get\_header\_full\_path}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{\_get\_header\_full\_path()}{\_get\_header\_full\_path()}}
{\footnotesize\ttfamily std\+::string \+\_\+get\+\_\+header\+\_\+full\+\_\+path (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&}]{ref\+\_\+tablet,  }\item[{const std\+::string \&}]{schema\+\_\+hash\+\_\+path }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}

这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_a0b28286a57b690ffca231b39ddb42211_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a47c9784af1d61ad2949d70d2f448f765}\label{classdoris_1_1_snapshot_manager_a47c9784af1d61ad2949d70d2f448f765}} 
\index{SnapshotManager@{SnapshotManager}!\_get\_json\_header\_full\_path@{\_get\_json\_header\_full\_path}}
\index{\_get\_json\_header\_full\_path@{\_get\_json\_header\_full\_path}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{\_get\_json\_header\_full\_path()}{\_get\_json\_header\_full\_path()}}
{\footnotesize\ttfamily std\+::string \+\_\+get\+\_\+json\+\_\+header\+\_\+full\+\_\+path (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&}]{ref\+\_\+tablet,  }\item[{const std\+::string \&}]{schema\+\_\+hash\+\_\+path }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}

这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_a47c9784af1d61ad2949d70d2f448f765_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_af7622d1dc30c39e3af5070f252c1f864}\label{classdoris_1_1_snapshot_manager_af7622d1dc30c39e3af5070f252c1f864}} 
\index{SnapshotManager@{SnapshotManager}!\_link\_index\_and\_data\_files@{\_link\_index\_and\_data\_files}}
\index{\_link\_index\_and\_data\_files@{\_link\_index\_and\_data\_files}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{\_link\_index\_and\_data\_files()}{\_link\_index\_and\_data\_files()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+link\+\_\+index\+\_\+and\+\_\+data\+\_\+files (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{header\+\_\+path,  }\item[{const \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&}]{ref\+\_\+tablet,  }\item[{const std\+::vector$<$ \mbox{\hyperlink{namespacedoris_a45a11d2c52e9b86e26ff0bb6d9c667d2}{Rowset\+Shared\+Ptr}} $>$ \&}]{consistent\+\_\+rowsets }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_af7622d1dc30c39e3af5070f252c1f864_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a48eac53a5aac30dc5f486838ab4cd174}\label{classdoris_1_1_snapshot_manager_a48eac53a5aac30dc5f486838ab4cd174}} 
\index{SnapshotManager@{SnapshotManager}!\_create\_snapshot\_files@{\_create\_snapshot\_files}}
\index{\_create\_snapshot\_files@{\_create\_snapshot\_files}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{\_create\_snapshot\_files()}{\_create\_snapshot\_files()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+create\+\_\+snapshot\+\_\+files (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&}]{ref\+\_\+tablet,  }\item[{const TSnapshot\+Request \&}]{request,  }\item[{std\+::string $\ast$}]{snapshot\+\_\+path,  }\item[{bool $\ast$}]{allow\+\_\+incremental\+\_\+clone }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

If set missing\+\_\+version, try to get all missing version. If some of them not exist in tablet, we will fall back to make the full snapshot of the tablet.

not all missing versions are found, fall back to full snapshot.函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_a48eac53a5aac30dc5f486838ab4cd174_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_a48eac53a5aac30dc5f486838ab4cd174_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a08f06ba5ba1476b8663b9ea66f88ad7c}\label{classdoris_1_1_snapshot_manager_a08f06ba5ba1476b8663b9ea66f88ad7c}} 
\index{SnapshotManager@{SnapshotManager}!\_prepare\_snapshot\_dir@{\_prepare\_snapshot\_dir}}
\index{\_prepare\_snapshot\_dir@{\_prepare\_snapshot\_dir}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{\_prepare\_snapshot\_dir()}{\_prepare\_snapshot\_dir()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+prepare\+\_\+snapshot\+\_\+dir (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacedoris_ad3e800b72ff04da97e09ccc723b2f8cf}{Tablet\+Shared\+Ptr}} \&}]{ref\+\_\+tablet,  }\item[{std\+::string $\ast$}]{snapshot\+\_\+id\+\_\+path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a5c82e439514be9d05d2d4d4d4b59e0fe}\label{classdoris_1_1_snapshot_manager_a5c82e439514be9d05d2d4d4d4b59e0fe}} 
\index{SnapshotManager@{SnapshotManager}!\_rename\_rowset\_id@{\_rename\_rowset\_id}}
\index{\_rename\_rowset\_id@{\_rename\_rowset\_id}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{\_rename\_rowset\_id()}{\_rename\_rowset\_id()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+rename\+\_\+rowset\+\_\+id (\begin{DoxyParamCaption}\item[{const Rowset\+Meta\+PB \&}]{rs\+\_\+meta\+\_\+pb,  }\item[{const std\+::string \&}]{new\+\_\+tablet\+\_\+path,  }\item[{\mbox{\hyperlink{namespacedoris_a9216ba4fd9b418b8808bfb91a407ea20}{Tablet\+Schema\+SPtr}}}]{tablet\+\_\+schema,  }\item[{const \mbox{\hyperlink{structdoris_1_1_rowset_id}{Rowset\+Id}} \&}]{next\+\_\+id,  }\item[{Rowset\+Meta\+PB $\ast$}]{new\+\_\+rs\+\_\+meta\+\_\+pb }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_a5c82e439514be9d05d2d4d4d4b59e0fe_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d6c/classdoris_1_1_snapshot_manager_a5c82e439514be9d05d2d4d4d4b59e0fe_icgraph}
\end{center}
\end{figure}


\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a57dfa11c4cde2efb1261b5bd96217a97}\label{classdoris_1_1_snapshot_manager_a57dfa11c4cde2efb1261b5bd96217a97}} 
\index{SnapshotManager@{SnapshotManager}!\_s\_instance@{\_s\_instance}}
\index{\_s\_instance@{\_s\_instance}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{\_s\_instance}{\_s\_instance}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_snapshot_manager}{Snapshot\+Manager}} $\ast$ \+\_\+s\+\_\+instance = nullptr\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a254991c40001c861ebdcbad70ef3819e}\label{classdoris_1_1_snapshot_manager_a254991c40001c861ebdcbad70ef3819e}} 
\index{SnapshotManager@{SnapshotManager}!\_mlock@{\_mlock}}
\index{\_mlock@{\_mlock}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{\_mlock}{\_mlock}}
{\footnotesize\ttfamily std\+::mutex \+\_\+mlock\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a5a230d6ee1a05dd52c59082d673e45e6}\label{classdoris_1_1_snapshot_manager_a5a230d6ee1a05dd52c59082d673e45e6}} 
\index{SnapshotManager@{SnapshotManager}!\_snapshot\_mutex@{\_snapshot\_mutex}}
\index{\_snapshot\_mutex@{\_snapshot\_mutex}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{\_snapshot\_mutex}{\_snapshot\_mutex}}
{\footnotesize\ttfamily std\+::mutex \+\_\+snapshot\+\_\+mutex\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_a0f851dbd15527bbb3ea136cb8876a9bb}\label{classdoris_1_1_snapshot_manager_a0f851dbd15527bbb3ea136cb8876a9bb}} 
\index{SnapshotManager@{SnapshotManager}!\_snapshot\_base\_id@{\_snapshot\_base\_id}}
\index{\_snapshot\_base\_id@{\_snapshot\_base\_id}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{\_snapshot\_base\_id}{\_snapshot\_base\_id}}
{\footnotesize\ttfamily uint64\+\_\+t \+\_\+snapshot\+\_\+base\+\_\+id\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_snapshot_manager_aa8fe1dfdcaa71c1dd164d67c6f3cc910}\label{classdoris_1_1_snapshot_manager_aa8fe1dfdcaa71c1dd164d67c6f3cc910}} 
\index{SnapshotManager@{SnapshotManager}!\_mem\_tracker@{\_mem\_tracker}}
\index{\_mem\_tracker@{\_mem\_tracker}!SnapshotManager@{SnapshotManager}}
\doxysubsubsection{\texorpdfstring{\_mem\_tracker}{\_mem\_tracker}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classdoris_1_1_mem_tracker}{Mem\+Tracker}}$>$ \+\_\+mem\+\_\+tracker\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/doris/be/src/olap/\mbox{\hyperlink{snapshot__manager_8h}{snapshot\+\_\+manager.\+h}}\item 
/\+Users/dabowang/doris/be/src/olap/\mbox{\hyperlink{snapshot__manager_8cpp}{snapshot\+\_\+manager.\+cpp}}\end{DoxyCompactItemize}
