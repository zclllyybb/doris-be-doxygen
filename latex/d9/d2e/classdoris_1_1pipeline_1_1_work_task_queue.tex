\hypertarget{classdoris_1_1pipeline_1_1_work_task_queue}{}\doxysection{Work\+Task\+Queue类 参考}
\label{classdoris_1_1pipeline_1_1_work_task_queue}\index{WorkTaskQueue@{WorkTaskQueue}}


{\ttfamily \#include $<$task\+\_\+queue.\+h$>$}



Work\+Task\+Queue 的协作图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=194pt]{d3/dfd/classdoris_1_1pipeline_1_1_work_task_queue__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a62518ab76a0dcc25385dbafeba9e22c1}{Work\+Task\+Queue}} ()
\item 
void \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a5ae591df94fc66ccb85cbb6565368bca}{close}} ()
\item 
\mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_task}{Pipeline\+Task}} $\ast$ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a9b174e7fabbcbb8fce29183e5a58c95c}{try\+\_\+take\+\_\+unprotected}} (bool is\+\_\+steal)
\item 
\mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_task}{Pipeline\+Task}} $\ast$ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a59a4e1432f978a51e6034683c1767d79}{try\+\_\+take}} (bool is\+\_\+steal)
\item 
\mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_task}{Pipeline\+Task}} $\ast$ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a5b4cce813e6e5ab740a7587b5b8ec766}{take}} (uint32\+\_\+t timeout\+\_\+ms=0)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_ac810ed0ca3941ea1ecd52c0c7252b63c}{push}} (\mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_task}{Pipeline\+Task}} $\ast$task)
\item 
size\+\_\+t \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a0b6b70701c46e22849f0f363861351cd}{size}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private 成员函数}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a1c03a747fc83aeab7ab3b461242304bc}{\+\_\+compute\+\_\+level}} (\mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_task}{Pipeline\+Task}} $\ast$task)
\end{DoxyCompactItemize}
\doxysubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdoris_1_1pipeline_1_1_sub_work_task_queue}{Sub\+Work\+Task\+Queue}} \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a78f1a1e012feea63f84341cfbc4ec062}{\+\_\+sub\+\_\+queues}} \mbox{[}\mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a4681e4a1d043faa3cbf85c732b91f17a}{SUB\+\_\+\+QUEUE\+\_\+\+LEVEL}}\mbox{]}
\item 
uint32\+\_\+t \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a9e6e41ce8b42d2a86ea54f410305acb1}{\+\_\+task\+\_\+schedule\+\_\+limit}} \mbox{[}\mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a4681e4a1d043faa3cbf85c732b91f17a}{SUB\+\_\+\+QUEUE\+\_\+\+LEVEL}} -\/ 1\mbox{]}
\item 
std\+::mutex \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a12929a32138668eaf9407c3ac91bfa66}{\+\_\+work\+\_\+size\+\_\+mutex}}
\item 
std\+::condition\+\_\+variable \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a291f21e4de9255dfd75975ce20632ef0}{\+\_\+wait\+\_\+task}}
\item 
std\+::atomic$<$ size\+\_\+t $>$ \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_ab192795e0ff824e7230f82924243542e}{\+\_\+total\+\_\+task\+\_\+size}} = 0
\item 
bool \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_af4a8be523945fd0c4187dddbbc732d87}{\+\_\+closed}}
\end{DoxyCompactItemize}
\doxysubsection*{静态 Private 属性}
\begin{DoxyCompactItemize}
\item 
static constexpr auto \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_aaa87db7f0c2878bc13b161f1e3c07fb3}{LEVEL\+\_\+\+QUEUE\+\_\+\+TIME\+\_\+\+FACTOR}} = 1.\+5
\item 
static constexpr size\+\_\+t \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a4681e4a1d043faa3cbf85c732b91f17a}{SUB\+\_\+\+QUEUE\+\_\+\+LEVEL}} = 5
\item 
static constexpr uint32\+\_\+t \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_abb0a21c907c9b4e826bd52c19d58afb1}{BASE\+\_\+\+LIMIT}} = 3
\end{DoxyCompactItemize}


\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_a62518ab76a0dcc25385dbafeba9e22c1}\label{classdoris_1_1pipeline_1_1_work_task_queue_a62518ab76a0dcc25385dbafeba9e22c1}} 
\index{WorkTaskQueue@{WorkTaskQueue}!WorkTaskQueue@{WorkTaskQueue}}
\index{WorkTaskQueue@{WorkTaskQueue}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{WorkTaskQueue()}{WorkTaskQueue()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue}{Work\+Task\+Queue}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=327pt]{d9/d2e/classdoris_1_1pipeline_1_1_work_task_queue_a62518ab76a0dcc25385dbafeba9e22c1_cgraph}
\end{center}
\end{figure}


\doxysubsection{成员函数说明}
\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_a5ae591df94fc66ccb85cbb6565368bca}\label{classdoris_1_1pipeline_1_1_work_task_queue_a5ae591df94fc66ccb85cbb6565368bca}} 
\index{WorkTaskQueue@{WorkTaskQueue}!close@{close}}
\index{close@{close}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{close()}{close()}}
{\footnotesize\ttfamily void close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_a9b174e7fabbcbb8fce29183e5a58c95c}\label{classdoris_1_1pipeline_1_1_work_task_queue_a9b174e7fabbcbb8fce29183e5a58c95c}} 
\index{WorkTaskQueue@{WorkTaskQueue}!try\_take\_unprotected@{try\_take\_unprotected}}
\index{try\_take\_unprotected@{try\_take\_unprotected}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{try\_take\_unprotected()}{try\_take\_unprotected()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_task}{Pipeline\+Task}} $\ast$ try\+\_\+take\+\_\+unprotected (\begin{DoxyParamCaption}\item[{bool}]{is\+\_\+steal }\end{DoxyParamCaption})}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d2e/classdoris_1_1pipeline_1_1_work_task_queue_a9b174e7fabbcbb8fce29183e5a58c95c_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{d9/d2e/classdoris_1_1pipeline_1_1_work_task_queue_a9b174e7fabbcbb8fce29183e5a58c95c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_a59a4e1432f978a51e6034683c1767d79}\label{classdoris_1_1pipeline_1_1_work_task_queue_a59a4e1432f978a51e6034683c1767d79}} 
\index{WorkTaskQueue@{WorkTaskQueue}!try\_take@{try\_take}}
\index{try\_take@{try\_take}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{try\_take()}{try\_take()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_task}{Pipeline\+Task}} $\ast$ try\+\_\+take (\begin{DoxyParamCaption}\item[{bool}]{is\+\_\+steal }\end{DoxyParamCaption})}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d2e/classdoris_1_1pipeline_1_1_work_task_queue_a59a4e1432f978a51e6034683c1767d79_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_a5b4cce813e6e5ab740a7587b5b8ec766}\label{classdoris_1_1pipeline_1_1_work_task_queue_a5b4cce813e6e5ab740a7587b5b8ec766}} 
\index{WorkTaskQueue@{WorkTaskQueue}!take@{take}}
\index{take@{take}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{take()}{take()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_task}{Pipeline\+Task}} $\ast$ take (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{timeout\+\_\+ms = {\ttfamily 0} }\end{DoxyParamCaption})}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d2e/classdoris_1_1pipeline_1_1_work_task_queue_a5b4cce813e6e5ab740a7587b5b8ec766_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_ac810ed0ca3941ea1ecd52c0c7252b63c}\label{classdoris_1_1pipeline_1_1_work_task_queue_ac810ed0ca3941ea1ecd52c0c7252b63c}} 
\index{WorkTaskQueue@{WorkTaskQueue}!push@{push}}
\index{push@{push}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{push()}{push()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} push (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_task}{Pipeline\+Task}} $\ast$}]{task }\end{DoxyParamCaption})}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d2e/classdoris_1_1pipeline_1_1_work_task_queue_ac810ed0ca3941ea1ecd52c0c7252b63c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_a0b6b70701c46e22849f0f363861351cd}\label{classdoris_1_1pipeline_1_1_work_task_queue_a0b6b70701c46e22849f0f363861351cd}} 
\index{WorkTaskQueue@{WorkTaskQueue}!size@{size}}
\index{size@{size}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily size\+\_\+t size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_a1c03a747fc83aeab7ab3b461242304bc}\label{classdoris_1_1pipeline_1_1_work_task_queue_a1c03a747fc83aeab7ab3b461242304bc}} 
\index{WorkTaskQueue@{WorkTaskQueue}!\_compute\_level@{\_compute\_level}}
\index{\_compute\_level@{\_compute\_level}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{\_compute\_level()}{\_compute\_level()}}
{\footnotesize\ttfamily int \+\_\+compute\+\_\+level (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1pipeline_1_1_pipeline_task}{Pipeline\+Task}} $\ast$}]{task }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=332pt]{d9/d2e/classdoris_1_1pipeline_1_1_work_task_queue_a1c03a747fc83aeab7ab3b461242304bc_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=239pt]{d9/d2e/classdoris_1_1pipeline_1_1_work_task_queue_a1c03a747fc83aeab7ab3b461242304bc_icgraph}
\end{center}
\end{figure}


\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_aaa87db7f0c2878bc13b161f1e3c07fb3}\label{classdoris_1_1pipeline_1_1_work_task_queue_aaa87db7f0c2878bc13b161f1e3c07fb3}} 
\index{WorkTaskQueue@{WorkTaskQueue}!LEVEL\_QUEUE\_TIME\_FACTOR@{LEVEL\_QUEUE\_TIME\_FACTOR}}
\index{LEVEL\_QUEUE\_TIME\_FACTOR@{LEVEL\_QUEUE\_TIME\_FACTOR}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{LEVEL\_QUEUE\_TIME\_FACTOR}{LEVEL\_QUEUE\_TIME\_FACTOR}}
{\footnotesize\ttfamily constexpr auto LEVEL\+\_\+\+QUEUE\+\_\+\+TIME\+\_\+\+FACTOR = 1.\+5\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_a4681e4a1d043faa3cbf85c732b91f17a}\label{classdoris_1_1pipeline_1_1_work_task_queue_a4681e4a1d043faa3cbf85c732b91f17a}} 
\index{WorkTaskQueue@{WorkTaskQueue}!SUB\_QUEUE\_LEVEL@{SUB\_QUEUE\_LEVEL}}
\index{SUB\_QUEUE\_LEVEL@{SUB\_QUEUE\_LEVEL}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{SUB\_QUEUE\_LEVEL}{SUB\_QUEUE\_LEVEL}}
{\footnotesize\ttfamily constexpr size\+\_\+t SUB\+\_\+\+QUEUE\+\_\+\+LEVEL = 5\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_abb0a21c907c9b4e826bd52c19d58afb1}\label{classdoris_1_1pipeline_1_1_work_task_queue_abb0a21c907c9b4e826bd52c19d58afb1}} 
\index{WorkTaskQueue@{WorkTaskQueue}!BASE\_LIMIT@{BASE\_LIMIT}}
\index{BASE\_LIMIT@{BASE\_LIMIT}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{BASE\_LIMIT}{BASE\_LIMIT}}
{\footnotesize\ttfamily constexpr uint32\+\_\+t BASE\+\_\+\+LIMIT = 3\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_a78f1a1e012feea63f84341cfbc4ec062}\label{classdoris_1_1pipeline_1_1_work_task_queue_a78f1a1e012feea63f84341cfbc4ec062}} 
\index{WorkTaskQueue@{WorkTaskQueue}!\_sub\_queues@{\_sub\_queues}}
\index{\_sub\_queues@{\_sub\_queues}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{\_sub\_queues}{\_sub\_queues}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1pipeline_1_1_sub_work_task_queue}{Sub\+Work\+Task\+Queue}} \+\_\+sub\+\_\+queues\mbox{[}\mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a4681e4a1d043faa3cbf85c732b91f17a}{SUB\+\_\+\+QUEUE\+\_\+\+LEVEL}}\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_a9e6e41ce8b42d2a86ea54f410305acb1}\label{classdoris_1_1pipeline_1_1_work_task_queue_a9e6e41ce8b42d2a86ea54f410305acb1}} 
\index{WorkTaskQueue@{WorkTaskQueue}!\_task\_schedule\_limit@{\_task\_schedule\_limit}}
\index{\_task\_schedule\_limit@{\_task\_schedule\_limit}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{\_task\_schedule\_limit}{\_task\_schedule\_limit}}
{\footnotesize\ttfamily uint32\+\_\+t \+\_\+task\+\_\+schedule\+\_\+limit\mbox{[}\mbox{\hyperlink{classdoris_1_1pipeline_1_1_work_task_queue_a4681e4a1d043faa3cbf85c732b91f17a}{SUB\+\_\+\+QUEUE\+\_\+\+LEVEL}} -\/ 1\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_a12929a32138668eaf9407c3ac91bfa66}\label{classdoris_1_1pipeline_1_1_work_task_queue_a12929a32138668eaf9407c3ac91bfa66}} 
\index{WorkTaskQueue@{WorkTaskQueue}!\_work\_size\_mutex@{\_work\_size\_mutex}}
\index{\_work\_size\_mutex@{\_work\_size\_mutex}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{\_work\_size\_mutex}{\_work\_size\_mutex}}
{\footnotesize\ttfamily std\+::mutex \+\_\+work\+\_\+size\+\_\+mutex\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_a291f21e4de9255dfd75975ce20632ef0}\label{classdoris_1_1pipeline_1_1_work_task_queue_a291f21e4de9255dfd75975ce20632ef0}} 
\index{WorkTaskQueue@{WorkTaskQueue}!\_wait\_task@{\_wait\_task}}
\index{\_wait\_task@{\_wait\_task}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{\_wait\_task}{\_wait\_task}}
{\footnotesize\ttfamily std\+::condition\+\_\+variable \+\_\+wait\+\_\+task\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_ab192795e0ff824e7230f82924243542e}\label{classdoris_1_1pipeline_1_1_work_task_queue_ab192795e0ff824e7230f82924243542e}} 
\index{WorkTaskQueue@{WorkTaskQueue}!\_total\_task\_size@{\_total\_task\_size}}
\index{\_total\_task\_size@{\_total\_task\_size}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{\_total\_task\_size}{\_total\_task\_size}}
{\footnotesize\ttfamily std\+::atomic$<$size\+\_\+t$>$ \+\_\+total\+\_\+task\+\_\+size = 0\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1pipeline_1_1_work_task_queue_af4a8be523945fd0c4187dddbbc732d87}\label{classdoris_1_1pipeline_1_1_work_task_queue_af4a8be523945fd0c4187dddbbc732d87}} 
\index{WorkTaskQueue@{WorkTaskQueue}!\_closed@{\_closed}}
\index{\_closed@{\_closed}!WorkTaskQueue@{WorkTaskQueue}}
\doxysubsubsection{\texorpdfstring{\_closed}{\_closed}}
{\footnotesize\ttfamily bool \+\_\+closed\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/be\+\_\+all/pipeline/\mbox{\hyperlink{task__queue_8h}{task\+\_\+queue.\+h}}\item 
/\+Users/dabowang/be\+\_\+all/pipeline/\mbox{\hyperlink{task__queue_8cpp}{task\+\_\+queue.\+cpp}}\end{DoxyCompactItemize}
