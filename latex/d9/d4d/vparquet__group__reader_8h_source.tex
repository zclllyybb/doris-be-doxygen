\hypertarget{vparquet__group__reader_8h_source}{}\doxysection{vparquet\+\_\+group\+\_\+reader.\+h}
\label{vparquet__group__reader_8h_source}\index{/Users/dabowang/be\_all/vec/exec/format/parquet/vparquet\_group\_reader.h@{/Users/dabowang/be\_all/vec/exec/format/parquet/vparquet\_group\_reader.h}}
\mbox{\hyperlink{vparquet__group__reader_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{status_8h}{common/status.h}}>}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{text__converter_8h}{exec/text\_converter.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{file__reader_8h}{io/file\_reader.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{fs_2file__reader_8h}{io/fs/file\_reader.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{block_8h}{vec/core/block.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{vexpr__context_8h}{vec/exprs/vexpr\_context.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{vparquet__column__reader_8h}{vparquet\_column\_reader.h}}"{}}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris_1_1vectorized}{doris::vectorized}}\ \{}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader}{RowGroupReader}}\ \{}
\DoxyCodeLine{00030\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ std::vector<int64\_t>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a6f8191005deed8ba51e329da0f61fc43}{NO\_DELETE}};}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_row_group_index}{RowGroupIndex}}\ \{}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ int32\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_row_group_index_aa40462b8b7f1876f403da7c16a8a3522}{row\_group\_id}};}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_row_group_index_a329773e25e7dd4907a0dccb314c0ed52}{first\_row}};}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_row_group_index_a1a475d0b78ca7f76621eaf399e3c3387}{last\_row}};}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_row_group_index_a070ba83b647a9acd16001839d166af1d}{RowGroupIndex}}(int32\_t\ \textcolor{keywordtype}{id},\ int64\_t\ first,\ int64\_t\ last)}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_row_group_index_aa40462b8b7f1876f403da7c16a8a3522}{row\_group\_id}}(id),\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_row_group_index_a329773e25e7dd4907a0dccb314c0ed52}{first\_row}}(first),\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_row_group_index_a1a475d0b78ca7f76621eaf399e3c3387}{last\_row}}(last)\ \{\}}
\DoxyCodeLine{00039\ \ \ \ \ \};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_lazy_read_context}{LazyReadContext}}\ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_expr_context}{VExprContext}}*\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_lazy_read_context_ab1ae58f75aa78d7d2d2b21fdba1582a9}{vconjunct\_ctx}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_lazy_read_context_a9ba2c054cd8b5c4441cd7d309e813821}{can\_lazy\_read}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ block-\/>rows()\ returns\ the\ number\ of\ rows\ of\ the\ first\ column,}}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ so\ we\ should\ check\ and\ resize\ the\ first\ column}}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_lazy_read_context_a8aeec2cec081969e1b9af62949c56a31}{resize\_first\_column}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ std::vector<std::string>\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_lazy_read_context_aeb4768b13e9b87b5ac695c4a53689c57}{all\_read\_columns}};}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ include\ predicate\_partition\_columns\ \&\ predicate\_missing\_columns}}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ std::vector<uint32\_t>\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_lazy_read_context_a1170bee4d74c94bd6cddaa600de23ac4}{all\_predicate\_col\_ids}};}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ std::vector<std::string>\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_lazy_read_context_a522b91fb7feb5677dd3bb4007b4ce64e}{predicate\_columns}};}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ std::vector<std::string>\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_lazy_read_context_ac3f7cc1b6f9a22734454c1c82d2c5369}{lazy\_read\_columns}};}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ std::unordered\_map<std::string,\ std::tuple<std::string,\ const\ SlotDescriptor*>>}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_lazy_read_context_acfeafd4c528a5ccc2b59793d20765927}{predicate\_partition\_columns}};}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ lazy\ read\ partition\ columns\ or\ all\ partition\ columns}}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ std::unordered\_map<std::string,\ std::tuple<std::string,\ const\ SlotDescriptor*>>}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_lazy_read_context_a3c41add3fe023c1fb601b7060cfbd749}{partition\_columns}};}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ std::unordered\_map<std::string,\ VExprContext*>\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_lazy_read_context_a2f87c4b821bc92fc9751af1d5407b785}{predicate\_missing\_columns}};}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ lazy\ read\ missing\ columns\ or\ all\ missing\ columns}}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ std::unordered\_map<std::string,\ VExprContext*>\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_lazy_read_context_a20edac0052d2851cc443d6d639c387b8}{missing\_columns}};}
\DoxyCodeLine{00060\ \ \ \ \ \};}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context}{PositionDeleteContext}}\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ filtered\ rows\ in\ current\ row\ group}}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<int64\_t>\&\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a35c156d115a42e5921f741bb3e1920b1}{delete\_rows}};}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ first\ row\ id\ of\ current\ row\ group\ in\ parquet\ file}}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a416448f7d94568015981d503714c889a}{first\_row\_id}};}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ number\ of\ rows\ in\ current\ row\ group}}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a9e621a19379ab8b65888b90d81c3f7a2}{num\_rows}};}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a078415a48292761bf39259a65cd3f57b}{last\_row\_id}};}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ current\ row\ id\ to\ read\ in\ the\ row\ group}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_ad5dd14ca0d1cb064b3dc33b34e2f13dc}{current\_row\_id}};}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ start\ index\ in\ delete\_rows}}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a4844c393ba2966fb97dfb7e14aa5ead4}{start\_index}};}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ end\ index\ in\ delete\_rows}}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a6660b46b718aa62ebd3c17d6b4eafa2f}{end\_index}};}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ current\ index\ in\ delete\_rows}}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_aa9d6bcc39dc199c2a2671a88ecf3630e}{index}};}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a856412b14753db818272fd2609a129b9}{has\_filter}};}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a17ff34dac3266921008a0727f9b3dfab}{PositionDeleteContext}}(\textcolor{keyword}{const}\ std::vector<int64\_t>\&\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a35c156d115a42e5921f741bb3e1920b1}{delete\_rows}},\ \textcolor{keyword}{const}\ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a9e621a19379ab8b65888b90d81c3f7a2}{num\_rows}},}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a416448f7d94568015981d503714c889a}{first\_row\_id}},\ \textcolor{keyword}{const}\ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a4844c393ba2966fb97dfb7e14aa5ead4}{start\_index}},}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a6660b46b718aa62ebd3c17d6b4eafa2f}{end\_index}})}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a35c156d115a42e5921f741bb3e1920b1}{delete\_rows}}(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a35c156d115a42e5921f741bb3e1920b1}{delete\_rows}}),}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a416448f7d94568015981d503714c889a}{first\_row\_id}}(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a416448f7d94568015981d503714c889a}{first\_row\_id}}),}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a9e621a19379ab8b65888b90d81c3f7a2}{num\_rows}}(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a9e621a19379ab8b65888b90d81c3f7a2}{num\_rows}}),}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a078415a48292761bf39259a65cd3f57b}{last\_row\_id}}(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a416448f7d94568015981d503714c889a}{first\_row\_id}}\ +\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a9e621a19379ab8b65888b90d81c3f7a2}{num\_rows}}),}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_ad5dd14ca0d1cb064b3dc33b34e2f13dc}{current\_row\_id}}(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a416448f7d94568015981d503714c889a}{first\_row\_id}}),}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a4844c393ba2966fb97dfb7e14aa5ead4}{start\_index}}(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a4844c393ba2966fb97dfb7e14aa5ead4}{start\_index}}),}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a6660b46b718aa62ebd3c17d6b4eafa2f}{end\_index}}(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a6660b46b718aa62ebd3c17d6b4eafa2f}{end\_index}}),}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_aa9d6bcc39dc199c2a2671a88ecf3630e}{index}}(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a4844c393ba2966fb97dfb7e14aa5ead4}{start\_index}}),}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a856412b14753db818272fd2609a129b9}{has\_filter}}(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a6660b46b718aa62ebd3c17d6b4eafa2f}{end\_index}}\ >\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a4844c393ba2966fb97dfb7e14aa5ead4}{start\_index}})\ \{\}}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a96aa7eb7e3d940a241c244b1224ccb60}{PositionDeleteContext}}(\textcolor{keyword}{const}\ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a9e621a19379ab8b65888b90d81c3f7a2}{num\_rows}},\ \textcolor{keyword}{const}\ int64\_t\ first\_row)}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context}{PositionDeleteContext}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a6f8191005deed8ba51e329da0f61fc43}{NO\_DELETE}},\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_a9e621a19379ab8b65888b90d81c3f7a2}{num\_rows}},\ first\_row,\ 0,\ 0)\ \{\}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context_ab96096bae859e4a8dfcc92e5ebfc8704}{PositionDeleteContext}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context}{PositionDeleteContext}}\&\ filter)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00101\ \ \ \ \ \};}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader}{RowGroupReader}}(\mbox{\hyperlink{namespacedoris_1_1io_a4fab59e5f39ac7c318b993fa0c5265ee}{io::FileReaderSPtr}}\ file\_reader,}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<ParquetReadColumn>\&\ read\_columns,\ \textcolor{keyword}{const}\ int32\_t\ row\_group\_id,}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tparquet::RowGroup\&\ row\_group,\ cctz::time\_zone*\ ctz,}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context}{PositionDeleteContext}}\&\ position\_delete\_ctx,}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_lazy_read_context}{LazyReadContext}}\&\ lazy\_read\_ctx);}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a619ffeaa7eb3a28daaf6df85db0093bf}{\string~RowGroupReader}}();}
\DoxyCodeLine{00110\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a7b6689d30a1c938d70a7a5b996ec0125}{init}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_field_descriptor}{FieldDescriptor}}\&\ schema,\ std::vector<RowRange>\&\ row\_ranges,}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unordered\_map<int,\ tparquet::OffsetIndex>\&\ col\_offsets);}
\DoxyCodeLine{00112\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a0099c14684c5e849e570a91c067c7b92}{next\_batch}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}*\ block,\ \textcolor{keywordtype}{size\_t}\ batch\_size,\ \textcolor{keywordtype}{size\_t}*\ read\_rows,\ \textcolor{keywordtype}{bool}*\ batch\_eof);}
\DoxyCodeLine{00113\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_af94a78d4e996682e1836100d44f32d7b}{lazy\_read\_filtered\_rows}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a01fa26c9a4bb0fbb4175b422fecd0925}{\_lazy\_read\_filtered\_rows}};\ \}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_parquet_column_reader_1_1_statistics}{ParquetColumnReader::Statistics}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_ada5c18af9fa3b604d8cd1c6a5a563fba}{statistics}}();}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a6a6439daa6a0e0fef1ecf3a712be7119}{\_merge\_read\_ranges}}(std::vector<RowRange>\&\ row\_ranges);}
\DoxyCodeLine{00119\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a48375900955458e7ccef4a848b2036d5}{\_read\_empty\_batch}}(\textcolor{keywordtype}{size\_t}\ batch\_size,\ \textcolor{keywordtype}{size\_t}*\ read\_rows,\ \textcolor{keywordtype}{bool}*\ batch\_eof);}
\DoxyCodeLine{00120\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_ab60ad5aeeefee4d831b55f36eec9be0f}{\_read\_column\_data}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}*\ block,\ \textcolor{keyword}{const}\ std::vector<std::string>\&\ columns,}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ batch\_size,\ \textcolor{keywordtype}{size\_t}*\ read\_rows,\ \textcolor{keywordtype}{bool}*\ batch\_eof,}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_column_select_vector}{ColumnSelectVector}}\&\ select\_vector);}
\DoxyCodeLine{00123\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a1b963c9ca3c32c76dfa00fb11b5fa005}{\_do\_lazy\_read}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}*\ block,\ \textcolor{keywordtype}{size\_t}\ batch\_size,\ \textcolor{keywordtype}{size\_t}*\ read\_rows,\ \textcolor{keywordtype}{bool}*\ batch\_eof);}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keyword}{const}\ uint8\_t*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a14783e7198321e760d8488daf330b388}{\_build\_filter\_map}}(\mbox{\hyperlink{namespacedoris_1_1vectorized_aa1d7b67012985a9197efd18f7dd48e51}{ColumnPtr}}\&\ sv,\ \textcolor{keywordtype}{size\_t}\ num\_rows,\ \textcolor{keywordtype}{bool}*\ can\_filter\_all);}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a804a8db08ed6a335e1823496a554f9b1}{\_rebuild\_select\_vector}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_column_select_vector}{ColumnSelectVector}}\&\ select\_vector,}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<uint8\_t[]>\&\ filter\_map,\ \textcolor{keywordtype}{size\_t}\ pre\_read\_rows);}
\DoxyCodeLine{00127\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a4704f3f678cafab678ae7ddec4b6c1fc}{\_fill\_partition\_columns}}(}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}*\ block,\ \textcolor{keywordtype}{size\_t}\ rows,}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::unordered\_map<std::string,\ std::tuple<std::string,\ const\ SlotDescriptor*>>\&}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ partition\_columns);}
\DoxyCodeLine{00131\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_aa9f04279263eaca750f4312535db6286}{\_fill\_missing\_columns}}(}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}*\ block,\ \textcolor{keywordtype}{size\_t}\ rows,}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::unordered\_map<std::string,\ VExprContext*>\&\ missing\_columns);}
\DoxyCodeLine{00134\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a6013393d6696a3c0506d67b1cebdb136}{\_build\_pos\_delete\_filter}}(\textcolor{keywordtype}{size\_t}\ read\_rows);}
\DoxyCodeLine{00135\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a97a7f5aec4c71ca41d8b6421c7579e39}{\_filter\_block}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}*\ block,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedoris_1_1vectorized_aa1d7b67012985a9197efd18f7dd48e51}{ColumnPtr}}\ filter\_column,\ \textcolor{keywordtype}{int}\ column\_to\_keep,}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<uint32\_t>\ columns\_to\_filter);}
\DoxyCodeLine{00137\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a1b5f9f544e5de1b1b1539f751f30f0d1}{\_filter\_block}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}*\ block,\ \textcolor{keywordtype}{int}\ column\_to\_keep,}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ vector<uint32\_t>\&\ columns\_to\_filter);}
\DoxyCodeLine{00139\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a769de17cc78064990aa63913fe48da38}{\_filter\_block\_internal}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}*\ block,\ \textcolor{keyword}{const}\ vector<uint32\_t>\&\ columns\_to\_filter);}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1io_a4fab59e5f39ac7c318b993fa0c5265ee}{io::FileReaderSPtr}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a0c94b8447f79ad7c6166e0b4e50c5cf8}{\_file\_reader}};}
\DoxyCodeLine{00142\ \ \ \ \ std::unordered\_map<std::string,\ std::unique\_ptr<ParquetColumnReader>>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_ae55b062ca795eece556b42c0382a49b8}{\_column\_readers}};}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<ParquetReadColumn>\&\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a7e56b6a58ca25b1ca5ba5e5573570112}{\_read\_columns}};}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keyword}{const}\ int32\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a780c246217c56575615d2fe5158cb342}{\_row\_group\_id}};}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keyword}{const}\ tparquet::RowGroup\&\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a3294913a5553789aa789dfd5aa6a2765}{\_row\_group\_meta}};}
\DoxyCodeLine{00146\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a62c0d07b57dfdcfa4b44ba7d5ea61331}{\_remaining\_rows}};}
\DoxyCodeLine{00147\ \ \ \ \ cctz::time\_zone*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a320aaf50043ac607885ecae36eb96aed}{\_ctz}};}
\DoxyCodeLine{00148\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_position_delete_context}{PositionDeleteContext}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a0666f034e8ae9748bcf85cddc0d8ccd2}{\_position\_delete\_ctx}};}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{comment}{//\ merge\ the\ row\ ranges\ generated\ from\ page\ index\ and\ position\ delete.}}
\DoxyCodeLine{00150\ \ \ \ \ std::vector<RowRange>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_ad41d6c957cd06b6f08c00480edc71978}{\_read\_ranges}};}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_row_group_reader_1_1_lazy_read_context}{LazyReadContext}}\&\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_aa2348cc5fe027c6d4cecd5dcdcbbcafe}{\_lazy\_read\_ctx}};}
\DoxyCodeLine{00153\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a01fa26c9a4bb0fbb4175b422fecd0925}{\_lazy\_read\_filtered\_rows}}\ =\ 0;}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{comment}{//\ If\ continuous\ batches\ are\ skipped,\ we\ can\ cache\ them\ to\ skip\ a\ whole\ page}}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a399bfb25e30c6dd0936d8ca5c1867a4f}{\_cached\_filtered\_rows}}\ =\ 0;}
\DoxyCodeLine{00156\ \ \ \ \ std::unique\_ptr<TextConverter>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a6644e04803bbd27ce98a70473c39ff5e}{\_text\_converter}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00157\ \ \ \ \ std::unique\_ptr<IColumn::Filter>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_afd195d32ad6952f6ce46e57c08a0467a}{\_filter\_ptr}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00158\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_row_group_reader_a4261b526a45c28c3b961b030a237ad33}{\_total\_read\_rows}}\ =\ 0;}
\DoxyCodeLine{00159\ \};}
\DoxyCodeLine{00160\ \}\ \textcolor{comment}{//\ namespace\ doris::vectorized}}

\end{DoxyCode}
