\hypertarget{http__client_8h_source}{}\doxysection{http\+\_\+client.\+h}
\label{http__client_8h_source}\index{/Users/dabowang/doris/be/src/http/http\_client.h@{/Users/dabowang/doris/be/src/http/http\_client.h}}
\mbox{\hyperlink{http__client_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <curl/curl.h>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <cstdio>}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{status_8h}{common/status.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{http__headers_8h}{http/http\_headers.h}}"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{http__method_8h}{http/http\_method.h}}"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{http__response_8h}{http/http\_response.h}}"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{http_2utils_8h}{http/utils.h}}"{}}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris}{doris}}\ \{}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{comment}{//\ Helper\ class\ to\ access\ HTTP\ resource}}
\DoxyCodeLine{00034\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1_http_client}{HttpClient}}\ \{}
\DoxyCodeLine{00035\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_http_client_a344839bd00011fb21fd4fb8130acb670}{HttpClient}}();}
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_http_client_a0a928aed9462f217247e7555597b7307}{\string~HttpClient}}();}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{comment}{//\ you\ can\ call\ this\ function\ to\ execute\ HTTP\ request\ with\ retry,}}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{comment}{//\ if\ callback\ return\ OK,\ this\ function\ will\ end\ and\ return\ OK.}}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{comment}{//\ This\ function\ will\ return\ FAIL\ if\ three\ are\ more\ than\ retry\_times}}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{comment}{//\ that\ callback\ return\ FAIL.}}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_http_client_a210c26b95027d3721acf836bb7094de4}{execute\_with\_retry}}(\textcolor{keywordtype}{int}\ retry\_times,\ \textcolor{keywordtype}{int}\ sleep\_time,}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::function<\mbox{\hyperlink{classdoris_1_1_status}{Status}}(\mbox{\hyperlink{classdoris_1_1_http_client}{HttpClient}}*)>\&\ callback);}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{comment}{//\ this\ function\ must\ call\ before\ other\ function,}}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{comment}{//\ you\ can\ call\ this\ multiple\ times\ to\ reuse\ this\ object}}
\DoxyCodeLine{00048\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_http_client_a0567e8926e69129348c478a99081a862}{init}}(\textcolor{keyword}{const}\ std::string\&\ url);}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_http_client_a07c9d7ff1e7a2bc4bb4cf09885cbdae4}{set\_method}}(\mbox{\hyperlink{namespacedoris_a4353a75834bb35c4acd80b51434eef59}{HttpMethod}}\ method);}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_http_client_a0cc71e8342f80006717d889acb013550}{set\_basic\_auth}}(\textcolor{keyword}{const}\ std::string\&\ user,\ \textcolor{keyword}{const}\ std::string\&\ passwd)\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ curl\_easy\_setopt(\mbox{\hyperlink{classdoris_1_1_http_client_aaaf5fea827cffc9b0d21ab6d9f328a38}{\_curl}},\ CURLOPT\_HTTPAUTH,\ CURLAUTH\_BASIC);}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ curl\_easy\_setopt(\mbox{\hyperlink{classdoris_1_1_http_client_aaaf5fea827cffc9b0d21ab6d9f328a38}{\_curl}},\ CURLOPT\_USERNAME,\ user.c\_str());}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ curl\_easy\_setopt(\mbox{\hyperlink{classdoris_1_1_http_client_aaaf5fea827cffc9b0d21ab6d9f328a38}{\_curl}},\ CURLOPT\_PASSWORD,\ passwd.c\_str());}
\DoxyCodeLine{00056\ \ \ \ \ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{comment}{//\ content\_type\ such\ as\ "{}application/json"{}}}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_http_client_aee0caf720aa53161d452a9890587cab6}{set\_content\_type}}(\textcolor{keyword}{const}\ std::string\ content\_type)\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ std::string\ scratch\_str\ =\ \textcolor{stringliteral}{"{}Content-\/Type:\ "{}}\ +\ content\_type;}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_http_client_a0bdcdd38f1a4faa59e6a90cefe6e2f04}{\_header\_list}}\ =\ curl\_slist\_append(\mbox{\hyperlink{classdoris_1_1_http_client_a0bdcdd38f1a4faa59e6a90cefe6e2f04}{\_header\_list}},\ scratch\_str.c\_str());}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ curl\_easy\_setopt(\mbox{\hyperlink{classdoris_1_1_http_client_aaaf5fea827cffc9b0d21ab6d9f328a38}{\_curl}},\ CURLOPT\_HTTPHEADER,\ \mbox{\hyperlink{classdoris_1_1_http_client_a0bdcdd38f1a4faa59e6a90cefe6e2f04}{\_header\_list}});}
\DoxyCodeLine{00063\ \ \ \ \ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_http_client_ab33d66c29d6993eefbeace8f0808e544}{set\_payload}}(\textcolor{keyword}{const}\ std::string\&\ post\_body)\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ curl\_easy\_setopt(\mbox{\hyperlink{classdoris_1_1_http_client_aaaf5fea827cffc9b0d21ab6d9f328a38}{\_curl}},\ CURLOPT\_POSTFIELDSIZE,\ (\textcolor{keywordtype}{long})post\_body.length());}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ curl\_easy\_setopt(\mbox{\hyperlink{classdoris_1_1_http_client_aaaf5fea827cffc9b0d21ab6d9f328a38}{\_curl}},\ CURLOPT\_COPYPOSTFIELDS,\ post\_body.c\_str());}
\DoxyCodeLine{00068\ \ \ \ \ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{//\ Currently,\ only\ fake\ SSL\ configurations\ are\ supported}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_http_client_a37135e3eb8d75e8c89ae69af3a17e76c}{use\_untrusted\_ssl}}()\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ curl\_easy\_setopt(\mbox{\hyperlink{classdoris_1_1_http_client_aaaf5fea827cffc9b0d21ab6d9f328a38}{\_curl}},\ CURLOPT\_SSL\_VERIFYPEER,\ 0L);}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ curl\_easy\_setopt(\mbox{\hyperlink{classdoris_1_1_http_client_aaaf5fea827cffc9b0d21ab6d9f328a38}{\_curl}},\ CURLOPT\_SSL\_VERIFYHOST,\ 0L);}
\DoxyCodeLine{00074\ \ \ \ \ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{comment}{//\ TODO(zc):\ support\ set\ header}}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{comment}{//\ void\ set\_header(const\ std::string\&\ key,\ const\ std::string\&\ value)\ \{}}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{comment}{//\ \_cntl.http\_request().SetHeader(key,\ value);}}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{comment}{//\ \}}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1_http_client_adc053878b886d28fbaa645418e75b627}{get\_response\_content\_type}}()\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}*\ ct\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ code\ =\ curl\_easy\_getinfo(\mbox{\hyperlink{classdoris_1_1_http_client_aaaf5fea827cffc9b0d21ab6d9f328a38}{\_curl}},\ CURLINFO\_CONTENT\_TYPE,\ \&ct);}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (code\ ==\ CURLE\_OK\ \&\&\ ct\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ct;}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::string();}
\DoxyCodeLine{00088\ \ \ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ long\ gohead\ parameter\ to\ 1L\ to\ continue\ send\ authentication\ (user+password)}}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{comment}{//\ credentials\ when\ following\ locations,\ even\ when\ hostname\ changed.}}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_http_client_a171cd00b2eb2fc4b98832b997ed6bde5}{set\_unrestricted\_auth}}(\textcolor{keywordtype}{int}\ gohead)\ \{}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ curl\_easy\_setopt(\mbox{\hyperlink{classdoris_1_1_http_client_aaaf5fea827cffc9b0d21ab6d9f328a38}{\_curl}},\ CURLOPT\_UNRESTRICTED\_AUTH,\ gohead);}
\DoxyCodeLine{00094\ \ \ \ \ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1_http_client_a8cf7c7f5f71bb71348d18fa421151379}{set\_timeout\_ms}}(int64\_t\ timeout\_ms)\ \{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ curl\_easy\_setopt(\mbox{\hyperlink{classdoris_1_1_http_client_aaaf5fea827cffc9b0d21ab6d9f328a38}{\_curl}},\ CURLOPT\_TIMEOUT\_MS,\ timeout\_ms);}
\DoxyCodeLine{00098\ \ \ \ \ \}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{comment}{//\ used\ to\ get\ content\ length}}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{comment}{//\ return\ -\/1\ as\ error}}
\DoxyCodeLine{00102\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_http_client_a4d370e9bd491959527aef0a3b93c3c71}{get\_content\_length}}(uint64\_t*\ length)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ curl\_off\_t\ cl;}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ code\ =\ curl\_easy\_getinfo(\mbox{\hyperlink{classdoris_1_1_http_client_aaaf5fea827cffc9b0d21ab6d9f328a38}{\_curl}},\ CURLINFO\_CONTENT\_LENGTH\_DOWNLOAD\_T,\ \&cl);}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!code)\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ *length\ =\ cl;}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_status_a6ec1a217f203269ab53d2290d602db24}{Status::OK}}();}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Status::InternalError(\textcolor{stringliteral}{"{}failed\ to\ get\ content\ length.\ err\ code:\ \{\}"{}},\ code);}
\DoxyCodeLine{00110\ \ \ \ \ \}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{classdoris_1_1_http_client_a4b3e34a6c4ef3a2b7d7e896ea1bf3770}{get\_http\_status}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ code;}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ curl\_easy\_getinfo(\mbox{\hyperlink{classdoris_1_1_http_client_aaaf5fea827cffc9b0d21ab6d9f328a38}{\_curl}},\ CURLINFO\_RESPONSE\_CODE,\ \&code);}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ code;}
\DoxyCodeLine{00116\ \ \ \ \ \}}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{comment}{//\ execute\ a\ head\ method}}
\DoxyCodeLine{00119\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_http_client_a7956f373127fe8169242a0a97918e27d}{head}}()\ \{}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_http_client_a07c9d7ff1e7a2bc4bb4cf09885cbdae4}{set\_method}}(\mbox{\hyperlink{namespacedoris_a4353a75834bb35c4acd80b51434eef59a0b0955668575b21eb0ab2272aef49f76}{HEAD}});}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdoris_1_1_http_client_aafc2096c28ffde7015ed37433cb2b0a5}{execute}}();}
\DoxyCodeLine{00122\ \ \ \ \ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{comment}{//\ helper\ function\ to\ download\ a\ file,\ you\ can\ call\ this\ function\ to\ download}}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{comment}{//\ a\ file\ to\ local\_path}}
\DoxyCodeLine{00126\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_http_client_a74f008bc08c0f9cb07460ebd47b18811}{download}}(\textcolor{keyword}{const}\ std::string\&\ local\_path);}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_http_client_aa334e2c4d296dd94a525c55bde46ae5f}{execute\_post\_request}}(\textcolor{keyword}{const}\ std::string\&\ payload,\ std::string*\ response);}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_http_client_a954aad0243fa00c0fdd0ec0de45344a9}{execute\_delete\_request}}(\textcolor{keyword}{const}\ std::string\&\ payload,\ std::string*\ response);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{comment}{//\ execute\ a\ simple\ method,\ and\ its\ response\ is\ saved\ in\ response\ argument}}
\DoxyCodeLine{00133\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_http_client_aafc2096c28ffde7015ed37433cb2b0a5}{execute}}(std::string*\ response);}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{comment}{//\ execute\ remote\ call\ action}}
\DoxyCodeLine{00136\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1_http_client_aafc2096c28ffde7015ed37433cb2b0a5}{execute}}(\textcolor{keyword}{const}\ std::function<\textcolor{keywordtype}{bool}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}},\ \textcolor{keywordtype}{size\_t}\ length)>\&\ callback\ =\ \{\});}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1_http_client_ae144f6687577c00227691dcc90829eba}{on\_response\_data}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}},\ \textcolor{keywordtype}{size\_t}\ length);}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classdoris_1_1_http_client_ac59bd718a8c86df3a87c757b5c8a97a0}{\_to\_errmsg}}(CURLcode\ code);}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00144\ \ \ \ \ CURL*\ \mbox{\hyperlink{classdoris_1_1_http_client_aaaf5fea827cffc9b0d21ab6d9f328a38}{\_curl}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classdoris_1_1_http_client_a5bf0357b0e8f6d7296749e73a8cfcd31}{HttpCallback}}\ =\ std::function<bool(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{uint24_8h_aa99be7b8b4274b2256b394ea7bf80762}{data}},\ \textcolor{keywordtype}{size\_t}\ length)>;}
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_http_client_a5bf0357b0e8f6d7296749e73a8cfcd31}{HttpCallback}}*\ \mbox{\hyperlink{classdoris_1_1_http_client_aefa2428d0709c68b1b0019d9e42cb8ed}{\_callback}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{classdoris_1_1_http_client_ad790717c7f494e9819896b1dbe09cd4e}{\_error\_buf}}[CURL\_ERROR\_SIZE];}
\DoxyCodeLine{00148\ \ \ \ \ curl\_slist*\ \mbox{\hyperlink{classdoris_1_1_http_client_a0bdcdd38f1a4faa59e6a90cefe6e2f04}{\_header\_list}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00149\ \};}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \}\ \textcolor{comment}{//\ namespace\ doris}}

\end{DoxyCode}
