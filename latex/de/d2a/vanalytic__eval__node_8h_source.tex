\hypertarget{vanalytic__eval__node_8h_source}{}\doxysection{vanalytic\+\_\+eval\+\_\+node.\+h}
\label{vanalytic__eval__node_8h_source}\index{/Users/dabowang/be\_all/vec/exec/vanalytic\_eval\_node.h@{/Users/dabowang/be\_all/vec/exec/vanalytic\_eval\_node.h}}
\mbox{\hyperlink{vanalytic__eval__node_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Licensed\ to\ the\ Apache\ Software\ Foundation\ (ASF)\ under\ one}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ or\ more\ contributor\ license\ agreements.\ \ See\ the\ NOTICE\ file}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ distributed\ with\ this\ work\ for\ additional\ information}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ regarding\ copyright\ ownership.\ \ The\ ASF\ licenses\ this\ file}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ to\ you\ under\ the\ Apache\ License,\ Version\ 2.0\ (the}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ "{}License"{});\ you\ may\ not\ use\ this\ file\ except\ in\ compliance}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ with\ the\ License.\ \ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{//}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ software\ distributed\ under\ the\ License\ is\ distributed\ on\ an}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ "{}AS\ IS"{}\ BASIS,\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ KIND,\ either\ express\ or\ implied.\ \ See\ the\ License\ for\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ specific\ language\ governing\ permissions\ and\ limitations}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ under\ the\ License.}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <thrift/protocol/TDebugProtocol.h>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <atomic>}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{exec__node_8h}{exec/exec\_node.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{arena_8h}{vec/common/arena.h}}"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{block_8h}{vec/core/block.h}}"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{vectorized__agg__fn_8h}{vec/exprs/vectorized\_agg\_fn.h}}"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{vexpr__context_8h}{vec/exprs/vexpr\_context.h}}"{}}}
\DoxyCodeLine{00030\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedoris_1_1vectorized}{doris::vectorized}}\ \{}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos}{BlockRowPos}}\ \{}
\DoxyCodeLine{00033\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos_a2b22483c261a61bc3a850fc47289d5ca}{BlockRowPos}}()\ :\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos_ad0047ed6d163256d5d2db3d5b355f162}{block\_num}}(0),\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos_a74e1f818e2f738f73313d35fa6071ded}{row\_num}}(0),\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos_a3a1bbcb80d6aba4220ac521bd4929f83}{pos}}(0)\ \{\}}
\DoxyCodeLine{00034\ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos_ad0047ed6d163256d5d2db3d5b355f162}{block\_num}};\ \textcolor{comment}{//the\ pos\ at\ which\ block}}
\DoxyCodeLine{00035\ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos_a74e1f818e2f738f73313d35fa6071ded}{row\_num}};\ \ \ \textcolor{comment}{//the\ pos\ at\ which\ row}}
\DoxyCodeLine{00036\ \ \ \ \ int64\_t\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos_a3a1bbcb80d6aba4220ac521bd4929f83}{pos}};\ \ \ \ \ \ \ \textcolor{comment}{//pos\ =\ all\ blocks\ size\ +\ row\_num}}
\DoxyCodeLine{00037\ \ \ \ \ std::string\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos_a4dcb28d0641b6d37aef23c662ec11908}{debug\_string}}()\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ std::string\ res\ =\ \textcolor{stringliteral}{"{}\(\backslash\)t\ block\_num:\ "{}};}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ res\ +=\ std::to\_string(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos_ad0047ed6d163256d5d2db3d5b355f162}{block\_num}});}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ res\ +=\ \textcolor{stringliteral}{"{}\(\backslash\)t\ row\_num:\ "{}};}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ res\ +=\ std::to\_string(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos_a74e1f818e2f738f73313d35fa6071ded}{row\_num}});}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ res\ +=\ \textcolor{stringliteral}{"{}\(\backslash\)t\ pos:\ "{}};}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ res\ +=\ std::to\_string(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos_a3a1bbcb80d6aba4220ac521bd4929f83}{pos}});}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00045\ \ \ \ \ \}}
\DoxyCodeLine{00046\ \};}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{keyword}{class\ }AggFnEvaluator;}
\DoxyCodeLine{00049\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node}{VAnalyticEvalNode}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdoris_1_1_exec_node}{ExecNode}}\ \{}
\DoxyCodeLine{00050\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00051\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a3edcd431e5c2b4c41de0607a8bfac09a}{\string~VAnalyticEvalNode}}()\ \textcolor{keyword}{override}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node}{VAnalyticEvalNode}}(\mbox{\hyperlink{classdoris_1_1_object_pool}{ObjectPool}}*\ pool,\ \textcolor{keyword}{const}\ TPlanNode\&\ tnode,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdoris_1_1_descriptor_tbl}{DescriptorTbl}}\&\ descs);}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a1be6bfdf0749477f7f8da2a1e8212143}{init}}(\textcolor{keyword}{const}\ TPlanNode\&\ tnode,\ \mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ state\ =\ \textcolor{keyword}{nullptr})\ \textcolor{keyword}{override};}
\DoxyCodeLine{00055\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_aa1a9d3c8096a7d5dc7ae0b91b62b7e34}{prepare}}(\mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ state)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a019f7d127e3f74f7fea421a226699777}{open}}(\mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ state)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00057\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_ab2daaaf8f56f1ccb03a4734289dfca53}{get\_next}}(\mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ state,\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{vectorized::Block}}*\ block,\ \textcolor{keywordtype}{bool}*\ eos)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a94e154ac4fd84ce32f92eb5dfac932d8}{close}}(\mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ state)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a4563a8abb973cbbc4904c263665bb0fe}{alloc\_resource}}(\mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ state)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a2313d4299d3fa11834e3516fb942c8cf}{release\_resource}}(\mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ state)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00061\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a4fd8140a4b2e55ee5dc623e3e77348ec}{sink}}(\mbox{\hyperlink{classdoris_1_1_runtime_state}{doris::RuntimeState}}*\ state,\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{vectorized::Block}}*\ input\_block,\ \textcolor{keywordtype}{bool}\ eos)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00062\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_afb18b53d531628e3ab7cc9df11a981dd}{pull}}(\mbox{\hyperlink{classdoris_1_1_runtime_state}{doris::RuntimeState}}*\ state,\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{vectorized::Block}}*\ output\_block,\ \textcolor{keywordtype}{bool}*\ eos)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a560bf4706cb011978186669ed4ad8d68}{can\_read}}();}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_ad5d5463ecab1b181bfea07cc5ddf4ac7}{can\_write}}();}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classdoris_1_1_exec_node_ae21c3e223fb1aec0439964d01e5e0282}{ExecNode::debug\_string}};}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keyword}{virtual}\ std::string\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a4dcb28d0641b6d37aef23c662ec11908}{debug\_string}}();}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00071\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_adcddb68b29f67b7d10135af2bd577ccc}{\_get\_next\_for\_rows}}(\textcolor{keywordtype}{size\_t}\ rows);}
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a5907be08508ba566df7f1130dade20ec}{\_get\_next\_for\_range}}(\textcolor{keywordtype}{size\_t}\ rows);}
\DoxyCodeLine{00073\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a7e7795f89dda0b27e59b01f81e4ab0ab}{\_get\_next\_for\_partition}}(\textcolor{keywordtype}{size\_t}\ rows);}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_ac1f68a3b04f8b54b664f1350440d0f98}{\_execute\_for\_win\_func}}(int64\_t\ partition\_start,\ int64\_t\ partition\_end,\ int64\_t\ frame\_start,}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ int64\_t\ frame\_end);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a5369d7f57a914613a200bdb028bacff4}{\_reset\_agg\_status}}();}
\DoxyCodeLine{00079\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_ac00c2a041bb02331cf8011098f61c0fe}{\_init\_result\_columns}}();}
\DoxyCodeLine{00080\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_acff6f4c3dbc3730770c5a3fe06e54cef}{\_create\_agg\_status}}();}
\DoxyCodeLine{00081\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a18eb6d6338d9394372e307052b72cef9}{\_destroy\_agg\_status}}();}
\DoxyCodeLine{00082\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a347303c48f9e9580c3b8d67ae7aefa50}{\_insert\_range\_column}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{vectorized::Block}}*\ block,\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_expr_context}{VExprContext}}*\ expr,\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_i_column}{IColumn}}*\ dst\_column,}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ length);}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a96f894f16ceebbf4f4d38ade81a5afed}{\_update\_order\_by\_range}}();}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a984ce9547916f1cb820c920965acca66}{\_init\_next\_partition}}(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos}{BlockRowPos}}\ found\_partition\_end);}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_ac496c092cfa7a3bddd053acffdc2d154}{\_insert\_result\_info}}(int64\_t\ current\_block\_rows);}
\DoxyCodeLine{00088\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a52205fde9129cd3c67fe65b386f11c4c}{\_output\_current\_block}}(\mbox{\hyperlink{classdoris_1_1vectorized_1_1_block}{Block}}*\ block);}
\DoxyCodeLine{00089\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos}{BlockRowPos}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a185586e88f66e1b38ab6122eb951e733}{\_get\_partition\_by\_end}}();}
\DoxyCodeLine{00090\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos}{BlockRowPos}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a64dd35e98fb6ea254be6efa8bf13943d}{\_compare\_row\_to\_find\_end}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{rowset__tree_8cpp_ae40354a1051342eb5a9db005715dcfa9}{idx}},\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos}{BlockRowPos}}\ start,\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos}{BlockRowPos}}\ end,}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ need\_check\_first\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a45d741b1d8b1bfa65491fa1989a0f8b7}{\_fetch\_next\_block\_data}}(\mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ state);}
\DoxyCodeLine{00094\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_status}{Status}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a0b49aea2cd0178175ac2ad6621423baf}{\_consumed\_block\_and\_init\_partition}}(\mbox{\hyperlink{classdoris_1_1_runtime_state}{RuntimeState}}*\ state,\ \textcolor{keywordtype}{bool}*\ next\_partition,\ \textcolor{keywordtype}{bool}*\ eos);}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a68b6730a1ad86ad0adc2c16b38ee76a8}{whether\_need\_next\_partition}}(\mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos}{BlockRowPos}}\ found\_partition\_end);}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ std::string\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_ae25d9ca5de5b1b877f06abf0e8828472}{debug\_window\_bound\_string}}(TAnalyticWindowBoundary\ b);}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a8fa88cfdcc7857b9ff797cc1ff496e6e}{vectorized\_execute}}\ =\ std::function<void(int64\_t\ peer\_group\_start,\ int64\_t\ peer\_group\_end,}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ int64\_t\ frame\_start,\ int64\_t\ frame\_end)>;}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_aa500ef0263e5b2c29c4ab7156f4fda52}{vectorized\_get\_next}}\ =\ std::function<\mbox{\hyperlink{classdoris_1_1_status}{Status}}(\textcolor{keywordtype}{size\_t}\ rows)>;}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a574e6c53264edd9c123becdd380eded1}{vectorized\_get\_result}}\ =\ std::function<void(int64\_t\ current\_block\_rows)>;}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a0ef06e2b6575203ce4cbe6ea62097e9b}{vectorized\_closer}}\ =\ std::function<void()>;}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdoris_1_1vectorized_1_1_v_analytic_eval_node_1_1executor}{executor}}\ \{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a8fa88cfdcc7857b9ff797cc1ff496e6e}{vectorized\_execute}}\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_v_analytic_eval_node_1_1executor_af0ea04be058062910108e3e77e2d2971}{execute}};}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_aa500ef0263e5b2c29c4ab7156f4fda52}{vectorized\_get\_next}}\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_v_analytic_eval_node_1_1executor_a2e609a53cee1bbad94796c6bdeb0abeb}{get\_next}};}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a574e6c53264edd9c123becdd380eded1}{vectorized\_get\_result}}\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_v_analytic_eval_node_1_1executor_a37fc47e0097a61d4b46ee0bfbc6545bc}{insert\_result}};}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a0ef06e2b6575203ce4cbe6ea62097e9b}{vectorized\_closer}}\ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_v_analytic_eval_node_1_1executor_a770ebf17b53b20c69adf5e3d6ade0f0d}{close}};}
\DoxyCodeLine{00109\ \ \ \ \ \};}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_v_analytic_eval_node_1_1executor}{executor}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a76d478e08709d8135270b32d4ceff847}{\_executor}};}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a245b5be18a877b191a3a531a80270e08}{\_release\_mem}}();}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a1d95e7475e72f1680655108cf8876588}{AnalyticFnScope}}\ \{\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a1d95e7475e72f1680655108cf8876588ac7db78a17d69bcd5f7f6d8a841b57c31}{PARTITION}},\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a1d95e7475e72f1680655108cf8876588a36ccd76c516f51bf87c02b44305284ca}{RANGE}},\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a1d95e7475e72f1680655108cf8876588a1e6722abe838b2aa003377bf9d24ad3f}{ROWS}}\ \};}
\DoxyCodeLine{00117\ \ \ \ \ std::vector<Block>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a812d7bdeab0ccf1fcebf409feaea0b52}{\_input\_blocks}};}
\DoxyCodeLine{00118\ \ \ \ \ std::vector<int64\_t>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a05edd0171a70bb38f0b0f3fde9c191b4}{input\_block\_first\_row\_positions}};}
\DoxyCodeLine{00119\ \ \ \ \ std::vector<AggFnEvaluator*>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_ad0be7ce650936874a27f9089c1afe4a8}{\_agg\_functions}};}
\DoxyCodeLine{00120\ \ \ \ \ std::vector<std::vector<VExprContext*>>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_aa3fe6b2ab021d856b1de56f350cd4e82}{\_agg\_expr\_ctxs}};}
\DoxyCodeLine{00121\ \ \ \ \ std::vector<VExprContext*>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a8d8a1997de6b818697ba94d7beb7c372}{\_partition\_by\_eq\_expr\_ctxs}};}
\DoxyCodeLine{00122\ \ \ \ \ std::vector<VExprContext*>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_ab864dbe2de923f1d80816e8074faf6bd}{\_order\_by\_eq\_expr\_ctxs}};}
\DoxyCodeLine{00123\ \ \ \ \ std::vector<std::vector<MutableColumnPtr>>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a0329d3eaa6f51238bdc1009ff87b8af9}{\_agg\_intput\_columns}};}
\DoxyCodeLine{00124\ \ \ \ \ std::vector<MutableColumnPtr>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_ad63d81bbdce3990622180963ae830f8e}{\_result\_window\_columns}};}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos}{BlockRowPos}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_ac36cdd7b3b1c948488015d39647814a3}{\_order\_by\_start}};}
\DoxyCodeLine{00127\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos}{BlockRowPos}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_aa634c353f6b8412534d171f75bd9b198}{\_order\_by\_end}};}
\DoxyCodeLine{00128\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos}{BlockRowPos}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_abbd9da551c7512173fac438c0582db54}{\_partition\_by\_start}};}
\DoxyCodeLine{00129\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos}{BlockRowPos}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_add7b5c131ef63c3c8dc986f5328bd8f1}{\_partition\_by\_end}};}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos}{BlockRowPos}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a93fde82aba5d8e047989021c56f7d705}{\_all\_block\_end}};}
\DoxyCodeLine{00131\ \ \ \ \ std::vector<int64\_t>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a9e245558da24072de6e7128e6c4c357e}{\_ordey\_by\_column\_idxs}};}
\DoxyCodeLine{00132\ \ \ \ \ std::vector<int64\_t>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a6fc2310860824d4e3c81979c9e7edc96}{\_partition\_by\_column\_idxs}};}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a12b840f6a4d7c77d06f78a7c28c0b0fc}{\_input\_eos}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a8646f13c886558583e9576a16fd8d1d6}{\_next\_partition}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00136\ \ \ \ \ std::atomic\_bool\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a8af010871b78b9a7dc1ce976b5dae37e}{\_need\_more\_input}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00137\ \ \ \ \ \mbox{\hyperlink{structdoris_1_1vectorized_1_1_block_row_pos}{BlockRowPos}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a8f80997c8b505b5ad91557985e7b20a5}{\_found\_partition\_end}};}
\DoxyCodeLine{00138\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a16be83bfb8e09c66792e9411d01cdb86}{\_input\_total\_rows}}\ =\ 0;}
\DoxyCodeLine{00139\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a1001d47c894314efc89aa0770f900e68}{\_output\_block\_index}}\ =\ 0;}
\DoxyCodeLine{00140\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_acb21cd155daa1fee9bd58ea757c00e51}{\_window\_end\_position}}\ =\ 0;}
\DoxyCodeLine{00141\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a34d318deae625d4021e45930393b6ba3}{\_current\_row\_position}}\ =\ 0;}
\DoxyCodeLine{00142\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a9d81544e2cb8d5b050b272ffe8c557ed}{\_rows\_start\_offset}}\ =\ 0;}
\DoxyCodeLine{00143\ \ \ \ \ int64\_t\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a22d248cbd5f7f426b0d85b70157ee3b4}{\_rows\_end\_offset}}\ =\ 0;}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_aa7fac4690c571e49a2d1f42a41906c77}{\_agg\_functions\_size}}\ =\ 0;}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00147\ \ \ \ \ std::vector<size\_t>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a57c1244d5c9b2997063219e8971cf444}{\_offsets\_of\_aggregate\_states}};}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_aa8a8e29a1a0d57e19e881bd30abd8d2c}{\_total\_size\_of\_aggregate\_states}}\ =\ 0;}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_ac0da1502a8ef43b5960ddd9b4b5b06aa}{\_align\_aggregate\_states}}\ =\ 1;}
\DoxyCodeLine{00152\ \ \ \ \ std::unique\_ptr<Arena>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a5075fe7bd6269727735f4e34b2cff058}{\_agg\_arena\_pool}};}
\DoxyCodeLine{00153\ \ \ \ \ \mbox{\hyperlink{namespacedoris_1_1vectorized_a9cd6a7a79a0d0dc7caf825e50970c099}{AggregateDataPtr}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a9c96c7ee0ee97891a442e3f5b870ec00}{\_fn\_place\_ptr}};}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \ \ TTupleId\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_ad61766acd9e33aa0c10ab595aee0a612}{\_buffered\_tuple\_id}}\ =\ 0;}
\DoxyCodeLine{00156\ \ \ \ \ \mbox{\hyperlink{namespacedoris_af9761743716a2ef166e2272df9525811}{TupleId}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a99c8e44663b21cdee66740eaad8b0367}{\_intermediate\_tuple\_id}};}
\DoxyCodeLine{00157\ \ \ \ \ \mbox{\hyperlink{namespacedoris_af9761743716a2ef166e2272df9525811}{TupleId}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a2704ef6a1f77ec7741c066df32ebba7d}{\_output\_tuple\_id}};}
\DoxyCodeLine{00158\ \ \ \ \ TAnalyticWindow\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_abf80b926f5c6ef986f02e72c9bad503c}{\_window}};}
\DoxyCodeLine{00159\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a1d95e7475e72f1680655108cf8876588}{AnalyticFnScope}}\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a74a84c0d7a1c98ae42fd460d651fca4a}{\_fn\_scope}};}
\DoxyCodeLine{00160\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_tuple_descriptor}{TupleDescriptor}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_ae7dc0b7a07b2d54094ab9f94210549f5}{\_intermediate\_tuple\_desc}};}
\DoxyCodeLine{00161\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_tuple_descriptor}{TupleDescriptor}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a62d395c0f8d15fe881c71f40c8931b2d}{\_output\_tuple\_desc}};}
\DoxyCodeLine{00162\ \ \ \ \ std::vector<int64\_t>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a239b0e6b1c31e9fbc1673ae7f4d6e2d7}{\_origin\_cols}};}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_counter}{RuntimeProfile::Counter}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a3e7d40565037af204e1e2268e7ae1be7}{\_evaluation\_timer}};}
\DoxyCodeLine{00165\ \ \ \ \ \mbox{\hyperlink{classdoris_1_1_runtime_profile_1_1_high_water_mark_counter}{RuntimeProfile::HighWaterMarkCounter}}*\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a64a04efdc5f5e48b328f957d85f17848}{\_blocks\_memory\_usage}};}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ std::vector<bool>\ \mbox{\hyperlink{classdoris_1_1vectorized_1_1_v_analytic_eval_node_a7e0dfb1dfce58ed884fe9aab4fea2d2d}{\_change\_to\_nullable\_flags}};}
\DoxyCodeLine{00168\ \};}
\DoxyCodeLine{00169\ \}\ \textcolor{comment}{//\ namespace\ doris::vectorized}}

\end{DoxyCode}
