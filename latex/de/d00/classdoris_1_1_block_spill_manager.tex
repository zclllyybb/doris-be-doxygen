\hypertarget{classdoris_1_1_block_spill_manager}{}\doxysection{Block\+Spill\+Manager类 参考}
\label{classdoris_1_1_block_spill_manager}\index{BlockSpillManager@{BlockSpillManager}}


{\ttfamily \#include $<$block\+\_\+spill\+\_\+manager.\+h$>$}

\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdoris_1_1_block_spill_manager_afd7726860a1a208a8f552ba07eb19940}{Block\+Spill\+Manager}} (const std\+::vector$<$ \mbox{\hyperlink{structdoris_1_1_store_path}{Store\+Path}} $>$ \&paths)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_block_spill_manager_a223508714f7b7c2a338265d09a23a25f}{init}} ()
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_block_spill_manager_a15724e8cdbd5136fc0eaa8024049b1f2}{get\+\_\+writer}} (int32\+\_\+t batch\+\_\+size, \mbox{\hyperlink{namespacedoris_1_1vectorized_ab8dec2cecf4bd14d141cfe1277abb912}{vectorized\+::\+Block\+Spill\+Writer\+UPtr}} \&writer, \mbox{\hyperlink{classdoris_1_1_runtime_profile}{Runtime\+Profile}} $\ast$profile)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_block_spill_manager_a425520576dc00dcc31ec2f8f0559a5b5}{get\+\_\+reader}} (int64\+\_\+t stream\+\_\+id, \mbox{\hyperlink{namespacedoris_1_1vectorized_a6bda6783237dd31e37b1eb7162bb682b}{vectorized\+::\+Block\+Spill\+Reader\+UPtr}} \&reader, \mbox{\hyperlink{classdoris_1_1_runtime_profile}{Runtime\+Profile}} $\ast$profile, bool delete\+\_\+after\+\_\+read=true)
\item 
void \mbox{\hyperlink{classdoris_1_1_block_spill_manager_af8f971814e4e2786ef13a49144b72099}{remove}} (int64\+\_\+t streamid\+\_\+)
\item 
void \mbox{\hyperlink{classdoris_1_1_block_spill_manager_aa2cf7bac9d0b77a625c3361cd4768087}{gc}} (int64\+\_\+t max\+\_\+file\+\_\+count)
\end{DoxyCompactItemize}
\doxysubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ \mbox{\hyperlink{structdoris_1_1_store_path}{Store\+Path}} $>$ \mbox{\hyperlink{classdoris_1_1_block_spill_manager_a023a4553bf9c4b0c86a2df9c31707b98}{\+\_\+store\+\_\+paths}}
\item 
std\+::mutex \mbox{\hyperlink{classdoris_1_1_block_spill_manager_abc76da0f3a3ac0b07d43633a1c194418}{lock\+\_\+}}
\item 
int64\+\_\+t \mbox{\hyperlink{classdoris_1_1_block_spill_manager_aae09cc4b65d89b34adc01fe9aff884b6}{id\+\_\+}} = 0
\item 
std\+::unordered\+\_\+map$<$ int64\+\_\+t, std\+::string $>$ \mbox{\hyperlink{classdoris_1_1_block_spill_manager_a83b5c4a081ecb8043ca46f35700fa691}{id\+\_\+to\+\_\+file\+\_\+paths\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{classdoris_1_1_block_spill_manager_afd7726860a1a208a8f552ba07eb19940}\label{classdoris_1_1_block_spill_manager_afd7726860a1a208a8f552ba07eb19940}} 
\index{BlockSpillManager@{BlockSpillManager}!BlockSpillManager@{BlockSpillManager}}
\index{BlockSpillManager@{BlockSpillManager}!BlockSpillManager@{BlockSpillManager}}
\doxysubsubsection{\texorpdfstring{BlockSpillManager()}{BlockSpillManager()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_block_spill_manager}{Block\+Spill\+Manager}} (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{structdoris_1_1_store_path}{Store\+Path}} $>$ \&}]{paths }\end{DoxyParamCaption})}



\doxysubsection{成员函数说明}
\mbox{\Hypertarget{classdoris_1_1_block_spill_manager_a223508714f7b7c2a338265d09a23a25f}\label{classdoris_1_1_block_spill_manager_a223508714f7b7c2a338265d09a23a25f}} 
\index{BlockSpillManager@{BlockSpillManager}!init@{init}}
\index{init@{init}!BlockSpillManager@{BlockSpillManager}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d00/classdoris_1_1_block_spill_manager_a223508714f7b7c2a338265d09a23a25f_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d00/classdoris_1_1_block_spill_manager_a223508714f7b7c2a338265d09a23a25f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_block_spill_manager_a15724e8cdbd5136fc0eaa8024049b1f2}\label{classdoris_1_1_block_spill_manager_a15724e8cdbd5136fc0eaa8024049b1f2}} 
\index{BlockSpillManager@{BlockSpillManager}!get\_writer@{get\_writer}}
\index{get\_writer@{get\_writer}!BlockSpillManager@{BlockSpillManager}}
\doxysubsubsection{\texorpdfstring{get\_writer()}{get\_writer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} get\+\_\+writer (\begin{DoxyParamCaption}\item[{int32\+\_\+t}]{batch\+\_\+size,  }\item[{\mbox{\hyperlink{namespacedoris_1_1vectorized_ab8dec2cecf4bd14d141cfe1277abb912}{vectorized\+::\+Block\+Spill\+Writer\+UPtr}} \&}]{writer,  }\item[{\mbox{\hyperlink{classdoris_1_1_runtime_profile}{Runtime\+Profile}} $\ast$}]{profile }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classdoris_1_1_block_spill_manager_a425520576dc00dcc31ec2f8f0559a5b5}\label{classdoris_1_1_block_spill_manager_a425520576dc00dcc31ec2f8f0559a5b5}} 
\index{BlockSpillManager@{BlockSpillManager}!get\_reader@{get\_reader}}
\index{get\_reader@{get\_reader}!BlockSpillManager@{BlockSpillManager}}
\doxysubsubsection{\texorpdfstring{get\_reader()}{get\_reader()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} get\+\_\+reader (\begin{DoxyParamCaption}\item[{int64\+\_\+t}]{stream\+\_\+id,  }\item[{\mbox{\hyperlink{namespacedoris_1_1vectorized_a6bda6783237dd31e37b1eb7162bb682b}{vectorized\+::\+Block\+Spill\+Reader\+UPtr}} \&}]{reader,  }\item[{\mbox{\hyperlink{classdoris_1_1_runtime_profile}{Runtime\+Profile}} $\ast$}]{profile,  }\item[{bool}]{delete\+\_\+after\+\_\+read = {\ttfamily true} }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classdoris_1_1_block_spill_manager_af8f971814e4e2786ef13a49144b72099}\label{classdoris_1_1_block_spill_manager_af8f971814e4e2786ef13a49144b72099}} 
\index{BlockSpillManager@{BlockSpillManager}!remove@{remove}}
\index{remove@{remove}!BlockSpillManager@{BlockSpillManager}}
\doxysubsubsection{\texorpdfstring{remove()}{remove()}}
{\footnotesize\ttfamily void remove (\begin{DoxyParamCaption}\item[{int64\+\_\+t}]{streamid\+\_\+ }\end{DoxyParamCaption})}

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d00/classdoris_1_1_block_spill_manager_af8f971814e4e2786ef13a49144b72099_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_block_spill_manager_aa2cf7bac9d0b77a625c3361cd4768087}\label{classdoris_1_1_block_spill_manager_aa2cf7bac9d0b77a625c3361cd4768087}} 
\index{BlockSpillManager@{BlockSpillManager}!gc@{gc}}
\index{gc@{gc}!BlockSpillManager@{BlockSpillManager}}
\doxysubsubsection{\texorpdfstring{gc()}{gc()}}
{\footnotesize\ttfamily void gc (\begin{DoxyParamCaption}\item[{int64\+\_\+t}]{max\+\_\+file\+\_\+count }\end{DoxyParamCaption})}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d00/classdoris_1_1_block_spill_manager_aa2cf7bac9d0b77a625c3361cd4768087_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d00/classdoris_1_1_block_spill_manager_aa2cf7bac9d0b77a625c3361cd4768087_icgraph}
\end{center}
\end{figure}


\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{classdoris_1_1_block_spill_manager_a023a4553bf9c4b0c86a2df9c31707b98}\label{classdoris_1_1_block_spill_manager_a023a4553bf9c4b0c86a2df9c31707b98}} 
\index{BlockSpillManager@{BlockSpillManager}!\_store\_paths@{\_store\_paths}}
\index{\_store\_paths@{\_store\_paths}!BlockSpillManager@{BlockSpillManager}}
\doxysubsubsection{\texorpdfstring{\_store\_paths}{\_store\_paths}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{structdoris_1_1_store_path}{Store\+Path}}$>$ \+\_\+store\+\_\+paths\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_block_spill_manager_abc76da0f3a3ac0b07d43633a1c194418}\label{classdoris_1_1_block_spill_manager_abc76da0f3a3ac0b07d43633a1c194418}} 
\index{BlockSpillManager@{BlockSpillManager}!lock\_@{lock\_}}
\index{lock\_@{lock\_}!BlockSpillManager@{BlockSpillManager}}
\doxysubsubsection{\texorpdfstring{lock\_}{lock\_}}
{\footnotesize\ttfamily std\+::mutex lock\+\_\+\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_block_spill_manager_aae09cc4b65d89b34adc01fe9aff884b6}\label{classdoris_1_1_block_spill_manager_aae09cc4b65d89b34adc01fe9aff884b6}} 
\index{BlockSpillManager@{BlockSpillManager}!id\_@{id\_}}
\index{id\_@{id\_}!BlockSpillManager@{BlockSpillManager}}
\doxysubsubsection{\texorpdfstring{id\_}{id\_}}
{\footnotesize\ttfamily int64\+\_\+t id\+\_\+ = 0\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_block_spill_manager_a83b5c4a081ecb8043ca46f35700fa691}\label{classdoris_1_1_block_spill_manager_a83b5c4a081ecb8043ca46f35700fa691}} 
\index{BlockSpillManager@{BlockSpillManager}!id\_to\_file\_paths\_@{id\_to\_file\_paths\_}}
\index{id\_to\_file\_paths\_@{id\_to\_file\_paths\_}!BlockSpillManager@{BlockSpillManager}}
\doxysubsubsection{\texorpdfstring{id\_to\_file\_paths\_}{id\_to\_file\_paths\_}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$int64\+\_\+t, std\+::string$>$ id\+\_\+to\+\_\+file\+\_\+paths\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/be\+\_\+all/runtime/\mbox{\hyperlink{block__spill__manager_8h}{block\+\_\+spill\+\_\+manager.\+h}}\item 
/\+Users/dabowang/be\+\_\+all/runtime/\mbox{\hyperlink{block__spill__manager_8cpp}{block\+\_\+spill\+\_\+manager.\+cpp}}\end{DoxyCompactItemize}
