\hypertarget{classdoris_1_1_engine_clone_task}{}\doxysection{Engine\+Clone\+Task类 参考}
\label{classdoris_1_1_engine_clone_task}\index{EngineCloneTask@{EngineCloneTask}}


{\ttfamily \#include $<$engine\+\_\+clone\+\_\+task.\+h$>$}



类 Engine\+Clone\+Task 继承关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=173pt]{d0/daf/classdoris_1_1_engine_clone_task__inherit__graph}
\end{center}
\end{figure}


Engine\+Clone\+Task 的协作图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=291pt]{df/d53/classdoris_1_1_engine_clone_task__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_engine_clone_task_a288fb86e2f2bfd41128d4766a01cebad}{execute}} ()
\item 
\mbox{\hyperlink{classdoris_1_1_engine_clone_task_ae017ae1bf89a91d5e506b6374ef9405a}{Engine\+Clone\+Task}} (const TClone\+Req \&clone\+\_\+req, const TMaster\+Info \&master\+\_\+info, int64\+\_\+t signature, vector$<$ TTablet\+Info $>$ $\ast$tablet\+\_\+infos)
\item 
\mbox{\hyperlink{classdoris_1_1_engine_clone_task_a20274d14f75bab5a7446e7b5cf86a1b3}{$\sim$\+Engine\+Clone\+Task}} ()
\item 
virtual \mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_engine_task_a2d2e104cd8ea9144c6d50348ca043048}{finish}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_engine_clone_task_ad62d5a677bae76abee7b6a94a9b62a94}{\+\_\+do\+\_\+clone}} ()
\item 
virtual \mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_engine_clone_task_a45c8f85aa90be154bfc89446633bc865}{\+\_\+finish\+\_\+clone}} (\mbox{\hyperlink{classdoris_1_1_tablet}{Tablet}} $\ast$tablet, const std\+::string \&clone\+\_\+dir, int64\+\_\+t committed\+\_\+version, bool is\+\_\+incremental\+\_\+clone)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_engine_clone_task_a12f22660ae9c6ffd2c3c4a93be3d2730}{\+\_\+finish\+\_\+incremental\+\_\+clone}} (\mbox{\hyperlink{classdoris_1_1_tablet}{Tablet}} $\ast$tablet, const \mbox{\hyperlink{classdoris_1_1_tablet_meta}{Tablet\+Meta}} \&cloned\+\_\+tablet\+\_\+meta, int64\+\_\+t committed\+\_\+version)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_engine_clone_task_aae9c8d58dfba94d9851c312a9805e002}{\+\_\+finish\+\_\+full\+\_\+clone}} (\mbox{\hyperlink{classdoris_1_1_tablet}{Tablet}} $\ast$tablet, \mbox{\hyperlink{classdoris_1_1_tablet_meta}{Tablet\+Meta}} $\ast$cloned\+\_\+tablet\+\_\+meta)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_engine_clone_task_a8119328099f87bea23d87bcff75acd7e}{\+\_\+make\+\_\+and\+\_\+download\+\_\+snapshots}} (\mbox{\hyperlink{classdoris_1_1_data_dir}{Data\+Dir}} \&data\+\_\+dir, const std\+::string \&local\+\_\+data\+\_\+path, TBackend $\ast$src\+\_\+host, string $\ast$src\+\_\+file\+\_\+path, const vector$<$ \mbox{\hyperlink{structdoris_1_1_version}{Version}} $>$ \&missing\+\_\+versions, bool $\ast$allow\+\_\+incremental\+\_\+clone)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_engine_clone_task_aa9e78b5711462c603ed6804bfc291876}{\+\_\+set\+\_\+tablet\+\_\+info}} (bool is\+\_\+new\+\_\+tablet)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_engine_clone_task_a87026a83477d8865b28dd9e42bdeaf09}{\+\_\+download\+\_\+files}} (\mbox{\hyperlink{classdoris_1_1_data_dir}{Data\+Dir}} $\ast$data\+\_\+dir, const std\+::string \&remote\+\_\+url\+\_\+prefix, const std\+::string \&local\+\_\+path)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_engine_clone_task_abb73069cdb0683dec5004f740c645123}{\+\_\+make\+\_\+snapshot}} (const std\+::string \&ip, int port, TTable\+Id tablet\+\_\+id, TSchema\+Hash schema\+\_\+hash, int timeout\+\_\+s, const std\+::vector$<$ \mbox{\hyperlink{structdoris_1_1_version}{Version}} $>$ \&missing\+\_\+versions, std\+::string $\ast$snapshot\+\_\+path, bool $\ast$allow\+\_\+incremental\+\_\+clone)
\item 
\mbox{\hyperlink{classdoris_1_1_status}{Status}} \mbox{\hyperlink{classdoris_1_1_engine_clone_task_ab9c98a5cb5aacb3a11e33ef4733517a3}{\+\_\+release\+\_\+snapshot}} (const std\+::string \&ip, int port, const std\+::string \&snapshot\+\_\+path)
\end{DoxyCompactItemize}
\doxysubsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
const TClone\+Req \& \mbox{\hyperlink{classdoris_1_1_engine_clone_task_a6eb5a260a44885922c8bacecdc68c0b7}{\+\_\+clone\+\_\+req}}
\item 
vector$<$ TTablet\+Info $>$ $\ast$ \mbox{\hyperlink{classdoris_1_1_engine_clone_task_afecf780a552fb5ae8c722597405821df}{\+\_\+tablet\+\_\+infos}}
\item 
int64\+\_\+t \mbox{\hyperlink{classdoris_1_1_engine_clone_task_a5038fdf10f8ecff4da681a5d47d307fd}{\+\_\+signature}}
\item 
const TMaster\+Info \& \mbox{\hyperlink{classdoris_1_1_engine_clone_task_ad3267e4b7df922e3d05dfd5000784975}{\+\_\+master\+\_\+info}}
\item 
int64\+\_\+t \mbox{\hyperlink{classdoris_1_1_engine_clone_task_aec1f13cdcbdf7f7ff425740d7ed1ff7e}{\+\_\+copy\+\_\+size}}
\item 
int64\+\_\+t \mbox{\hyperlink{classdoris_1_1_engine_clone_task_adfbd2a4ff86b460e4be363c69969e3bd}{\+\_\+copy\+\_\+time\+\_\+ms}}
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classdoris_1_1_mem_tracker_limiter}{Mem\+Tracker\+Limiter}} $>$ \mbox{\hyperlink{classdoris_1_1_engine_clone_task_aa601e0007c2dc34726d6f27555b5044d}{\+\_\+mem\+\_\+tracker}}
\end{DoxyCompactItemize}


\doxysubsection{构造及析构函数说明}
\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_ae017ae1bf89a91d5e506b6374ef9405a}\label{classdoris_1_1_engine_clone_task_ae017ae1bf89a91d5e506b6374ef9405a}} 
\index{EngineCloneTask@{EngineCloneTask}!EngineCloneTask@{EngineCloneTask}}
\index{EngineCloneTask@{EngineCloneTask}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{EngineCloneTask()}{EngineCloneTask()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_engine_clone_task}{Engine\+Clone\+Task}} (\begin{DoxyParamCaption}\item[{const TClone\+Req \&}]{clone\+\_\+req,  }\item[{const TMaster\+Info \&}]{master\+\_\+info,  }\item[{int64\+\_\+t}]{signature,  }\item[{vector$<$ TTablet\+Info $>$ $\ast$}]{tablet\+\_\+infos }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_a20274d14f75bab5a7446e7b5cf86a1b3}\label{classdoris_1_1_engine_clone_task_a20274d14f75bab5a7446e7b5cf86a1b3}} 
\index{EngineCloneTask@{EngineCloneTask}!````~EngineCloneTask@{$\sim$EngineCloneTask}}
\index{````~EngineCloneTask@{$\sim$EngineCloneTask}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{$\sim$EngineCloneTask()}{~EngineCloneTask()}}
{\footnotesize\ttfamily $\sim$\mbox{\hyperlink{classdoris_1_1_engine_clone_task}{Engine\+Clone\+Task}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{成员函数说明}
\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_a288fb86e2f2bfd41128d4766a01cebad}\label{classdoris_1_1_engine_clone_task_a288fb86e2f2bfd41128d4766a01cebad}} 
\index{EngineCloneTask@{EngineCloneTask}!execute@{execute}}
\index{execute@{execute}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{execute()}{execute()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} execute (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



重载 \mbox{\hyperlink{classdoris_1_1_engine_task_aa1635822f81e05b63ed7c984baf6c854}{Engine\+Task}} .

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{de/d98/classdoris_1_1_engine_clone_task_a288fb86e2f2bfd41128d4766a01cebad_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_ad62d5a677bae76abee7b6a94a9b62a94}\label{classdoris_1_1_engine_clone_task_ad62d5a677bae76abee7b6a94a9b62a94}} 
\index{EngineCloneTask@{EngineCloneTask}!\_do\_clone@{\_do\_clone}}
\index{\_do\_clone@{\_do\_clone}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_do\_clone()}{\_do\_clone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+do\+\_\+clone (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{de/d98/classdoris_1_1_engine_clone_task_ad62d5a677bae76abee7b6a94a9b62a94_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=228pt]{de/d98/classdoris_1_1_engine_clone_task_ad62d5a677bae76abee7b6a94a9b62a94_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_a45c8f85aa90be154bfc89446633bc865}\label{classdoris_1_1_engine_clone_task_a45c8f85aa90be154bfc89446633bc865}} 
\index{EngineCloneTask@{EngineCloneTask}!\_finish\_clone@{\_finish\_clone}}
\index{\_finish\_clone@{\_finish\_clone}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_finish\_clone()}{\_finish\_clone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+finish\+\_\+clone (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_tablet}{Tablet}} $\ast$}]{tablet,  }\item[{const std\+::string \&}]{clone\+\_\+dir,  }\item[{int64\+\_\+t}]{committed\+\_\+version,  }\item[{bool}]{is\+\_\+incremental\+\_\+clone }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}

This method will only be called if tablet already exist in this BE when doing clone. This method will do the following things\+:
\begin{DoxyEnumerate}
\item Linke all files from CLONE dir to tablet dir if file does not exist in tablet dir
\item Call \+\_\+finish\+\_\+xx\+\_\+clone() to revise the tablet meta. 
\end{DoxyEnumerate}Traverse all downloaded clone files in CLONE dir. If it does not exist in local tablet dir, link the file to local tablet dir And save all linked files in linked\+\_\+success\+\_\+files.函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d98/classdoris_1_1_engine_clone_task_a45c8f85aa90be154bfc89446633bc865_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=338pt]{de/d98/classdoris_1_1_engine_clone_task_a45c8f85aa90be154bfc89446633bc865_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_a12f22660ae9c6ffd2c3c4a93be3d2730}\label{classdoris_1_1_engine_clone_task_a12f22660ae9c6ffd2c3c4a93be3d2730}} 
\index{EngineCloneTask@{EngineCloneTask}!\_finish\_incremental\_clone@{\_finish\_incremental\_clone}}
\index{\_finish\_incremental\_clone@{\_finish\_incremental\_clone}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_finish\_incremental\_clone()}{\_finish\_incremental\_clone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+finish\+\_\+incremental\+\_\+clone (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_tablet}{Tablet}} $\ast$}]{tablet,  }\item[{const \mbox{\hyperlink{classdoris_1_1_tablet_meta}{Tablet\+Meta}} \&}]{cloned\+\_\+tablet\+\_\+meta,  }\item[{int64\+\_\+t}]{committed\+\_\+version }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

This method will do\+:
\begin{DoxyEnumerate}
\item Get missing version from local tablet again and check if they exist in cloned tablet.
\item Revise the local tablet meta to add all incremental cloned rowset\textquotesingle{}s meta. 
\end{DoxyEnumerate}Get missing versions again from local tablet. We got it before outside the lock, so it has to be got again.

clone\+\_\+data to tablet For incremental clone, nothing will be deleted. So versions\+\_\+to\+\_\+delete is empty.函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d98/classdoris_1_1_engine_clone_task_a12f22660ae9c6ffd2c3c4a93be3d2730_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d98/classdoris_1_1_engine_clone_task_a12f22660ae9c6ffd2c3c4a93be3d2730_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_aae9c8d58dfba94d9851c312a9805e002}\label{classdoris_1_1_engine_clone_task_aae9c8d58dfba94d9851c312a9805e002}} 
\index{EngineCloneTask@{EngineCloneTask}!\_finish\_full\_clone@{\_finish\_full\_clone}}
\index{\_finish\_full\_clone@{\_finish\_full\_clone}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_finish\_full\_clone()}{\_finish\_full\_clone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+finish\+\_\+full\+\_\+clone (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_tablet}{Tablet}} $\ast$}]{tablet,  }\item[{\mbox{\hyperlink{classdoris_1_1_tablet_meta}{Tablet\+Meta}} $\ast$}]{cloned\+\_\+tablet\+\_\+meta }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

This method will do\+:
\begin{DoxyEnumerate}
\item Compare the version of local tablet and cloned tablet to decide which version to keep
\item Revise the local tablet meta 
\end{DoxyEnumerate}函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d98/classdoris_1_1_engine_clone_task_aae9c8d58dfba94d9851c312a9805e002_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d98/classdoris_1_1_engine_clone_task_aae9c8d58dfba94d9851c312a9805e002_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_a8119328099f87bea23d87bcff75acd7e}\label{classdoris_1_1_engine_clone_task_a8119328099f87bea23d87bcff75acd7e}} 
\index{EngineCloneTask@{EngineCloneTask}!\_make\_and\_download\_snapshots@{\_make\_and\_download\_snapshots}}
\index{\_make\_and\_download\_snapshots@{\_make\_and\_download\_snapshots}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_make\_and\_download\_snapshots()}{\_make\_and\_download\_snapshots()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+make\+\_\+and\+\_\+download\+\_\+snapshots (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_data_dir}{Data\+Dir}} \&}]{data\+\_\+dir,  }\item[{const std\+::string \&}]{local\+\_\+data\+\_\+path,  }\item[{TBackend $\ast$}]{src\+\_\+host,  }\item[{string $\ast$}]{src\+\_\+file\+\_\+path,  }\item[{const vector$<$ \mbox{\hyperlink{structdoris_1_1_version}{Version}} $>$ \&}]{missing\+\_\+versions,  }\item[{bool $\ast$}]{allow\+\_\+incremental\+\_\+clone }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

This method will do following things\+:
\begin{DoxyEnumerate}
\item Make snapshots on source BE.
\item Download all snapshots to CLONE dir.
\item Convert rowset ids of downloaded snapshots.
\item Release the snapshots on source BE. 
\end{DoxyEnumerate}函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{de/d98/classdoris_1_1_engine_clone_task_a8119328099f87bea23d87bcff75acd7e_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d98/classdoris_1_1_engine_clone_task_a8119328099f87bea23d87bcff75acd7e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_aa9e78b5711462c603ed6804bfc291876}\label{classdoris_1_1_engine_clone_task_aa9e78b5711462c603ed6804bfc291876}} 
\index{EngineCloneTask@{EngineCloneTask}!\_set\_tablet\_info@{\_set\_tablet\_info}}
\index{\_set\_tablet\_info@{\_set\_tablet\_info}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_set\_tablet\_info()}{\_set\_tablet\_info()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+set\+\_\+tablet\+\_\+info (\begin{DoxyParamCaption}\item[{bool}]{is\+\_\+new\+\_\+tablet }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d98/classdoris_1_1_engine_clone_task_aa9e78b5711462c603ed6804bfc291876_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d98/classdoris_1_1_engine_clone_task_aa9e78b5711462c603ed6804bfc291876_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_a87026a83477d8865b28dd9e42bdeaf09}\label{classdoris_1_1_engine_clone_task_a87026a83477d8865b28dd9e42bdeaf09}} 
\index{EngineCloneTask@{EngineCloneTask}!\_download\_files@{\_download\_files}}
\index{\_download\_files@{\_download\_files}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_download\_files()}{\_download\_files()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+download\+\_\+files (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classdoris_1_1_data_dir}{Data\+Dir}} $\ast$}]{data\+\_\+dir,  }\item[{const std\+::string \&}]{remote\+\_\+url\+\_\+prefix,  }\item[{const std\+::string \&}]{local\+\_\+path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d98/classdoris_1_1_engine_clone_task_a87026a83477d8865b28dd9e42bdeaf09_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d98/classdoris_1_1_engine_clone_task_a87026a83477d8865b28dd9e42bdeaf09_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_abb73069cdb0683dec5004f740c645123}\label{classdoris_1_1_engine_clone_task_abb73069cdb0683dec5004f740c645123}} 
\index{EngineCloneTask@{EngineCloneTask}!\_make\_snapshot@{\_make\_snapshot}}
\index{\_make\_snapshot@{\_make\_snapshot}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_make\_snapshot()}{\_make\_snapshot()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+make\+\_\+snapshot (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{ip,  }\item[{int}]{port,  }\item[{TTable\+Id}]{tablet\+\_\+id,  }\item[{TSchema\+Hash}]{schema\+\_\+hash,  }\item[{int}]{timeout\+\_\+s,  }\item[{const std\+::vector$<$ \mbox{\hyperlink{structdoris_1_1_version}{Version}} $>$ \&}]{missing\+\_\+versions,  }\item[{std\+::string $\ast$}]{snapshot\+\_\+path,  }\item[{bool $\ast$}]{allow\+\_\+incremental\+\_\+clone }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d98/classdoris_1_1_engine_clone_task_abb73069cdb0683dec5004f740c645123_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d98/classdoris_1_1_engine_clone_task_abb73069cdb0683dec5004f740c645123_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_ab9c98a5cb5aacb3a11e33ef4733517a3}\label{classdoris_1_1_engine_clone_task_ab9c98a5cb5aacb3a11e33ef4733517a3}} 
\index{EngineCloneTask@{EngineCloneTask}!\_release\_snapshot@{\_release\_snapshot}}
\index{\_release\_snapshot@{\_release\_snapshot}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_release\_snapshot()}{\_release\_snapshot()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classdoris_1_1_status}{Status}} \+\_\+release\+\_\+snapshot (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{ip,  }\item[{int}]{port,  }\item[{const std\+::string \&}]{snapshot\+\_\+path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d98/classdoris_1_1_engine_clone_task_ab9c98a5cb5aacb3a11e33ef4733517a3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classdoris_1_1_engine_task_a2d2e104cd8ea9144c6d50348ca043048}\label{classdoris_1_1_engine_task_a2d2e104cd8ea9144c6d50348ca043048}} 
\index{EngineCloneTask@{EngineCloneTask}!finish@{finish}}
\index{finish@{finish}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{finish()}{finish()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{classdoris_1_1_status}{Status}} finish (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [inherited]}}



被 \mbox{\hyperlink{classdoris_1_1_engine_publish_version_task_ad040292e932cc1c1ff2043dfc48c864d}{Engine\+Publish\+Version\+Task}} 重载.

函数调用图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dd/dba/classdoris_1_1_engine_task_a2d2e104cd8ea9144c6d50348ca043048_cgraph}
\end{center}
\end{figure}
这是这个函数的调用关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dd/dba/classdoris_1_1_engine_task_a2d2e104cd8ea9144c6d50348ca043048_icgraph}
\end{center}
\end{figure}


\doxysubsection{类成员变量说明}
\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_a6eb5a260a44885922c8bacecdc68c0b7}\label{classdoris_1_1_engine_clone_task_a6eb5a260a44885922c8bacecdc68c0b7}} 
\index{EngineCloneTask@{EngineCloneTask}!\_clone\_req@{\_clone\_req}}
\index{\_clone\_req@{\_clone\_req}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_clone\_req}{\_clone\_req}}
{\footnotesize\ttfamily const TClone\+Req\& \+\_\+clone\+\_\+req\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_afecf780a552fb5ae8c722597405821df}\label{classdoris_1_1_engine_clone_task_afecf780a552fb5ae8c722597405821df}} 
\index{EngineCloneTask@{EngineCloneTask}!\_tablet\_infos@{\_tablet\_infos}}
\index{\_tablet\_infos@{\_tablet\_infos}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_tablet\_infos}{\_tablet\_infos}}
{\footnotesize\ttfamily vector$<$TTablet\+Info$>$$\ast$ \+\_\+tablet\+\_\+infos\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_a5038fdf10f8ecff4da681a5d47d307fd}\label{classdoris_1_1_engine_clone_task_a5038fdf10f8ecff4da681a5d47d307fd}} 
\index{EngineCloneTask@{EngineCloneTask}!\_signature@{\_signature}}
\index{\_signature@{\_signature}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_signature}{\_signature}}
{\footnotesize\ttfamily int64\+\_\+t \+\_\+signature\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_ad3267e4b7df922e3d05dfd5000784975}\label{classdoris_1_1_engine_clone_task_ad3267e4b7df922e3d05dfd5000784975}} 
\index{EngineCloneTask@{EngineCloneTask}!\_master\_info@{\_master\_info}}
\index{\_master\_info@{\_master\_info}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_master\_info}{\_master\_info}}
{\footnotesize\ttfamily const TMaster\+Info\& \+\_\+master\+\_\+info\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_aec1f13cdcbdf7f7ff425740d7ed1ff7e}\label{classdoris_1_1_engine_clone_task_aec1f13cdcbdf7f7ff425740d7ed1ff7e}} 
\index{EngineCloneTask@{EngineCloneTask}!\_copy\_size@{\_copy\_size}}
\index{\_copy\_size@{\_copy\_size}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_copy\_size}{\_copy\_size}}
{\footnotesize\ttfamily int64\+\_\+t \+\_\+copy\+\_\+size\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_adfbd2a4ff86b460e4be363c69969e3bd}\label{classdoris_1_1_engine_clone_task_adfbd2a4ff86b460e4be363c69969e3bd}} 
\index{EngineCloneTask@{EngineCloneTask}!\_copy\_time\_ms@{\_copy\_time\_ms}}
\index{\_copy\_time\_ms@{\_copy\_time\_ms}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_copy\_time\_ms}{\_copy\_time\_ms}}
{\footnotesize\ttfamily int64\+\_\+t \+\_\+copy\+\_\+time\+\_\+ms\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classdoris_1_1_engine_clone_task_aa601e0007c2dc34726d6f27555b5044d}\label{classdoris_1_1_engine_clone_task_aa601e0007c2dc34726d6f27555b5044d}} 
\index{EngineCloneTask@{EngineCloneTask}!\_mem\_tracker@{\_mem\_tracker}}
\index{\_mem\_tracker@{\_mem\_tracker}!EngineCloneTask@{EngineCloneTask}}
\doxysubsubsection{\texorpdfstring{\_mem\_tracker}{\_mem\_tracker}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classdoris_1_1_mem_tracker_limiter}{Mem\+Tracker\+Limiter}}$>$ \+\_\+mem\+\_\+tracker\hspace{0.3cm}{\ttfamily [private]}}



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
/\+Users/dabowang/be\+\_\+all/olap/task/\mbox{\hyperlink{engine__clone__task_8h}{engine\+\_\+clone\+\_\+task.\+h}}\item 
/\+Users/dabowang/be\+\_\+all/olap/task/\mbox{\hyperlink{engine__clone__task_8cpp}{engine\+\_\+clone\+\_\+task.\+cpp}}\end{DoxyCompactItemize}
