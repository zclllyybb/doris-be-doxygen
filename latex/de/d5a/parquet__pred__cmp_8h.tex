\hypertarget{parquet__pred__cmp_8h}{}\doxysection{/\+Users/dabowang/be\+\_\+all/vec/exec/format/parquet/parquet\+\_\+pred\+\_\+cmp.h 文件参考}
\label{parquet__pred__cmp_8h}\index{/Users/dabowang/be\_all/vec/exec/format/parquet/parquet\_pred\_cmp.h@{/Users/dabowang/be\_all/vec/exec/format/parquet/parquet\_pred\_cmp.h}}
{\ttfamily \#include $<$cstring$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include \char`\"{}exec/olap\+\_\+common.\+h\char`\"{}}\newline
parquet\+\_\+pred\+\_\+cmp.\+h 的引用(Include)关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d7/d0c/parquet__pred__cmp_8h__incl}
\end{center}
\end{figure}
此图展示该文件直接或间接的被哪些文件引用了\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d69/parquet__pred__cmp_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structdoris_1_1vectorized_1_1_column_min_max_params}{Column\+Min\+Max\+Params}}
\item 
struct \mbox{\hyperlink{structdoris_1_1vectorized_1_1_scan_predicate}{Scan\+Predicate}}
\end{DoxyCompactItemize}
\doxysubsection*{命名空间}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespacedoris}{doris}}
\begin{DoxyCompactList}\small\item\em Utilities for collecting timings. \end{DoxyCompactList}\item 
namespace \mbox{\hyperlink{namespacedoris_1_1vectorized}{doris\+::vectorized}}
\begin{DoxyCompactList}\small\item\em Common helper methods for implementation of different columns. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{宏定义}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{parquet__pred__cmp_8h_add99a9165aff70a314f7e746e2dd6632}{\+\_\+\+PLAIN\+\_\+\+DECODE}}(\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}},  \mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}},  min\+\_\+bytes,  max\+\_\+bytes,  out\+\_\+value,  out\+\_\+min,  out\+\_\+max)
\item 
\#define \mbox{\hyperlink{parquet__pred__cmp_8h_abf93616113200b9dccb0575763e0c0e4}{\+\_\+\+PLAIN\+\_\+\+DECODE\+\_\+\+SINGLE}}(\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}},  \mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}},  bytes,  conjunct\+\_\+value,  out)
\item 
\#define \mbox{\hyperlink{parquet__pred__cmp_8h_a7481993d1f8b38269364fd612f3dab51}{\+\_\+\+FILTER\+\_\+\+GROUP\+\_\+\+BY\+\_\+\+EQ\+\_\+\+PRED}}(conjunct\+\_\+value,  min,  max)
\item 
\#define \mbox{\hyperlink{parquet__pred__cmp_8h_a018b7924bd825ef09488abe3b90fcd81}{\+\_\+\+FILTER\+\_\+\+GROUP\+\_\+\+BY\+\_\+\+IN}}(\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}},  in\+\_\+pred\+\_\+values,  min\+\_\+bytes,  max\+\_\+bytes)
\end{DoxyCompactItemize}
\doxysubsection*{函数}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} $>$ }\\static void \mbox{\hyperlink{namespacedoris_1_1vectorized_af1f032c71e4363eddba27881537054e3}{\+\_\+align\+\_\+decimal\+\_\+v2\+\_\+scale}} (\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} $\ast$conjunct\+\_\+value, int32\+\_\+t value\+\_\+scale, \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} $\ast$parquet\+\_\+value, int32\+\_\+t parquet\+\_\+scale)
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} $>$ }\\static void \mbox{\hyperlink{namespacedoris_1_1vectorized_a4387c62e5babeb2d38d05ec9d89be471}{\+\_\+decode\+\_\+decimal\+\_\+v2\+\_\+to\+\_\+primary}} (const Column\+Min\+Max\+Params \&params, const char $\ast$raw\+\_\+parquet\+\_\+val, \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} $\ast$out\+\_\+value, \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} $\ast$parquet\+\_\+val)
\item 
static bool \mbox{\hyperlink{namespacedoris_1_1vectorized_a2a8f89aea69d001e1337eed55e3147e2}{\+\_\+eval\+\_\+in\+\_\+val}} (const Column\+Min\+Max\+Params \&params)
\item 
static bool \mbox{\hyperlink{namespacedoris_1_1vectorized_a2acb2130e0f4cefa731383d138ca74e0}{\+\_\+eval\+\_\+eq}} (const Column\+Min\+Max\+Params \&params)
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} $>$ }\\static bool \mbox{\hyperlink{namespacedoris_1_1vectorized_ac04fc1daa324b975f19f97deac718455}{\+\_\+filter\+\_\+group\+\_\+by\+\_\+gt\+\_\+or\+\_\+ge}} (\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} conjunct\+\_\+value, \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} max, bool is\+\_\+ge)
\item 
static bool \mbox{\hyperlink{namespacedoris_1_1vectorized_a66af55ad88bf45cdbcd5e39008a80eb0}{\+\_\+eval\+\_\+gt}} (const Column\+Min\+Max\+Params \&params, bool is\+\_\+eq)
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} $>$ }\\static bool \mbox{\hyperlink{namespacedoris_1_1vectorized_ac085b7a73a4f39a211ac258f0218f2dc}{\+\_\+filter\+\_\+group\+\_\+by\+\_\+lt\+\_\+or\+\_\+le}} (\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} conjunct\+\_\+value, \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}} min, bool is\+\_\+le)
\item 
static bool \mbox{\hyperlink{namespacedoris_1_1vectorized_a99c50eba148daecc842bd9020cb73986}{\+\_\+eval\+\_\+lt}} (const Column\+Min\+Max\+Params \&params, bool is\+\_\+eq)
\item 
{\footnotesize template$<$Primitive\+Type primitive\+\_\+type$>$ }\\static void \mbox{\hyperlink{namespacedoris_1_1vectorized_af4c0a03a38bd2c4085e10925514af990}{to\+\_\+filter}} (const Column\+Value\+Range$<$ primitive\+\_\+type $>$ \&col\+\_\+val\+\_\+range, std\+::vector$<$ Scan\+Predicate $>$ \&filters)
\item 
static void \mbox{\hyperlink{namespacedoris_1_1vectorized_a8c499a0d2b80849ef89addbc609e0cc4}{\+\_\+eval\+\_\+predicate}} (const Scan\+Predicate \&filter, Column\+Min\+Max\+Params $\ast$params, bool $\ast$need\+\_\+filter)
\item 
static bool \mbox{\hyperlink{namespacedoris_1_1vectorized_a78d65d9493e6f290ef61c5350a37e8d4}{determine\+\_\+filter\+\_\+min\+\_\+max}} (const Column\+Value\+Range\+Type \&col\+\_\+val\+\_\+range, const Field\+Schema $\ast$col\+\_\+schema, const std\+::string \&encoded\+\_\+min, const std\+::string \&encoded\+\_\+max)
\end{DoxyCompactItemize}


\doxysubsection{宏定义说明}
\mbox{\Hypertarget{parquet__pred__cmp_8h_add99a9165aff70a314f7e746e2dd6632}\label{parquet__pred__cmp_8h_add99a9165aff70a314f7e746e2dd6632}} 
\index{parquet\_pred\_cmp.h@{parquet\_pred\_cmp.h}!\_PLAIN\_DECODE@{\_PLAIN\_DECODE}}
\index{\_PLAIN\_DECODE@{\_PLAIN\_DECODE}!parquet\_pred\_cmp.h@{parquet\_pred\_cmp.h}}
\doxysubsubsection{\texorpdfstring{\_PLAIN\_DECODE}{\_PLAIN\_DECODE}}
{\footnotesize\ttfamily \#define \+\_\+\+PLAIN\+\_\+\+DECODE(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}},  }\item[{}]{\mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}},  }\item[{}]{min\+\_\+bytes,  }\item[{}]{max\+\_\+bytes,  }\item[{}]{out\+\_\+value,  }\item[{}]{out\+\_\+min,  }\item[{}]{out\+\_\+max }\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ out\_min\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}*\textcolor{keyword}{>}(min\_bytes)[0];\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ out\_max\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}*\textcolor{keyword}{>}(max\_bytes)[0];\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ out\_value\ =\ *((\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}*)\mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}});}

\end{DoxyCode}
\mbox{\Hypertarget{parquet__pred__cmp_8h_abf93616113200b9dccb0575763e0c0e4}\label{parquet__pred__cmp_8h_abf93616113200b9dccb0575763e0c0e4}} 
\index{parquet\_pred\_cmp.h@{parquet\_pred\_cmp.h}!\_PLAIN\_DECODE\_SINGLE@{\_PLAIN\_DECODE\_SINGLE}}
\index{\_PLAIN\_DECODE\_SINGLE@{\_PLAIN\_DECODE\_SINGLE}!parquet\_pred\_cmp.h@{parquet\_pred\_cmp.h}}
\doxysubsubsection{\texorpdfstring{\_PLAIN\_DECODE\_SINGLE}{\_PLAIN\_DECODE\_SINGLE}}
{\footnotesize\ttfamily \#define \+\_\+\+PLAIN\+\_\+\+DECODE\+\_\+\+SINGLE(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}},  }\item[{}]{\mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}},  }\item[{}]{bytes,  }\item[{}]{conjunct\+\_\+value,  }\item[{}]{out }\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ out\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}*\textcolor{keyword}{>}(bytes)[0];\ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ conjunct\_value\ =\ *((\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}*)\mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}});}

\end{DoxyCode}
\mbox{\Hypertarget{parquet__pred__cmp_8h_a7481993d1f8b38269364fd612f3dab51}\label{parquet__pred__cmp_8h_a7481993d1f8b38269364fd612f3dab51}} 
\index{parquet\_pred\_cmp.h@{parquet\_pred\_cmp.h}!\_FILTER\_GROUP\_BY\_EQ\_PRED@{\_FILTER\_GROUP\_BY\_EQ\_PRED}}
\index{\_FILTER\_GROUP\_BY\_EQ\_PRED@{\_FILTER\_GROUP\_BY\_EQ\_PRED}!parquet\_pred\_cmp.h@{parquet\_pred\_cmp.h}}
\doxysubsubsection{\texorpdfstring{\_FILTER\_GROUP\_BY\_EQ\_PRED}{\_FILTER\_GROUP\_BY\_EQ\_PRED}}
{\footnotesize\ttfamily \#define \+\_\+\+FILTER\+\_\+\+GROUP\+\_\+\+BY\+\_\+\+EQ\+\_\+\+PRED(\begin{DoxyParamCaption}\item[{}]{conjunct\+\_\+value,  }\item[{}]{min,  }\item[{}]{max }\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (conjunct\_value\ <\ min\ ||\ conjunct\_value\ >\ max)\ \{\ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}
\mbox{\Hypertarget{parquet__pred__cmp_8h_a018b7924bd825ef09488abe3b90fcd81}\label{parquet__pred__cmp_8h_a018b7924bd825ef09488abe3b90fcd81}} 
\index{parquet\_pred\_cmp.h@{parquet\_pred\_cmp.h}!\_FILTER\_GROUP\_BY\_IN@{\_FILTER\_GROUP\_BY\_IN}}
\index{\_FILTER\_GROUP\_BY\_IN@{\_FILTER\_GROUP\_BY\_IN}!parquet\_pred\_cmp.h@{parquet\_pred\_cmp.h}}
\doxysubsubsection{\texorpdfstring{\_FILTER\_GROUP\_BY\_IN}{\_FILTER\_GROUP\_BY\_IN}}
{\footnotesize\ttfamily \#define \+\_\+\+FILTER\+\_\+\+GROUP\+\_\+\+BY\+\_\+\+IN(\begin{DoxyParamCaption}\item[{}]{\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}},  }\item[{}]{in\+\_\+pred\+\_\+values,  }\item[{}]{min\+\_\+bytes,  }\item[{}]{max\+\_\+bytes }\end{DoxyParamCaption})}

{\bfseries 值\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ std::vector<T>\ in\_values;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ for\ (\textcolor{keyword}{auto}\ val\ :\ in\_pred\_values)\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ \mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}}\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}*\textcolor{keyword}{>}(val)[0];\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ in\_values.emplace\_back(\mbox{\hyperlink{util_2types_8h_adae7202c63102b0934c3ac5be41b0dae}{value}});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ if\ (in\_values.empty())\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{auto}\ result\ =\ std::minmax\_element(in\_values.begin(),\ in\_values.end());\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ in\_min\ =\ *result.first;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ in\_max\ =\ *result.second;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ group\_min\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}*\textcolor{keyword}{>}(min\_bytes)[0];\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}\ group\_max\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{exp_8c_a0acb682b8260ab1c60b918599864e2e5}{T}}*\textcolor{keyword}{>}(max\_bytes)[0];\ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ if\ (in\_max\ <\ group\_min\ ||\ in\_min\ >\ group\_max)\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}
